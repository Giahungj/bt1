{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _config = _interopRequireDefault(require(\"dotenv/config\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _viewEngine = _interopRequireDefault(require(\"./viewEngine\"));\nvar _mainRoute = _interopRequireDefault(require(\"./routes/mainRoute\"));\nvar _connect = require(\"./connect\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst app = (0, _express.default)();\n(0, _connect.connect)().then(connection => {\n  console.log(\"Server đã kết nối thành công đến DB\");\n}).catch(error => {\n  console.error(\"Không thể kết nối đến DB:\", error);\n  process.exit(1);\n});\napp.use((0, _expressSession.default)({\n  secret: '4e3a4c94b924b86a737fbb03e75df7e892efb7edc45c3a8e0ef275c9fa8b12ffb51f3a6db2c88231cbf89f9da7a9d0e7b8bb6624f3f5a8b3b93f9575f6b1d1c8',\n  resave: false,\n  saveUninitialized: true,\n  cookie: {\n    secure: false\n  }\n}));\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\nconst port = process.env.PORT;\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\n(0, _viewEngine.default)(app);\napp.use('/', _mainRoute.default);\napp.listen(port, () => {\n  console.log(\"Example app listening on port \".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvbmZpZyIsIl9leHByZXNzU2Vzc2lvbiIsIl9wYXRoIiwiX3ZpZXdFbmdpbmUiLCJfbWFpblJvdXRlIiwiX2Nvbm5lY3QiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJhcHAiLCJleHByZXNzIiwiY29ubmVjdCIsInRoZW4iLCJjb25uZWN0aW9uIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJwcm9jZXNzIiwiZXhpdCIsInVzZSIsInNlc3Npb24iLCJzZWNyZXQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsImNvb2tpZSIsInNlY3VyZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJwb3J0IiwiZW52IiwiUE9SVCIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwidmlld0VuZ2luZSIsIm1haW5Sb3V0ZXMiLCJsaXN0ZW4iLCJjb25jYXQiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudi9jb25maWcnO1xyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgdmlld0VuZ2luZSBmcm9tICcuL3ZpZXdFbmdpbmUnO1xyXG5pbXBvcnQgbWFpblJvdXRlcyBmcm9tICcuL3JvdXRlcy9tYWluUm91dGUnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAnLi9jb25uZWN0J1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuY29ubmVjdCgpXHJcbi50aGVuKGNvbm5lY3Rpb24gPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJTZXJ2ZXIgxJHDoyBr4bq/dCBu4buRaSB0aMOgbmggY8O0bmcgxJHhur9uIERCXCIpXHJcbn0pXHJcbi5jYXRjaChlcnJvciA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiS2jDtG5nIHRo4buDIGvhur90IG7hu5FpIMSR4bq/biBEQjpcIiwgZXJyb3IpXHJcbiAgICBwcm9jZXNzLmV4aXQoMSlcclxufSlcclxuXHJcbmFwcC51c2Uoc2Vzc2lvbih7XHJcbiAgICBzZWNyZXQ6ICc0ZTNhNGM5NGI5MjRiODZhNzM3ZmJiMDNlNzVkZjdlODkyZWZiN2VkYzQ1YzNhOGUwZWYyNzVjOWZhOGIxMmZmYjUxZjNhNmRiMmM4ODIzMWNiZjg5ZjlkYTdhOWQwZTdiOGJiNjYyNGYzZjVhOGIzYjkzZjk1NzVmNmIxZDFjOCcsXHJcbiAgICByZXNhdmU6IGZhbHNlLFxyXG4gICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IHRydWUsXHJcbiAgICBjb29raWU6IHsgc2VjdXJlOiBmYWxzZSB9XHJcbn0pKTtcclxuXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpXHJcblxyXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVFxyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpXHJcbnZpZXdFbmdpbmUoYXBwKVxyXG5cclxuYXBwLnVzZSgnLycsIG1haW5Sb3V0ZXMpXHJcblxyXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGBFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsZUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sUUFBQSxHQUFBTixPQUFBO0FBQW1DLFNBQUFELHVCQUFBUSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRW5DLE1BQU1HLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxFQUFDLENBQUM7QUFFckIsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDLENBQ1JDLElBQUksQ0FBQ0MsVUFBVSxJQUFJO0VBQ2hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQztBQUN0RCxDQUFDLENBQUMsQ0FDREMsS0FBSyxDQUFDQyxLQUFLLElBQUk7RUFDWkgsT0FBTyxDQUFDRyxLQUFLLENBQUMsMkJBQTJCLEVBQUVBLEtBQUssQ0FBQztFQUNqREMsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGVixHQUFHLENBQUNXLEdBQUcsQ0FBQyxJQUFBQyx1QkFBTyxFQUFDO0VBQ1pDLE1BQU0sRUFBRSxrSUFBa0k7RUFDMUlDLE1BQU0sRUFBRSxLQUFLO0VBQ2JDLGlCQUFpQixFQUFFLElBQUk7RUFDdkJDLE1BQU0sRUFBRTtJQUFFQyxNQUFNLEVBQUU7RUFBTTtBQUM1QixDQUFDLENBQUMsQ0FBQztBQUVIakIsR0FBRyxDQUFDVyxHQUFHLENBQUNWLGdCQUFPLENBQUNpQixJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCbEIsR0FBRyxDQUFDVyxHQUFHLENBQUNWLGdCQUFPLENBQUNrQixVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQUM7QUFFL0MsTUFBTUMsSUFBSSxHQUFHWixPQUFPLENBQUNhLEdBQUcsQ0FBQ0MsSUFBSTtBQUM3QnZCLEdBQUcsQ0FBQ1csR0FBRyxDQUFDVixnQkFBTyxDQUFDdUIsTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdkQsSUFBQUMsbUJBQVUsRUFBQzVCLEdBQUcsQ0FBQztBQUVmQSxHQUFHLENBQUNXLEdBQUcsQ0FBQyxHQUFHLEVBQUVrQixrQkFBVSxDQUFDO0FBRXhCN0IsR0FBRyxDQUFDOEIsTUFBTSxDQUFDVCxJQUFJLEVBQUUsTUFBTTtFQUNuQmhCLE9BQU8sQ0FBQ0MsR0FBRyxrQ0FBQXlCLE1BQUEsQ0FBa0NWLElBQUksQ0FBRSxDQUFDO0FBQ3hELENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_config","_expressSession","_path","_viewEngine","_mainRoute","_connect","e","__esModule","default","app","express","connect","then","connection","console","log","catch","error","process","exit","use","session","secret","resave","saveUninitialized","cookie","secure","json","urlencoded","extended","port","env","PORT","static","path","join","__dirname","viewEngine","mainRoutes","listen","concat"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport dotenv from 'dotenv/config';\r\nimport session from 'express-session'\r\nimport path from 'path';\r\nimport viewEngine from './viewEngine';\r\nimport mainRoutes from './routes/mainRoute';\r\nimport { connect } from './connect'\r\n\r\nconst app = express();\r\n\r\nconnect()\r\n.then(connection => {\r\n    console.log(\"Server đã kết nối thành công đến DB\")\r\n})\r\n.catch(error => {\r\n    console.error(\"Không thể kết nối đến DB:\", error)\r\n    process.exit(1)\r\n})\r\n\r\napp.use(session({\r\n    secret: '4e3a4c94b924b86a737fbb03e75df7e892efb7edc45c3a8e0ef275c9fa8b12ffb51f3a6db2c88231cbf89f9da7a9d0e7b8bb6624f3f5a8b3b93f9575f6b1d1c8',\r\n    resave: false,\r\n    saveUninitialized: true,\r\n    cookie: { secure: false }\r\n}));\r\n\r\napp.use(express.json())\r\napp.use(express.urlencoded({ extended: true }))\r\n\r\nconst port = process.env.PORT\r\napp.use(express.static(path.join(__dirname, 'public')))\r\nviewEngine(app)\r\n\r\napp.use('/', mainRoutes)\r\n\r\napp.listen(port, () => {\r\n    console.log(`Example app listening on port ${port}`)\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,QAAA,GAAAN,OAAA;AAAmC,SAAAD,uBAAAQ,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEnC,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErB,IAAAC,gBAAO,EAAC,CAAC,CACRC,IAAI,CAACC,UAAU,IAAI;EAChBC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;AACtD,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;EACZH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;EACjDC,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;AACnB,CAAC,CAAC;AAEFV,GAAG,CAACW,GAAG,CAAC,IAAAC,uBAAO,EAAC;EACZC,MAAM,EAAE,kIAAkI;EAC1IC,MAAM,EAAE,KAAK;EACbC,iBAAiB,EAAE,IAAI;EACvBC,MAAM,EAAE;IAAEC,MAAM,EAAE;EAAM;AAC5B,CAAC,CAAC,CAAC;AAEHjB,GAAG,CAACW,GAAG,CAACV,gBAAO,CAACiB,IAAI,CAAC,CAAC,CAAC;AACvBlB,GAAG,CAACW,GAAG,CAACV,gBAAO,CAACkB,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAE/C,MAAMC,IAAI,GAAGZ,OAAO,CAACa,GAAG,CAACC,IAAI;AAC7BvB,GAAG,CAACW,GAAG,CAACV,gBAAO,CAACuB,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvD,IAAAC,mBAAU,EAAC5B,GAAG,CAAC;AAEfA,GAAG,CAACW,GAAG,CAAC,GAAG,EAAEkB,kBAAU,CAAC;AAExB7B,GAAG,CAAC8B,MAAM,CAACT,IAAI,EAAE,MAAM;EACnBhB,OAAO,CAACC,GAAG,kCAAAyB,MAAA,CAAkCV,IAAI,CAAE,CAAC;AACxD,CAAC,CAAC","ignoreList":[]}},"mtime":1731560428643},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst app = (0, _express.default)();\nconst viewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./views\");\n};\nvar _default = exports.default = viewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsInZpZXdFbmdpbmUiLCJzZXQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuY29uc3Qgdmlld0VuZ2luZSA9IChhcHApID0+IHtcclxuICAgIGFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcclxuICAgIGFwcC5zZXQoXCJ2aWV3c1wiLCBcIi4vdmlld3NcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHZpZXdFbmdpbmU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFDOUIsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUVyQixNQUFNQyxVQUFVLEdBQUlGLEdBQUcsSUFBSztFQUN4QkEsR0FBRyxDQUFDRyxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQztFQUM3QkgsR0FBRyxDQUFDRyxHQUFHLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQztBQUMvQixDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFOLE9BQUEsR0FFY0csVUFBVSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","e","__esModule","default","app","express","viewEngine","set","_default","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\","sources":["viewEngine.js"],"sourcesContent":["import express from 'express';\r\nconst app = express();\r\n\r\nconst viewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\");\r\n    app.set(\"views\", \"./views\");\r\n}\r\n\r\nexport default viewEngine;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAC9B,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErB,MAAMC,UAAU,GAAIF,GAAG,IAAK;EACxBA,GAAG,CAACG,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BH,GAAG,CAACG,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC;AAC/B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEcG,UAAU","ignoreList":[]}},"mtime":1728529678951},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\routes\\\\mainRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _homeController = require(\"../controllers/homeController.js\");\nvar _UserController = require(\"../controllers/UserController.js\");\nvar _aboutController = require(\"../controllers/aboutController.js\");\nvar _contactController = require(\"../controllers/contactController.js\");\nvar _Controller = require(\"../controllers/404Controller.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = _express.default.Router();\nrouter.get('/', _homeController.getHomePage);\nrouter.get('/list-user', _UserController.getUserListPage);\nrouter.get('/detail-user/:username', _UserController.getDetailUserPage);\nrouter.get('/edit-user/:username', _UserController.getEditUserPage);\nrouter.get('/delete-user/:username', _UserController.deleteUser);\nrouter.get('/about', _aboutController.getAboutPage);\nrouter.get('/contact', _contactController.getContactPage);\nrouter.get('/create-new-user', _UserController.getNewUserPage);\nrouter.get('/login', _UserController.getLoginPage);\nrouter.get('/*', _Controller.get404Page);\nrouter.post('/create-new-user', _UserController.createUser);\nrouter.post('/login', _UserController.authAccount);\nrouter.post('/update-user', _UserController.updateUser);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2hvbWVDb250cm9sbGVyIiwiX1VzZXJDb250cm9sbGVyIiwiX2Fib3V0Q29udHJvbGxlciIsIl9jb250YWN0Q29udHJvbGxlciIsIl9Db250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImdldEhvbWVQYWdlIiwiZ2V0VXNlckxpc3RQYWdlIiwiZ2V0RGV0YWlsVXNlclBhZ2UiLCJnZXRFZGl0VXNlclBhZ2UiLCJkZWxldGVVc2VyIiwiZ2V0QWJvdXRQYWdlIiwiZ2V0Q29udGFjdFBhZ2UiLCJnZXROZXdVc2VyUGFnZSIsImdldExvZ2luUGFnZSIsImdldDQwNFBhZ2UiLCJwb3N0IiwiY3JlYXRlVXNlciIsImF1dGhBY2NvdW50IiwidXBkYXRlVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm1haW5Sb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgZ2V0SG9tZVBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9ob21lQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldFVzZXJMaXN0UGFnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0RGV0YWlsVXNlclBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldEVkaXRVc2VyUGFnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0QWJvdXRQYWdlIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvYWJvdXRDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0Q29udGFjdFBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9jb250YWN0Q29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldDQwNFBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy80MDRDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0TmV3VXNlclBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldExvZ2luUGFnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgYXV0aEFjY291bnQgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZVVzZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IHVwZGF0ZVVzZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGRlbGV0ZVVzZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldCgnLycsIGdldEhvbWVQYWdlKTtcclxucm91dGVyLmdldCgnL2xpc3QtdXNlcicsIGdldFVzZXJMaXN0UGFnZSk7XHJcbnJvdXRlci5nZXQoJy9kZXRhaWwtdXNlci86dXNlcm5hbWUnLCBnZXREZXRhaWxVc2VyUGFnZSk7XHJcbnJvdXRlci5nZXQoJy9lZGl0LXVzZXIvOnVzZXJuYW1lJywgZ2V0RWRpdFVzZXJQYWdlKTtcclxucm91dGVyLmdldCgnL2RlbGV0ZS11c2VyLzp1c2VybmFtZScsIGRlbGV0ZVVzZXIpO1xyXG5yb3V0ZXIuZ2V0KCcvYWJvdXQnLCBnZXRBYm91dFBhZ2UpO1xyXG5yb3V0ZXIuZ2V0KCcvY29udGFjdCcsIGdldENvbnRhY3RQYWdlKTtcclxucm91dGVyLmdldCgnL2NyZWF0ZS1uZXctdXNlcicsIGdldE5ld1VzZXJQYWdlKTtcclxucm91dGVyLmdldCgnL2xvZ2luJywgZ2V0TG9naW5QYWdlKTtcclxucm91dGVyLmdldCgnLyonLCBnZXQ0MDRQYWdlKTtcclxuXHJcbnJvdXRlci5wb3N0KCcvY3JlYXRlLW5ldy11c2VyJywgY3JlYXRlVXNlcik7XHJcbnJvdXRlci5wb3N0KCcvbG9naW4nLCBhdXRoQWNjb3VudCk7XHJcbnJvdXRlci5wb3N0KCcvdXBkYXRlLXVzZXInLCB1cGRhdGVVc2VyKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxlQUFBLEdBQUFGLE9BQUE7QUFHQSxJQUFBRyxnQkFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksa0JBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFdBQUEsR0FBQUwsT0FBQTtBQUE2RCxTQUFBRCx1QkFBQU8sQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQVE3RCxNQUFNRyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxHQUFHLEVBQUVDLDJCQUFXLENBQUM7QUFDNUJKLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFlBQVksRUFBRUUsK0JBQWUsQ0FBQztBQUN6Q0wsTUFBTSxDQUFDRyxHQUFHLENBQUMsd0JBQXdCLEVBQUVHLGlDQUFpQixDQUFDO0FBQ3ZETixNQUFNLENBQUNHLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRUksK0JBQWUsQ0FBQztBQUNuRFAsTUFBTSxDQUFDRyxHQUFHLENBQUMsd0JBQXdCLEVBQUVLLDBCQUFVLENBQUM7QUFDaERSLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFFBQVEsRUFBRU0sNkJBQVksQ0FBQztBQUNsQ1QsTUFBTSxDQUFDRyxHQUFHLENBQUMsVUFBVSxFQUFFTyxpQ0FBYyxDQUFDO0FBQ3RDVixNQUFNLENBQUNHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRVEsOEJBQWMsQ0FBQztBQUM5Q1gsTUFBTSxDQUFDRyxHQUFHLENBQUMsUUFBUSxFQUFFUyw0QkFBWSxDQUFDO0FBQ2xDWixNQUFNLENBQUNHLEdBQUcsQ0FBQyxJQUFJLEVBQUVVLHNCQUFVLENBQUM7QUFFNUJiLE1BQU0sQ0FBQ2MsSUFBSSxDQUFDLGtCQUFrQixFQUFFQywwQkFBVSxDQUFDO0FBQzNDZixNQUFNLENBQUNjLElBQUksQ0FBQyxRQUFRLEVBQUVFLDJCQUFXLENBQUM7QUFDbENoQixNQUFNLENBQUNjLElBQUksQ0FBQyxjQUFjLEVBQUVHLDBCQUFVLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQXBCLE9BQUEsR0FFekJDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_homeController","_UserController","_aboutController","_contactController","_Controller","e","__esModule","default","router","express","Router","get","getHomePage","getUserListPage","getDetailUserPage","getEditUserPage","deleteUser","getAboutPage","getContactPage","getNewUserPage","getLoginPage","get404Page","post","createUser","authAccount","updateUser","_default","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\routes\\","sources":["mainRoute.js"],"sourcesContent":["import express from 'express';\r\nimport { getHomePage } from '../controllers/homeController.js';\r\nimport { getUserListPage } from '../controllers/UserController.js';\r\nimport { getDetailUserPage } from '../controllers/UserController.js';\r\nimport { getEditUserPage } from '../controllers/UserController.js';\r\nimport { getAboutPage } from '../controllers/aboutController.js';\r\nimport { getContactPage } from '../controllers/contactController.js';\r\nimport { get404Page } from '../controllers/404Controller.js';\r\nimport { getNewUserPage } from '../controllers/UserController.js';\r\nimport { getLoginPage } from '../controllers/UserController.js';\r\nimport { authAccount } from '../controllers/UserController.js';\r\nimport { createUser } from '../controllers/UserController.js';\r\nimport { updateUser } from '../controllers/UserController.js';\r\nimport { deleteUser } from '../controllers/UserController.js';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', getHomePage);\r\nrouter.get('/list-user', getUserListPage);\r\nrouter.get('/detail-user/:username', getDetailUserPage);\r\nrouter.get('/edit-user/:username', getEditUserPage);\r\nrouter.get('/delete-user/:username', deleteUser);\r\nrouter.get('/about', getAboutPage);\r\nrouter.get('/contact', getContactPage);\r\nrouter.get('/create-new-user', getNewUserPage);\r\nrouter.get('/login', getLoginPage);\r\nrouter.get('/*', get404Page);\r\n\r\nrouter.post('/create-new-user', createUser);\r\nrouter.post('/login', authAccount);\r\nrouter.post('/update-user', updateUser);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,eAAA,GAAAF,OAAA;AAGA,IAAAG,gBAAA,GAAAH,OAAA;AACA,IAAAI,kBAAA,GAAAJ,OAAA;AACA,IAAAK,WAAA,GAAAL,OAAA;AAA6D,SAAAD,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAQ7D,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,GAAG,CAAC,GAAG,EAAEC,2BAAW,CAAC;AAC5BJ,MAAM,CAACG,GAAG,CAAC,YAAY,EAAEE,+BAAe,CAAC;AACzCL,MAAM,CAACG,GAAG,CAAC,wBAAwB,EAAEG,iCAAiB,CAAC;AACvDN,MAAM,CAACG,GAAG,CAAC,sBAAsB,EAAEI,+BAAe,CAAC;AACnDP,MAAM,CAACG,GAAG,CAAC,wBAAwB,EAAEK,0BAAU,CAAC;AAChDR,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEM,6BAAY,CAAC;AAClCT,MAAM,CAACG,GAAG,CAAC,UAAU,EAAEO,iCAAc,CAAC;AACtCV,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEQ,8BAAc,CAAC;AAC9CX,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAES,4BAAY,CAAC;AAClCZ,MAAM,CAACG,GAAG,CAAC,IAAI,EAAEU,sBAAU,CAAC;AAE5Bb,MAAM,CAACc,IAAI,CAAC,kBAAkB,EAAEC,0BAAU,CAAC;AAC3Cf,MAAM,CAACc,IAAI,CAAC,QAAQ,EAAEE,2BAAW,CAAC;AAClChB,MAAM,CAACc,IAAI,CAAC,cAAc,EAAEG,0BAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEzBC,MAAM","ignoreList":[]}},"mtime":1731520895266},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst app = (0, _express.default)();\nconst viewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./views\");\n};\nvar _default = exports.default = viewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsInZpZXdFbmdpbmUiLCJzZXQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuY29uc3Qgdmlld0VuZ2luZSA9IChhcHApID0+IHtcclxuICAgIGFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcclxuICAgIGFwcC5zZXQoXCJ2aWV3c1wiLCBcIi4vdmlld3NcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHZpZXdFbmdpbmU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFDOUIsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUVyQixNQUFNQyxVQUFVLEdBQUlGLEdBQUcsSUFBSztFQUN4QkEsR0FBRyxDQUFDRyxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQztFQUM3QkgsR0FBRyxDQUFDRyxHQUFHLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQztBQUMvQixDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFOLE9BQUEsR0FFY0csVUFBVSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","e","__esModule","default","app","express","viewEngine","set","_default","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\","sources":["viewEngine.js"],"sourcesContent":["import express from 'express';\r\nconst app = express();\r\n\r\nconst viewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\");\r\n    app.set(\"views\", \"./views\");\r\n}\r\n\r\nexport default viewEngine;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAC9B,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErB,MAAMC,UAAU,GAAIF,GAAG,IAAK;EACxBA,GAAG,CAACG,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BH,GAAG,CAACG,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC;AAC/B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEcG,UAAU","ignoreList":[]}},"mtime":1728529678951},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\routes\\\\mainRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _homeController = require(\"../controllers/homeController.js\");\nvar _aboutController = require(\"../controllers/aboutController.js\");\nvar _contactController = require(\"../controllers/contactController.js\");\nvar _UserController = require(\"../controllers/UserController.js\");\nvar _Controller = require(\"../controllers/404Controller.js\");\nvar _productController = require(\"../controllers/productController.js\");\nvar _authMiddleware = require(\"../middleware/authMiddleware.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = _express.default.Router();\nrouter.get('/', _homeController.getHomePage);\nrouter.get('/about', _aboutController.getAboutPage);\nrouter.get('/contact', _contactController.getContactPage);\nrouter.get('/create-new-user', _UserController.getNewUserPage);\nrouter.get('/login', _UserController.getLoginPage);\nrouter.get('/logout', (req, res) => {\n  req.session.destroy(err => {\n    if (err) {\n      return res.redirect('/');\n    }\n    res.redirect('/');\n  });\n});\nrouter.get('/list-product', _authMiddleware.isAdmin, _productController.getProductListPage);\nrouter.get('/add-product', _authMiddleware.isAdmin, _productController.getAddProductPage);\nrouter.get('/detail-product/:productname', _authMiddleware.isAdmin, _productController.getDetailProductPage);\nrouter.get('/edit-product/:productname', _authMiddleware.isAdmin, _productController.getEditProductPage);\nrouter.post('/add-product', _authMiddleware.isAdmin, _productController.createProduct);\nrouter.post('/update-product', _authMiddleware.isAdmin, _productController.updateProduct);\nrouter.get('/list-user', _authMiddleware.isAdmin, _UserController.getUserListPage);\nrouter.get('/detail-user/:username', _authMiddleware.isAdmin, _UserController.getDetailUserPage);\nrouter.get('/edit-user/:username', _authMiddleware.isAdmin, _UserController.getEditUserPage);\nrouter.get('/delete-user/:username', _authMiddleware.isAdmin, _UserController.deleteUser);\nrouter.post('/create-new-user', _UserController.createUser);\nrouter.post('/login', _UserController.authAccount);\nrouter.post('/update-user', _authMiddleware.isAdmin, _UserController.updateUser);\n\n// Route 404 nên được đặt ở cuối\nrouter.get('/*', _Controller.get404Page);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2hvbWVDb250cm9sbGVyIiwiX2Fib3V0Q29udHJvbGxlciIsIl9jb250YWN0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9Db250cm9sbGVyIiwiX3Byb2R1Y3RDb250cm9sbGVyIiwiX2F1dGhNaWRkbGV3YXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImdldEhvbWVQYWdlIiwiZ2V0QWJvdXRQYWdlIiwiZ2V0Q29udGFjdFBhZ2UiLCJnZXROZXdVc2VyUGFnZSIsImdldExvZ2luUGFnZSIsInJlcSIsInJlcyIsInNlc3Npb24iLCJkZXN0cm95IiwiZXJyIiwicmVkaXJlY3QiLCJpc0FkbWluIiwiZ2V0UHJvZHVjdExpc3RQYWdlIiwiZ2V0QWRkUHJvZHVjdFBhZ2UiLCJnZXREZXRhaWxQcm9kdWN0UGFnZSIsImdldEVkaXRQcm9kdWN0UGFnZSIsInBvc3QiLCJjcmVhdGVQcm9kdWN0IiwidXBkYXRlUHJvZHVjdCIsImdldFVzZXJMaXN0UGFnZSIsImdldERldGFpbFVzZXJQYWdlIiwiZ2V0RWRpdFVzZXJQYWdlIiwiZGVsZXRlVXNlciIsImNyZWF0ZVVzZXIiLCJhdXRoQWNjb3VudCIsInVwZGF0ZVVzZXIiLCJnZXQ0MDRQYWdlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsibWFpblJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBnZXRIb21lUGFnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2hvbWVDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0QWJvdXRQYWdlIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvYWJvdXRDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0Q29udGFjdFBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9jb250YWN0Q29udHJvbGxlci5qcyc7XHJcblxyXG5pbXBvcnQgeyBnZXRVc2VyTGlzdFBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldERldGFpbFVzZXJQYWdlIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBnZXRFZGl0VXNlclBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldDQwNFBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy80MDRDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0TmV3VXNlclBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldExvZ2luUGFnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgYXV0aEFjY291bnQgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZVVzZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IHVwZGF0ZVVzZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGRlbGV0ZVVzZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyc7XHJcblxyXG5pbXBvcnQgeyBnZXRQcm9kdWN0TGlzdFBhZ2UgfSBmcm9tICcuLi9jb250cm9sbGVycy9wcm9kdWN0Q29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGdldEFkZFByb2R1Y3RQYWdlIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVQcm9kdWN0IH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyBnZXREZXRhaWxQcm9kdWN0UGFnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL3Byb2R1Y3RDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgZ2V0RWRpdFByb2R1Y3RQYWdlIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXIuanMnO1xyXG5pbXBvcnQgeyB1cGRhdGVQcm9kdWN0IH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXIuanMnO1xyXG5cclxuaW1wb3J0IHsgaXNBZG1pbiB9IGZyb20gJy4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmUuanMnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBnZXRIb21lUGFnZSk7XHJcbnJvdXRlci5nZXQoJy9hYm91dCcsIGdldEFib3V0UGFnZSk7XHJcbnJvdXRlci5nZXQoJy9jb250YWN0JywgZ2V0Q29udGFjdFBhZ2UpO1xyXG5yb3V0ZXIuZ2V0KCcvY3JlYXRlLW5ldy11c2VyJywgZ2V0TmV3VXNlclBhZ2UpO1xyXG5yb3V0ZXIuZ2V0KCcvbG9naW4nLCBnZXRMb2dpblBhZ2UpO1xyXG5yb3V0ZXIuZ2V0KCcvbG9nb3V0JywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXEuc2Vzc2lvbi5kZXN0cm95KChlcnIpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoJy8nKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXMucmVkaXJlY3QoJy8nKVxyXG4gICAgfSlcclxufSlcclxuXHJcbnJvdXRlci5nZXQoJy9saXN0LXByb2R1Y3QnLCBpc0FkbWluLCBnZXRQcm9kdWN0TGlzdFBhZ2UpO1xyXG5yb3V0ZXIuZ2V0KCcvYWRkLXByb2R1Y3QnLCBpc0FkbWluLCBnZXRBZGRQcm9kdWN0UGFnZSk7XHJcbnJvdXRlci5nZXQoJy9kZXRhaWwtcHJvZHVjdC86cHJvZHVjdG5hbWUnLCBpc0FkbWluLCBnZXREZXRhaWxQcm9kdWN0UGFnZSk7XHJcbnJvdXRlci5nZXQoJy9lZGl0LXByb2R1Y3QvOnByb2R1Y3RuYW1lJywgaXNBZG1pbiwgZ2V0RWRpdFByb2R1Y3RQYWdlKTtcclxuXHJcbnJvdXRlci5wb3N0KCcvYWRkLXByb2R1Y3QnLCBpc0FkbWluLCBjcmVhdGVQcm9kdWN0KTtcclxucm91dGVyLnBvc3QoJy91cGRhdGUtcHJvZHVjdCcsIGlzQWRtaW4sIHVwZGF0ZVByb2R1Y3QpO1xyXG5cclxucm91dGVyLmdldCgnL2xpc3QtdXNlcicsIGlzQWRtaW4sIGdldFVzZXJMaXN0UGFnZSk7XHJcbnJvdXRlci5nZXQoJy9kZXRhaWwtdXNlci86dXNlcm5hbWUnLCBpc0FkbWluLCBnZXREZXRhaWxVc2VyUGFnZSk7XHJcbnJvdXRlci5nZXQoJy9lZGl0LXVzZXIvOnVzZXJuYW1lJywgaXNBZG1pbiwgZ2V0RWRpdFVzZXJQYWdlKTtcclxucm91dGVyLmdldCgnL2RlbGV0ZS11c2VyLzp1c2VybmFtZScsIGlzQWRtaW4sIGRlbGV0ZVVzZXIpO1xyXG5cclxucm91dGVyLnBvc3QoJy9jcmVhdGUtbmV3LXVzZXInLCBjcmVhdGVVc2VyKTtcclxucm91dGVyLnBvc3QoJy9sb2dpbicsIGF1dGhBY2NvdW50KTtcclxucm91dGVyLnBvc3QoJy91cGRhdGUtdXNlcicsIGlzQWRtaW4sIHVwZGF0ZVVzZXIpO1xyXG5cclxuLy8gUm91dGUgNDA0IG7Dqm4gxJHGsOG7o2MgxJHhurd0IOG7nyBjdeG7kWlcclxucm91dGVyLmdldCgnLyonLCBnZXQ0MDRQYWdlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxnQkFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUgsT0FBQTtBQUVBLElBQUFJLGVBQUEsR0FBQUosT0FBQTtBQUdBLElBQUFLLFdBQUEsR0FBQUwsT0FBQTtBQVFBLElBQUFNLGtCQUFBLEdBQUFOLE9BQUE7QUFPQSxJQUFBTyxlQUFBLEdBQUFQLE9BQUE7QUFBMEQsU0FBQUQsdUJBQUFTLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFMUQsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFQywyQkFBVyxDQUFDO0FBQzVCSixNQUFNLENBQUNHLEdBQUcsQ0FBQyxRQUFRLEVBQUVFLDZCQUFZLENBQUM7QUFDbENMLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFVBQVUsRUFBRUcsaUNBQWMsQ0FBQztBQUN0Q04sTUFBTSxDQUFDRyxHQUFHLENBQUMsa0JBQWtCLEVBQUVJLDhCQUFjLENBQUM7QUFDOUNQLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFFBQVEsRUFBRUssNEJBQVksQ0FBQztBQUNsQ1IsTUFBTSxDQUFDRyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUNNLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2hDRCxHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsT0FBTyxDQUFFQyxHQUFHLElBQUs7SUFDekIsSUFBSUEsR0FBRyxFQUFFO01BQ0wsT0FBT0gsR0FBRyxDQUFDSSxRQUFRLENBQUMsR0FBRyxDQUFDO0lBQzVCO0lBQ0FKLEdBQUcsQ0FBQ0ksUUFBUSxDQUFDLEdBQUcsQ0FBQztFQUNyQixDQUFDLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRmQsTUFBTSxDQUFDRyxHQUFHLENBQUMsZUFBZSxFQUFFWSx1QkFBTyxFQUFFQyxxQ0FBa0IsQ0FBQztBQUN4RGhCLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBRVksdUJBQU8sRUFBRUUsb0NBQWlCLENBQUM7QUFDdERqQixNQUFNLENBQUNHLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRVksdUJBQU8sRUFBRUcsdUNBQW9CLENBQUM7QUFDekVsQixNQUFNLENBQUNHLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRVksdUJBQU8sRUFBRUkscUNBQWtCLENBQUM7QUFFckVuQixNQUFNLENBQUNvQixJQUFJLENBQUMsY0FBYyxFQUFFTCx1QkFBTyxFQUFFTSxnQ0FBYSxDQUFDO0FBQ25EckIsTUFBTSxDQUFDb0IsSUFBSSxDQUFDLGlCQUFpQixFQUFFTCx1QkFBTyxFQUFFTyxnQ0FBYSxDQUFDO0FBRXREdEIsTUFBTSxDQUFDRyxHQUFHLENBQUMsWUFBWSxFQUFFWSx1QkFBTyxFQUFFUSwrQkFBZSxDQUFDO0FBQ2xEdkIsTUFBTSxDQUFDRyxHQUFHLENBQUMsd0JBQXdCLEVBQUVZLHVCQUFPLEVBQUVTLGlDQUFpQixDQUFDO0FBQ2hFeEIsTUFBTSxDQUFDRyxHQUFHLENBQUMsc0JBQXNCLEVBQUVZLHVCQUFPLEVBQUVVLCtCQUFlLENBQUM7QUFDNUR6QixNQUFNLENBQUNHLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRVksdUJBQU8sRUFBRVcsMEJBQVUsQ0FBQztBQUV6RDFCLE1BQU0sQ0FBQ29CLElBQUksQ0FBQyxrQkFBa0IsRUFBRU8sMEJBQVUsQ0FBQztBQUMzQzNCLE1BQU0sQ0FBQ29CLElBQUksQ0FBQyxRQUFRLEVBQUVRLDJCQUFXLENBQUM7QUFDbEM1QixNQUFNLENBQUNvQixJQUFJLENBQUMsY0FBYyxFQUFFTCx1QkFBTyxFQUFFYywwQkFBVSxDQUFDOztBQUVoRDtBQUNBN0IsTUFBTSxDQUFDRyxHQUFHLENBQUMsSUFBSSxFQUFFMkIsc0JBQVUsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBakMsT0FBQSxHQUVkQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_homeController","_aboutController","_contactController","_UserController","_Controller","_productController","_authMiddleware","e","__esModule","default","router","express","Router","get","getHomePage","getAboutPage","getContactPage","getNewUserPage","getLoginPage","req","res","session","destroy","err","redirect","isAdmin","getProductListPage","getAddProductPage","getDetailProductPage","getEditProductPage","post","createProduct","updateProduct","getUserListPage","getDetailUserPage","getEditUserPage","deleteUser","createUser","authAccount","updateUser","get404Page","_default","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\routes\\","sources":["mainRoute.js"],"sourcesContent":["import express from 'express';\r\nimport { getHomePage } from '../controllers/homeController.js';\r\nimport { getAboutPage } from '../controllers/aboutController.js';\r\nimport { getContactPage } from '../controllers/contactController.js';\r\n\r\nimport { getUserListPage } from '../controllers/UserController.js';\r\nimport { getDetailUserPage } from '../controllers/UserController.js';\r\nimport { getEditUserPage } from '../controllers/UserController.js';\r\nimport { get404Page } from '../controllers/404Controller.js';\r\nimport { getNewUserPage } from '../controllers/UserController.js';\r\nimport { getLoginPage } from '../controllers/UserController.js';\r\nimport { authAccount } from '../controllers/UserController.js';\r\nimport { createUser } from '../controllers/UserController.js';\r\nimport { updateUser } from '../controllers/UserController.js';\r\nimport { deleteUser } from '../controllers/UserController.js';\r\n\r\nimport { getProductListPage } from '../controllers/productController.js';\r\nimport { getAddProductPage } from '../controllers/productController.js';\r\nimport { createProduct } from '../controllers/productController.js';\r\nimport { getDetailProductPage } from '../controllers/productController.js';\r\nimport { getEditProductPage } from '../controllers/productController.js';\r\nimport { updateProduct } from '../controllers/productController.js';\r\n\r\nimport { isAdmin } from '../middleware/authMiddleware.js';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', getHomePage);\r\nrouter.get('/about', getAboutPage);\r\nrouter.get('/contact', getContactPage);\r\nrouter.get('/create-new-user', getNewUserPage);\r\nrouter.get('/login', getLoginPage);\r\nrouter.get('/logout', (req, res) => {\r\n    req.session.destroy((err) => {\r\n        if (err) {\r\n            return res.redirect('/')\r\n        }\r\n        res.redirect('/')\r\n    })\r\n})\r\n\r\nrouter.get('/list-product', isAdmin, getProductListPage);\r\nrouter.get('/add-product', isAdmin, getAddProductPage);\r\nrouter.get('/detail-product/:productname', isAdmin, getDetailProductPage);\r\nrouter.get('/edit-product/:productname', isAdmin, getEditProductPage);\r\n\r\nrouter.post('/add-product', isAdmin, createProduct);\r\nrouter.post('/update-product', isAdmin, updateProduct);\r\n\r\nrouter.get('/list-user', isAdmin, getUserListPage);\r\nrouter.get('/detail-user/:username', isAdmin, getDetailUserPage);\r\nrouter.get('/edit-user/:username', isAdmin, getEditUserPage);\r\nrouter.get('/delete-user/:username', isAdmin, deleteUser);\r\n\r\nrouter.post('/create-new-user', createUser);\r\nrouter.post('/login', authAccount);\r\nrouter.post('/update-user', isAdmin, updateUser);\r\n\r\n// Route 404 nên được đặt ở cuối\r\nrouter.get('/*', get404Page);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,gBAAA,GAAAF,OAAA;AACA,IAAAG,kBAAA,GAAAH,OAAA;AAEA,IAAAI,eAAA,GAAAJ,OAAA;AAGA,IAAAK,WAAA,GAAAL,OAAA;AAQA,IAAAM,kBAAA,GAAAN,OAAA;AAOA,IAAAO,eAAA,GAAAP,OAAA;AAA0D,SAAAD,uBAAAS,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE1D,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,GAAG,CAAC,GAAG,EAAEC,2BAAW,CAAC;AAC5BJ,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEE,6BAAY,CAAC;AAClCL,MAAM,CAACG,GAAG,CAAC,UAAU,EAAEG,iCAAc,CAAC;AACtCN,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEI,8BAAc,CAAC;AAC9CP,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEK,4BAAY,CAAC;AAClCR,MAAM,CAACG,GAAG,CAAC,SAAS,EAAE,CAACM,GAAG,EAAEC,GAAG,KAAK;EAChCD,GAAG,CAACE,OAAO,CAACC,OAAO,CAAEC,GAAG,IAAK;IACzB,IAAIA,GAAG,EAAE;MACL,OAAOH,GAAG,CAACI,QAAQ,CAAC,GAAG,CAAC;IAC5B;IACAJ,GAAG,CAACI,QAAQ,CAAC,GAAG,CAAC;EACrB,CAAC,CAAC;AACN,CAAC,CAAC;AAEFd,MAAM,CAACG,GAAG,CAAC,eAAe,EAAEY,uBAAO,EAAEC,qCAAkB,CAAC;AACxDhB,MAAM,CAACG,GAAG,CAAC,cAAc,EAAEY,uBAAO,EAAEE,oCAAiB,CAAC;AACtDjB,MAAM,CAACG,GAAG,CAAC,8BAA8B,EAAEY,uBAAO,EAAEG,uCAAoB,CAAC;AACzElB,MAAM,CAACG,GAAG,CAAC,4BAA4B,EAAEY,uBAAO,EAAEI,qCAAkB,CAAC;AAErEnB,MAAM,CAACoB,IAAI,CAAC,cAAc,EAAEL,uBAAO,EAAEM,gCAAa,CAAC;AACnDrB,MAAM,CAACoB,IAAI,CAAC,iBAAiB,EAAEL,uBAAO,EAAEO,gCAAa,CAAC;AAEtDtB,MAAM,CAACG,GAAG,CAAC,YAAY,EAAEY,uBAAO,EAAEQ,+BAAe,CAAC;AAClDvB,MAAM,CAACG,GAAG,CAAC,wBAAwB,EAAEY,uBAAO,EAAES,iCAAiB,CAAC;AAChExB,MAAM,CAACG,GAAG,CAAC,sBAAsB,EAAEY,uBAAO,EAAEU,+BAAe,CAAC;AAC5DzB,MAAM,CAACG,GAAG,CAAC,wBAAwB,EAAEY,uBAAO,EAAEW,0BAAU,CAAC;AAEzD1B,MAAM,CAACoB,IAAI,CAAC,kBAAkB,EAAEO,0BAAU,CAAC;AAC3C3B,MAAM,CAACoB,IAAI,CAAC,QAAQ,EAAEQ,2BAAW,CAAC;AAClC5B,MAAM,CAACoB,IAAI,CAAC,cAAc,EAAEL,uBAAO,EAAEc,0BAAU,CAAC;;AAEhD;AACA7B,MAAM,CAACG,GAAG,CAAC,IAAI,EAAE2B,sBAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1731604166145},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\homeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getHomePage = void 0;\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.promise.js\");\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nvar _UserController = require(\"./UserController\");\nvar _useModel = require(\"../model/useModel\");\nconst getHomePage = async (req, res) => {\n  // Kiểm tra sessionData trước khi truy xuất thuộc tính\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  const usernameSession = sessionData ? sessionData.usernameSession : '';\n  const roleSession = sessionData ? sessionData.roleSession : '';\n\n  // Xác định trang, số lượng mục trên mỗi trang và vị trí bắt đầu\n  const page = parseInt(req.query.page) || 1;\n  const limit = 10;\n  const offset = (page - 1) * limit;\n  try {\n    // Lấy danh sách người dùng và tổng số người dùng để phân trang\n    const users = await (0, _UserController.getUserListData)(offset, limit);\n    const totalUsers = await (0, _useModel.getTotalUsers)();\n    const totalPages = Math.ceil(totalUsers / limit);\n\n    // Render trang với các dữ liệu cần thiết\n    return res.render('layout', {\n      page: 'pages/home',\n      title: 'Trang chủ',\n      deleteErrorMessage: '',\n      deleteSuccessMessage: '',\n      users,\n      currentPage: page,\n      totalPages,\n      offset,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error('Lỗi khi tải danh sách người dùng:', error);\n    res.status(500).send(\"Đã xảy ra lỗi trong quá trình tải trang chủ\");\n  }\n};\nexports.getHomePage = getHomePage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiX1VzZXJDb250cm9sbGVyIiwiX3VzZU1vZGVsIiwiZ2V0SG9tZVBhZ2UiLCJyZXEiLCJyZXMiLCJzZXNzaW9uRGF0YSIsImdldFNlc3Npb25EYXRhIiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJwYWdlIiwicGFyc2VJbnQiLCJxdWVyeSIsImxpbWl0Iiwib2Zmc2V0IiwidXNlcnMiLCJnZXRVc2VyTGlzdERhdGEiLCJ0b3RhbFVzZXJzIiwiZ2V0VG90YWxVc2VycyIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsInJlbmRlciIsInRpdGxlIiwiZGVsZXRlRXJyb3JNZXNzYWdlIiwiZGVsZXRlU3VjY2Vzc01lc3NhZ2UiLCJjdXJyZW50UGFnZSIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsInNlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJob21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uRGF0YSB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCJcclxuaW1wb3J0IHsgZ2V0VXNlckxpc3REYXRhIH0gZnJvbSBcIi4vVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgeyBnZXRUb3RhbFVzZXJzIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRIb21lUGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgLy8gS2nhu4NtIHRyYSBzZXNzaW9uRGF0YSB0csaw4bubYyBraGkgdHJ1eSB4deG6pXQgdGh14buZYyB0w61uaFxyXG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRGF0YShyZXEpXHJcbiAgICBjb25zdCB1c2VybmFtZVNlc3Npb24gPSBzZXNzaW9uRGF0YSA/IHNlc3Npb25EYXRhLnVzZXJuYW1lU2Vzc2lvbiA6ICcnXHJcbiAgICBjb25zdCByb2xlU2Vzc2lvbiA9IHNlc3Npb25EYXRhID8gc2Vzc2lvbkRhdGEucm9sZVNlc3Npb24gOiAnJ1xyXG4gICAgXHJcbiAgICAvLyBYw6FjIMSR4buLbmggdHJhbmcsIHPhu5EgbMaw4bujbmcgbeG7pWMgdHLDqm4gbeG7l2kgdHJhbmcgdsOgIHbhu4sgdHLDrSBi4bqvdCDEkeG6p3VcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChyZXEucXVlcnkucGFnZSkgfHwgMVxyXG4gICAgY29uc3QgbGltaXQgPSAxMFxyXG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBM4bqleSBkYW5oIHPDoWNoIG5nxrDhu51pIGTDuW5nIHbDoCB04buVbmcgc+G7kSBuZ8aw4budaSBkw7luZyDEkeG7gyBwaMOibiB0cmFuZ1xyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlckxpc3REYXRhKG9mZnNldCwgbGltaXQpXHJcbiAgICAgICAgY29uc3QgdG90YWxVc2VycyA9IGF3YWl0IGdldFRvdGFsVXNlcnMoKVxyXG4gICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxVc2VycyAvIGxpbWl0KVxyXG5cclxuICAgICAgICAvLyBSZW5kZXIgdHJhbmcgduG7m2kgY8OhYyBk4buvIGxp4buHdSBj4bqnbiB0aGnhur90XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2hvbWUnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1RyYW5nIGNo4bunJyxcclxuICAgICAgICAgICAgZGVsZXRlRXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZGVsZXRlU3VjY2Vzc01lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICB1c2VycyxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgIHRvdGFsUGFnZXMsXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvbixcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgdOG6o2kgZGFuaCBzw6FjaCBuZ8aw4budaSBkw7luZzonLCBlcnJvcilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIsSQw6MgeOG6o3kgcmEgbOG7l2kgdHJvbmcgcXXDoSB0csOsbmggdOG6o2kgdHJhbmcgY2jhu6dcIilcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBRixPQUFBO0FBRU8sTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNDO0VBQ0EsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztFQUN2QyxNQUFNSSxlQUFlLEdBQUdGLFdBQVcsR0FBR0EsV0FBVyxDQUFDRSxlQUFlLEdBQUcsRUFBRTtFQUN0RSxNQUFNQyxXQUFXLEdBQUdILFdBQVcsR0FBR0EsV0FBVyxDQUFDRyxXQUFXLEdBQUcsRUFBRTs7RUFFOUQ7RUFDQSxNQUFNQyxJQUFJLEdBQUdDLFFBQVEsQ0FBQ1AsR0FBRyxDQUFDUSxLQUFLLENBQUNGLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDMUMsTUFBTUcsS0FBSyxHQUFHLEVBQUU7RUFDaEIsTUFBTUMsTUFBTSxHQUFHLENBQUNKLElBQUksR0FBRyxDQUFDLElBQUlHLEtBQUs7RUFFakMsSUFBSTtJQUNBO0lBQ0EsTUFBTUUsS0FBSyxHQUFHLE1BQU0sSUFBQUMsK0JBQWUsRUFBQ0YsTUFBTSxFQUFFRCxLQUFLLENBQUM7SUFDbEQsTUFBTUksVUFBVSxHQUFHLE1BQU0sSUFBQUMsdUJBQWEsRUFBQyxDQUFDO0lBQ3hDLE1BQU1DLFVBQVUsR0FBR0MsSUFBSSxDQUFDQyxJQUFJLENBQUNKLFVBQVUsR0FBR0osS0FBSyxDQUFDOztJQUVoRDtJQUNBLE9BQU9SLEdBQUcsQ0FBQ2lCLE1BQU0sQ0FBQyxRQUFRLEVBQUU7TUFDeEJaLElBQUksRUFBRSxZQUFZO01BQ2xCYSxLQUFLLEVBQUUsV0FBVztNQUNsQkMsa0JBQWtCLEVBQUUsRUFBRTtNQUN0QkMsb0JBQW9CLEVBQUUsRUFBRTtNQUN4QlYsS0FBSztNQUNMVyxXQUFXLEVBQUVoQixJQUFJO01BQ2pCUyxVQUFVO01BQ1ZMLE1BQU07TUFDTk4sZUFBZTtNQUNmQztJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQyxPQUFPa0IsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLG1DQUFtQyxFQUFFQSxLQUFLLENBQUM7SUFDekR0QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw2Q0FBNkMsQ0FBQztFQUN2RTtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBNUIsV0FBQSxHQUFBQSxXQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_authMiddleware","require","_UserController","_useModel","getHomePage","req","res","sessionData","getSessionData","usernameSession","roleSession","page","parseInt","query","limit","offset","users","getUserListData","totalUsers","getTotalUsers","totalPages","Math","ceil","render","title","deleteErrorMessage","deleteSuccessMessage","currentPage","error","console","status","send","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["homeController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\nimport { getUserListData } from \"./UserController\"\r\nimport { getTotalUsers } from \"../model/useModel\"\r\n\r\nexport const getHomePage = async (req, res) => {\r\n    // Kiểm tra sessionData trước khi truy xuất thuộc tính\r\n    const sessionData = getSessionData(req)\r\n    const usernameSession = sessionData ? sessionData.usernameSession : ''\r\n    const roleSession = sessionData ? sessionData.roleSession : ''\r\n    \r\n    // Xác định trang, số lượng mục trên mỗi trang và vị trí bắt đầu\r\n    const page = parseInt(req.query.page) || 1\r\n    const limit = 10\r\n    const offset = (page - 1) * limit\r\n\r\n    try {\r\n        // Lấy danh sách người dùng và tổng số người dùng để phân trang\r\n        const users = await getUserListData(offset, limit)\r\n        const totalUsers = await getTotalUsers()\r\n        const totalPages = Math.ceil(totalUsers / limit)\r\n\r\n        // Render trang với các dữ liệu cần thiết\r\n        return res.render('layout', {\r\n            page: 'pages/home',\r\n            title: 'Trang chủ',\r\n            deleteErrorMessage: '',\r\n            deleteSuccessMessage: '',\r\n            users,\r\n            currentPage: page,\r\n            totalPages,\r\n            offset,\r\n            usernameSession,\r\n            roleSession,\r\n        })\r\n    } catch (error) {\r\n        console.error('Lỗi khi tải danh sách người dùng:', error)\r\n        res.status(500).send(\"Đã xảy ra lỗi trong quá trình tải trang chủ\")\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAEO,MAAMG,WAAW,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC3C;EACA,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EACvC,MAAMI,eAAe,GAAGF,WAAW,GAAGA,WAAW,CAACE,eAAe,GAAG,EAAE;EACtE,MAAMC,WAAW,GAAGH,WAAW,GAAGA,WAAW,CAACG,WAAW,GAAG,EAAE;;EAE9D;EACA,MAAMC,IAAI,GAAGC,QAAQ,CAACP,GAAG,CAACQ,KAAK,CAACF,IAAI,CAAC,IAAI,CAAC;EAC1C,MAAMG,KAAK,GAAG,EAAE;EAChB,MAAMC,MAAM,GAAG,CAACJ,IAAI,GAAG,CAAC,IAAIG,KAAK;EAEjC,IAAI;IACA;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,+BAAe,EAACF,MAAM,EAAED,KAAK,CAAC;IAClD,MAAMI,UAAU,GAAG,MAAM,IAAAC,uBAAa,EAAC,CAAC;IACxC,MAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,UAAU,GAAGJ,KAAK,CAAC;;IAEhD;IACA,OAAOR,GAAG,CAACiB,MAAM,CAAC,QAAQ,EAAE;MACxBZ,IAAI,EAAE,YAAY;MAClBa,KAAK,EAAE,WAAW;MAClBC,kBAAkB,EAAE,EAAE;MACtBC,oBAAoB,EAAE,EAAE;MACxBV,KAAK;MACLW,WAAW,EAAEhB,IAAI;MACjBS,UAAU;MACVL,MAAM;MACNN,eAAe;MACfC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IACzDtB,GAAG,CAACwB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,6CAA6C,CAAC;EACvE;AACJ,CAAC;AAAAC,OAAA,CAAA5B,WAAA,GAAAA,WAAA","ignoreList":[]}},"mtime":1731599979040},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\aboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAboutPage = void 0;\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nconst getAboutPage = (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.render('layout', {\n      page: 'pages/about',\n      title: 'Về trang web',\n      usernameSession: '',\n      roleSession: ''\n    });\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  return res.render('layout', {\n    page: 'pages/about',\n    title: 'Về trang web',\n    usernameSession,\n    roleSession\n  });\n};\nexports.getAboutPage = getAboutPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0QWJvdXRQYWdlIiwicmVxIiwicmVzIiwic2Vzc2lvbkRhdGEiLCJnZXRTZXNzaW9uRGF0YSIsInJlbmRlciIsInBhZ2UiLCJ0aXRsZSIsInVzZXJuYW1lU2Vzc2lvbiIsInJvbGVTZXNzaW9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYWJvdXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb25EYXRhIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmVcIlxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFib3V0UGFnZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRGF0YShyZXEpXHJcblxyXG4gICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9hYm91dCcsIFxyXG4gICAgICAgICAgICB0aXRsZTogJ1bhu4EgdHJhbmcgd2ViJyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uOiAnJyxcclxuICAgICAgICAgICAgcm9sZVNlc3Npb246ICcnXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0Jywge1xyXG4gICAgICAgIHBhZ2U6ICdwYWdlcy9hYm91dCcsIFxyXG4gICAgICAgIHRpdGxlOiAnVuG7gSB0cmFuZyB3ZWInLFxyXG4gICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgIH0pXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGVBQUEsR0FBQUMsT0FBQTtBQUVPLE1BQU1DLFlBQVksR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztFQUV2QyxJQUFJLENBQUNFLFdBQVcsRUFBRTtJQUNkLE9BQU9ELEdBQUcsQ0FBQ0csTUFBTSxDQUFDLFFBQVEsRUFBRTtNQUN4QkMsSUFBSSxFQUFFLGFBQWE7TUFDbkJDLEtBQUssRUFBRSxjQUFjO01BQ3JCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsV0FBVyxFQUFFO0lBQ2pCLENBQUMsQ0FBQztFQUNOO0VBQ0EsTUFBTTtJQUFFRCxlQUFlO0lBQUVDO0VBQVksQ0FBQyxHQUFHTixXQUFXO0VBRXBELE9BQU9ELEdBQUcsQ0FBQ0csTUFBTSxDQUFDLFFBQVEsRUFBRTtJQUN4QkMsSUFBSSxFQUFFLGFBQWE7SUFDbkJDLEtBQUssRUFBRSxjQUFjO0lBQ3JCQyxlQUFlO0lBQ2ZDO0VBQ0gsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUFBQyxPQUFBLENBQUFWLFlBQUEsR0FBQUEsWUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_authMiddleware","require","getAboutPage","req","res","sessionData","getSessionData","render","page","title","usernameSession","roleSession","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["aboutController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\n\r\nexport const getAboutPage = (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.render('layout', {\r\n            page: 'pages/about', \r\n            title: 'Về trang web',\r\n            usernameSession: '',\r\n            roleSession: ''\r\n        })\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    return res.render('layout', {\r\n        page: 'pages/about', \r\n        title: 'Về trang web',\r\n        usernameSession,\r\n        roleSession\r\n     })\r\n}"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEO,MAAMC,YAAY,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACtC,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;MACxBC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAE,cAAc;MACrBC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE;IACjB,CAAC,CAAC;EACN;EACA,MAAM;IAAED,eAAe;IAAEC;EAAY,CAAC,GAAGN,WAAW;EAEpD,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;IACxBC,IAAI,EAAE,aAAa;IACnBC,KAAK,EAAE,cAAc;IACrBC,eAAe;IACfC;EACH,CAAC,CAAC;AACP,CAAC;AAAAC,OAAA,CAAAV,YAAA,GAAAA,YAAA","ignoreList":[]}},"mtime":1731579102143},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\contactController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContactPage = void 0;\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nconst getContactPage = (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.render('layout', {\n      page: 'pages/contact',\n      title: 'Liên hệ',\n      usernameSession: '',\n      roleSession: ''\n    });\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  return res.render('layout', {\n    page: 'pages/contact',\n    title: 'Liên hệ',\n    usernameSession,\n    roleSession\n  });\n};\nexports.getContactPage = getContactPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0Q29udGFjdFBhZ2UiLCJyZXEiLCJyZXMiLCJzZXNzaW9uRGF0YSIsImdldFNlc3Npb25EYXRhIiwicmVuZGVyIiwicGFnZSIsInRpdGxlIiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJjb250YWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uRGF0YSB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCJcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDb250YWN0UGFnZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRGF0YShyZXEpXHJcblxyXG4gICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9jb250YWN0JywgXHJcbiAgICAgICAgICAgIHRpdGxlOiAnTGnDqm4gaOG7hycsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2Vzc2lvbjogJycsXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uOiAnJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHVzZXJuYW1lU2Vzc2lvbiwgcm9sZVNlc3Npb24gfSA9IHNlc3Npb25EYXRhXHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICBwYWdlOiAncGFnZXMvY29udGFjdCcsIFxyXG4gICAgICAgIHRpdGxlOiAnTGnDqm4gaOG7hycsXHJcbiAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgIHJvbGVTZXNzaW9uXHJcbiAgICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxPQUFBO0FBRU8sTUFBTUMsY0FBYyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QyxNQUFNQyxXQUFXLEdBQUcsSUFBQUMsOEJBQWMsRUFBQ0gsR0FBRyxDQUFDO0VBRXZDLElBQUksQ0FBQ0UsV0FBVyxFQUFFO0lBQ2QsT0FBT0QsR0FBRyxDQUFDRyxNQUFNLENBQUMsUUFBUSxFQUFFO01BQ3hCQyxJQUFJLEVBQUUsZUFBZTtNQUNyQkMsS0FBSyxFQUFFLFNBQVM7TUFDaEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxXQUFXLEVBQUU7SUFDakIsQ0FBQyxDQUFDO0VBQ047RUFDQSxNQUFNO0lBQUVELGVBQWU7SUFBRUM7RUFBWSxDQUFDLEdBQUdOLFdBQVc7RUFFcEQsT0FBT0QsR0FBRyxDQUFDRyxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQ3hCQyxJQUFJLEVBQUUsZUFBZTtJQUNyQkMsS0FBSyxFQUFFLFNBQVM7SUFDaEJDLGVBQWU7SUFDZkM7RUFDSCxDQUFDLENBQUM7QUFDUCxDQUFDO0FBQUFDLE9BQUEsQ0FBQVYsY0FBQSxHQUFBQSxjQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_authMiddleware","require","getContactPage","req","res","sessionData","getSessionData","render","page","title","usernameSession","roleSession","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["contactController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\n\r\nexport const getContactPage = (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.render('layout', {\r\n            page: 'pages/contact', \r\n            title: 'Liên hệ',\r\n            usernameSession: '',\r\n            roleSession: ''\r\n        })\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    return res.render('layout', {\r\n        page: 'pages/contact', \r\n        title: 'Liên hệ',\r\n        usernameSession,\r\n        roleSession\r\n     })\r\n}"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEO,MAAMC,cAAc,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxC,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;MACxBC,IAAI,EAAE,eAAe;MACrBC,KAAK,EAAE,SAAS;MAChBC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE;IACjB,CAAC,CAAC;EACN;EACA,MAAM;IAAED,eAAe;IAAEC;EAAY,CAAC,GAAGN,WAAW;EAEpD,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;IACxBC,IAAI,EAAE,eAAe;IACrBC,KAAK,EAAE,SAAS;IAChBC,eAAe;IACfC;EACH,CAAC,CAAC;AACP,CAAC;AAAAC,OAAA,CAAAV,cAAA,GAAAA,cAAA","ignoreList":[]}},"mtime":1731579109941},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\homeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getHomePage = void 0;\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.promise.js\");\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nvar _UserController = require(\"./UserController\");\nvar _useModel = require(\"../model/useModel\");\nconst getHomePage = async (req, res) => {\n  // Kiểm tra sessionData trước khi truy xuất thuộc tính\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  const usernameSession = sessionData ? sessionData.usernameSession : '';\n  const roleSession = sessionData ? sessionData.roleSession : '';\n\n  // Xác định trang, số lượng mục trên mỗi trang và vị trí bắt đầu\n  const page = parseInt(req.query.page) || 1;\n  const limit = 10;\n  const offset = (page - 1) * limit;\n  try {\n    // Lấy danh sách người dùng và tổng số người dùng để phân trang\n    const users = await (0, _UserController.getUserListData)(offset, limit);\n    const totalUsers = await (0, _useModel.getTotalUsers)();\n    const totalPages = Math.ceil(totalUsers / limit);\n\n    // Render trang với các dữ liệu cần thiết\n    return res.render('layout', {\n      page: 'pages/home',\n      title: 'Trang chủ',\n      deleteErrorMessage: '',\n      deleteSuccessMessage: '',\n      users,\n      currentPage: page,\n      totalPages,\n      offset,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error('Lỗi khi tải danh sách người dùng:', error);\n    res.status(500).send(\"Đã xảy ra lỗi trong quá trình tải trang chủ\");\n  }\n};\nexports.getHomePage = getHomePage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiX1VzZXJDb250cm9sbGVyIiwiX3VzZU1vZGVsIiwiZ2V0SG9tZVBhZ2UiLCJyZXEiLCJyZXMiLCJzZXNzaW9uRGF0YSIsImdldFNlc3Npb25EYXRhIiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJwYWdlIiwicGFyc2VJbnQiLCJxdWVyeSIsImxpbWl0Iiwib2Zmc2V0IiwidXNlcnMiLCJnZXRVc2VyTGlzdERhdGEiLCJ0b3RhbFVzZXJzIiwiZ2V0VG90YWxVc2VycyIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsInJlbmRlciIsInRpdGxlIiwiZGVsZXRlRXJyb3JNZXNzYWdlIiwiZGVsZXRlU3VjY2Vzc01lc3NhZ2UiLCJjdXJyZW50UGFnZSIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsInNlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJob21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uRGF0YSB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCJcclxuaW1wb3J0IHsgZ2V0VXNlckxpc3REYXRhIH0gZnJvbSBcIi4vVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgeyBnZXRUb3RhbFVzZXJzIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRIb21lUGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgLy8gS2nhu4NtIHRyYSBzZXNzaW9uRGF0YSB0csaw4bubYyBraGkgdHJ1eSB4deG6pXQgdGh14buZYyB0w61uaFxyXG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRGF0YShyZXEpXHJcbiAgICBjb25zdCB1c2VybmFtZVNlc3Npb24gPSBzZXNzaW9uRGF0YSA/IHNlc3Npb25EYXRhLnVzZXJuYW1lU2Vzc2lvbiA6ICcnXHJcbiAgICBjb25zdCByb2xlU2Vzc2lvbiA9IHNlc3Npb25EYXRhID8gc2Vzc2lvbkRhdGEucm9sZVNlc3Npb24gOiAnJ1xyXG4gICAgXHJcbiAgICAvLyBYw6FjIMSR4buLbmggdHJhbmcsIHPhu5EgbMaw4bujbmcgbeG7pWMgdHLDqm4gbeG7l2kgdHJhbmcgdsOgIHbhu4sgdHLDrSBi4bqvdCDEkeG6p3VcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChyZXEucXVlcnkucGFnZSkgfHwgMVxyXG4gICAgY29uc3QgbGltaXQgPSAxMFxyXG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBM4bqleSBkYW5oIHPDoWNoIG5nxrDhu51pIGTDuW5nIHbDoCB04buVbmcgc+G7kSBuZ8aw4budaSBkw7luZyDEkeG7gyBwaMOibiB0cmFuZ1xyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlckxpc3REYXRhKG9mZnNldCwgbGltaXQpXHJcbiAgICAgICAgY29uc3QgdG90YWxVc2VycyA9IGF3YWl0IGdldFRvdGFsVXNlcnMoKVxyXG4gICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxVc2VycyAvIGxpbWl0KVxyXG5cclxuICAgICAgICAvLyBSZW5kZXIgdHJhbmcgduG7m2kgY8OhYyBk4buvIGxp4buHdSBj4bqnbiB0aGnhur90XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2hvbWUnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1RyYW5nIGNo4bunJyxcclxuICAgICAgICAgICAgZGVsZXRlRXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZGVsZXRlU3VjY2Vzc01lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICB1c2VycyxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgIHRvdGFsUGFnZXMsXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvbixcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgdOG6o2kgZGFuaCBzw6FjaCBuZ8aw4budaSBkw7luZzonLCBlcnJvcilcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIsSQw6MgeOG6o3kgcmEgbOG7l2kgdHJvbmcgcXXDoSB0csOsbmggdOG6o2kgdHJhbmcgY2jhu6dcIilcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBRixPQUFBO0FBRU8sTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNDO0VBQ0EsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztFQUN2QyxNQUFNSSxlQUFlLEdBQUdGLFdBQVcsR0FBR0EsV0FBVyxDQUFDRSxlQUFlLEdBQUcsRUFBRTtFQUN0RSxNQUFNQyxXQUFXLEdBQUdILFdBQVcsR0FBR0EsV0FBVyxDQUFDRyxXQUFXLEdBQUcsRUFBRTs7RUFFOUQ7RUFDQSxNQUFNQyxJQUFJLEdBQUdDLFFBQVEsQ0FBQ1AsR0FBRyxDQUFDUSxLQUFLLENBQUNGLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDMUMsTUFBTUcsS0FBSyxHQUFHLEVBQUU7RUFDaEIsTUFBTUMsTUFBTSxHQUFHLENBQUNKLElBQUksR0FBRyxDQUFDLElBQUlHLEtBQUs7RUFFakMsSUFBSTtJQUNBO0lBQ0EsTUFBTUUsS0FBSyxHQUFHLE1BQU0sSUFBQUMsK0JBQWUsRUFBQ0YsTUFBTSxFQUFFRCxLQUFLLENBQUM7SUFDbEQsTUFBTUksVUFBVSxHQUFHLE1BQU0sSUFBQUMsdUJBQWEsRUFBQyxDQUFDO0lBQ3hDLE1BQU1DLFVBQVUsR0FBR0MsSUFBSSxDQUFDQyxJQUFJLENBQUNKLFVBQVUsR0FBR0osS0FBSyxDQUFDOztJQUVoRDtJQUNBLE9BQU9SLEdBQUcsQ0FBQ2lCLE1BQU0sQ0FBQyxRQUFRLEVBQUU7TUFDeEJaLElBQUksRUFBRSxZQUFZO01BQ2xCYSxLQUFLLEVBQUUsV0FBVztNQUNsQkMsa0JBQWtCLEVBQUUsRUFBRTtNQUN0QkMsb0JBQW9CLEVBQUUsRUFBRTtNQUN4QlYsS0FBSztNQUNMVyxXQUFXLEVBQUVoQixJQUFJO01BQ2pCUyxVQUFVO01BQ1ZMLE1BQU07TUFDTk4sZUFBZTtNQUNmQztJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQyxPQUFPa0IsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLG1DQUFtQyxFQUFFQSxLQUFLLENBQUM7SUFDekR0QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw2Q0FBNkMsQ0FBQztFQUN2RTtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBNUIsV0FBQSxHQUFBQSxXQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_authMiddleware","require","_UserController","_useModel","getHomePage","req","res","sessionData","getSessionData","usernameSession","roleSession","page","parseInt","query","limit","offset","users","getUserListData","totalUsers","getTotalUsers","totalPages","Math","ceil","render","title","deleteErrorMessage","deleteSuccessMessage","currentPage","error","console","status","send","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["homeController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\nimport { getUserListData } from \"./UserController\"\r\nimport { getTotalUsers } from \"../model/useModel\"\r\n\r\nexport const getHomePage = async (req, res) => {\r\n    // Kiểm tra sessionData trước khi truy xuất thuộc tính\r\n    const sessionData = getSessionData(req)\r\n    const usernameSession = sessionData ? sessionData.usernameSession : ''\r\n    const roleSession = sessionData ? sessionData.roleSession : ''\r\n    \r\n    // Xác định trang, số lượng mục trên mỗi trang và vị trí bắt đầu\r\n    const page = parseInt(req.query.page) || 1\r\n    const limit = 10\r\n    const offset = (page - 1) * limit\r\n\r\n    try {\r\n        // Lấy danh sách người dùng và tổng số người dùng để phân trang\r\n        const users = await getUserListData(offset, limit)\r\n        const totalUsers = await getTotalUsers()\r\n        const totalPages = Math.ceil(totalUsers / limit)\r\n\r\n        // Render trang với các dữ liệu cần thiết\r\n        return res.render('layout', {\r\n            page: 'pages/home',\r\n            title: 'Trang chủ',\r\n            deleteErrorMessage: '',\r\n            deleteSuccessMessage: '',\r\n            users,\r\n            currentPage: page,\r\n            totalPages,\r\n            offset,\r\n            usernameSession,\r\n            roleSession,\r\n        })\r\n    } catch (error) {\r\n        console.error('Lỗi khi tải danh sách người dùng:', error)\r\n        res.status(500).send(\"Đã xảy ra lỗi trong quá trình tải trang chủ\")\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAEO,MAAMG,WAAW,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC3C;EACA,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EACvC,MAAMI,eAAe,GAAGF,WAAW,GAAGA,WAAW,CAACE,eAAe,GAAG,EAAE;EACtE,MAAMC,WAAW,GAAGH,WAAW,GAAGA,WAAW,CAACG,WAAW,GAAG,EAAE;;EAE9D;EACA,MAAMC,IAAI,GAAGC,QAAQ,CAACP,GAAG,CAACQ,KAAK,CAACF,IAAI,CAAC,IAAI,CAAC;EAC1C,MAAMG,KAAK,GAAG,EAAE;EAChB,MAAMC,MAAM,GAAG,CAACJ,IAAI,GAAG,CAAC,IAAIG,KAAK;EAEjC,IAAI;IACA;IACA,MAAME,KAAK,GAAG,MAAM,IAAAC,+BAAe,EAACF,MAAM,EAAED,KAAK,CAAC;IAClD,MAAMI,UAAU,GAAG,MAAM,IAAAC,uBAAa,EAAC,CAAC;IACxC,MAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,UAAU,GAAGJ,KAAK,CAAC;;IAEhD;IACA,OAAOR,GAAG,CAACiB,MAAM,CAAC,QAAQ,EAAE;MACxBZ,IAAI,EAAE,YAAY;MAClBa,KAAK,EAAE,WAAW;MAClBC,kBAAkB,EAAE,EAAE;MACtBC,oBAAoB,EAAE,EAAE;MACxBV,KAAK;MACLW,WAAW,EAAEhB,IAAI;MACjBS,UAAU;MACVL,MAAM;MACNN,eAAe;MACfC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IACzDtB,GAAG,CAACwB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,6CAA6C,CAAC;EACvE;AACJ,CAAC;AAAAC,OAAA,CAAA5B,WAAA,GAAAA,WAAA","ignoreList":[]}},"mtime":1731599979040},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\aboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAboutPage = void 0;\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nconst getAboutPage = (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.render('layout', {\n      page: 'pages/about',\n      title: 'Về trang web',\n      usernameSession: '',\n      roleSession: ''\n    });\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  return res.render('layout', {\n    page: 'pages/about',\n    title: 'Về trang web',\n    usernameSession,\n    roleSession\n  });\n};\nexports.getAboutPage = getAboutPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0QWJvdXRQYWdlIiwicmVxIiwicmVzIiwic2Vzc2lvbkRhdGEiLCJnZXRTZXNzaW9uRGF0YSIsInJlbmRlciIsInBhZ2UiLCJ0aXRsZSIsInVzZXJuYW1lU2Vzc2lvbiIsInJvbGVTZXNzaW9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYWJvdXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb25EYXRhIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmVcIlxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFib3V0UGFnZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRGF0YShyZXEpXHJcblxyXG4gICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9hYm91dCcsIFxyXG4gICAgICAgICAgICB0aXRsZTogJ1bhu4EgdHJhbmcgd2ViJyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uOiAnJyxcclxuICAgICAgICAgICAgcm9sZVNlc3Npb246ICcnXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0Jywge1xyXG4gICAgICAgIHBhZ2U6ICdwYWdlcy9hYm91dCcsIFxyXG4gICAgICAgIHRpdGxlOiAnVuG7gSB0cmFuZyB3ZWInLFxyXG4gICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgIH0pXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGVBQUEsR0FBQUMsT0FBQTtBQUVPLE1BQU1DLFlBQVksR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztFQUV2QyxJQUFJLENBQUNFLFdBQVcsRUFBRTtJQUNkLE9BQU9ELEdBQUcsQ0FBQ0csTUFBTSxDQUFDLFFBQVEsRUFBRTtNQUN4QkMsSUFBSSxFQUFFLGFBQWE7TUFDbkJDLEtBQUssRUFBRSxjQUFjO01BQ3JCQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsV0FBVyxFQUFFO0lBQ2pCLENBQUMsQ0FBQztFQUNOO0VBQ0EsTUFBTTtJQUFFRCxlQUFlO0lBQUVDO0VBQVksQ0FBQyxHQUFHTixXQUFXO0VBRXBELE9BQU9ELEdBQUcsQ0FBQ0csTUFBTSxDQUFDLFFBQVEsRUFBRTtJQUN4QkMsSUFBSSxFQUFFLGFBQWE7SUFDbkJDLEtBQUssRUFBRSxjQUFjO0lBQ3JCQyxlQUFlO0lBQ2ZDO0VBQ0gsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUFBQyxPQUFBLENBQUFWLFlBQUEsR0FBQUEsWUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_authMiddleware","require","getAboutPage","req","res","sessionData","getSessionData","render","page","title","usernameSession","roleSession","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["aboutController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\n\r\nexport const getAboutPage = (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.render('layout', {\r\n            page: 'pages/about', \r\n            title: 'Về trang web',\r\n            usernameSession: '',\r\n            roleSession: ''\r\n        })\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    return res.render('layout', {\r\n        page: 'pages/about', \r\n        title: 'Về trang web',\r\n        usernameSession,\r\n        roleSession\r\n     })\r\n}"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEO,MAAMC,YAAY,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACtC,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;MACxBC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAE,cAAc;MACrBC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE;IACjB,CAAC,CAAC;EACN;EACA,MAAM;IAAED,eAAe;IAAEC;EAAY,CAAC,GAAGN,WAAW;EAEpD,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;IACxBC,IAAI,EAAE,aAAa;IACnBC,KAAK,EAAE,cAAc;IACrBC,eAAe;IACfC;EACH,CAAC,CAAC;AACP,CAAC;AAAAC,OAAA,CAAAV,YAAA,GAAAA,YAAA","ignoreList":[]}},"mtime":1731579102143},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\contactController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContactPage = void 0;\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nconst getContactPage = (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.render('layout', {\n      page: 'pages/contact',\n      title: 'Liên hệ',\n      usernameSession: '',\n      roleSession: ''\n    });\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  return res.render('layout', {\n    page: 'pages/contact',\n    title: 'Liên hệ',\n    usernameSession,\n    roleSession\n  });\n};\nexports.getContactPage = getContactPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0Q29udGFjdFBhZ2UiLCJyZXEiLCJyZXMiLCJzZXNzaW9uRGF0YSIsImdldFNlc3Npb25EYXRhIiwicmVuZGVyIiwicGFnZSIsInRpdGxlIiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJjb250YWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uRGF0YSB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCJcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDb250YWN0UGFnZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRGF0YShyZXEpXHJcblxyXG4gICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9jb250YWN0JywgXHJcbiAgICAgICAgICAgIHRpdGxlOiAnTGnDqm4gaOG7hycsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2Vzc2lvbjogJycsXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uOiAnJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHVzZXJuYW1lU2Vzc2lvbiwgcm9sZVNlc3Npb24gfSA9IHNlc3Npb25EYXRhXHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICBwYWdlOiAncGFnZXMvY29udGFjdCcsIFxyXG4gICAgICAgIHRpdGxlOiAnTGnDqm4gaOG7hycsXHJcbiAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgIHJvbGVTZXNzaW9uXHJcbiAgICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxPQUFBO0FBRU8sTUFBTUMsY0FBYyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QyxNQUFNQyxXQUFXLEdBQUcsSUFBQUMsOEJBQWMsRUFBQ0gsR0FBRyxDQUFDO0VBRXZDLElBQUksQ0FBQ0UsV0FBVyxFQUFFO0lBQ2QsT0FBT0QsR0FBRyxDQUFDRyxNQUFNLENBQUMsUUFBUSxFQUFFO01BQ3hCQyxJQUFJLEVBQUUsZUFBZTtNQUNyQkMsS0FBSyxFQUFFLFNBQVM7TUFDaEJDLGVBQWUsRUFBRSxFQUFFO01BQ25CQyxXQUFXLEVBQUU7SUFDakIsQ0FBQyxDQUFDO0VBQ047RUFDQSxNQUFNO0lBQUVELGVBQWU7SUFBRUM7RUFBWSxDQUFDLEdBQUdOLFdBQVc7RUFFcEQsT0FBT0QsR0FBRyxDQUFDRyxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQ3hCQyxJQUFJLEVBQUUsZUFBZTtJQUNyQkMsS0FBSyxFQUFFLFNBQVM7SUFDaEJDLGVBQWU7SUFDZkM7RUFDSCxDQUFDLENBQUM7QUFDUCxDQUFDO0FBQUFDLE9BQUEsQ0FBQVYsY0FBQSxHQUFBQSxjQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_authMiddleware","require","getContactPage","req","res","sessionData","getSessionData","render","page","title","usernameSession","roleSession","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["contactController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\n\r\nexport const getContactPage = (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.render('layout', {\r\n            page: 'pages/contact', \r\n            title: 'Liên hệ',\r\n            usernameSession: '',\r\n            roleSession: ''\r\n        })\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    return res.render('layout', {\r\n        page: 'pages/contact', \r\n        title: 'Liên hệ',\r\n        usernameSession,\r\n        roleSession\r\n     })\r\n}"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEO,MAAMC,cAAc,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxC,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;MACxBC,IAAI,EAAE,eAAe;MACrBC,KAAK,EAAE,SAAS;MAChBC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE;IACjB,CAAC,CAAC;EACN;EACA,MAAM;IAAED,eAAe;IAAEC;EAAY,CAAC,GAAGN,WAAW;EAEpD,OAAOD,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;IACxBC,IAAI,EAAE,eAAe;IACrBC,KAAK,EAAE,SAAS;IAChBC,eAAe;IACfC;EACH,CAAC,CAAC;AACP,CAAC;AAAAC,OAAA,CAAAV,cAAA,GAAAA,cAAA","ignoreList":[]}},"mtime":1731579109941},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\404Controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get404Page = void 0;\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nconst get404Page = (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  res.render('layout', {\n    page: 'pages/404',\n    title: 'Trang không tồn tại',\n    usernameSession,\n    roleSession\n  });\n};\nexports.get404Page = get404Page;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0NDA0UGFnZSIsInJlcSIsInJlcyIsInNlc3Npb25EYXRhIiwiZ2V0U2Vzc2lvbkRhdGEiLCJyZWRpcmVjdCIsInVzZXJuYW1lU2Vzc2lvbiIsInJvbGVTZXNzaW9uIiwicmVuZGVyIiwicGFnZSIsInRpdGxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiNDA0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uRGF0YSB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCJcclxuXHJcbmV4cG9ydCBjb25zdCBnZXQ0MDRQYWdlID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuICAgIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgXHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzLzQwNCcsIFxyXG4gICAgICAgIHRpdGxlOiAnVHJhbmcga2jDtG5nIHThu5NuIHThuqFpJyxcclxuICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgcm9sZVNlc3Npb25cclxuICAgIH0pXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGVBQUEsR0FBQUMsT0FBQTtBQUVPLE1BQU1DLFVBQVUsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDcEMsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztFQUV2QyxJQUFJLENBQUNFLFdBQVcsRUFBRTtJQUNkLE9BQU9ELEdBQUcsQ0FBQ0csUUFBUSxDQUFDLFFBQVEsQ0FBQztFQUNqQztFQUNBLE1BQU07SUFBRUMsZUFBZTtJQUFFQztFQUFZLENBQUMsR0FBR0osV0FBVztFQUNwREQsR0FBRyxDQUFDTSxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQ2pCQyxJQUFJLEVBQUUsV0FBVztJQUNqQkMsS0FBSyxFQUFFLHFCQUFxQjtJQUM1QkosZUFBZTtJQUNmQztFQUNKLENBQUMsQ0FBQztBQUNOLENBQUM7QUFBQUksT0FBQSxDQUFBWCxVQUFBLEdBQUFBLFVBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_authMiddleware","require","get404Page","req","res","sessionData","getSessionData","redirect","usernameSession","roleSession","render","page","title","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["404Controller.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\n\r\nexport const get404Page = (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n    res.render('layout', { \r\n        page: 'pages/404', \r\n        title: 'Trang không tồn tại',\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEO,MAAMC,UAAU,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACpC,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;EACjC;EACA,MAAM;IAAEC,eAAe;IAAEC;EAAY,CAAC,GAAGJ,WAAW;EACpDD,GAAG,CAACM,MAAM,CAAC,QAAQ,EAAE;IACjBC,IAAI,EAAE,WAAW;IACjBC,KAAK,EAAE,qBAAqB;IAC5BJ,eAAe;IACfC;EACJ,CAAC,CAAC;AACN,CAAC;AAAAI,OAAA,CAAAX,UAAA,GAAAA,UAAA","ignoreList":[]}},"mtime":1731577779459},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\404Controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get404Page = void 0;\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nconst get404Page = (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  res.render('layout', {\n    page: 'pages/404',\n    title: 'Trang không tồn tại',\n    usernameSession,\n    roleSession\n  });\n};\nexports.get404Page = get404Page;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0NDA0UGFnZSIsInJlcSIsInJlcyIsInNlc3Npb25EYXRhIiwiZ2V0U2Vzc2lvbkRhdGEiLCJyZWRpcmVjdCIsInVzZXJuYW1lU2Vzc2lvbiIsInJvbGVTZXNzaW9uIiwicmVuZGVyIiwicGFnZSIsInRpdGxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiNDA0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXNzaW9uRGF0YSB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlXCJcclxuXHJcbmV4cG9ydCBjb25zdCBnZXQ0MDRQYWdlID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuICAgIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgXHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzLzQwNCcsIFxyXG4gICAgICAgIHRpdGxlOiAnVHJhbmcga2jDtG5nIHThu5NuIHThuqFpJyxcclxuICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgcm9sZVNlc3Npb25cclxuICAgIH0pXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGVBQUEsR0FBQUMsT0FBQTtBQUVPLE1BQU1DLFVBQVUsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDcEMsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztFQUV2QyxJQUFJLENBQUNFLFdBQVcsRUFBRTtJQUNkLE9BQU9ELEdBQUcsQ0FBQ0csUUFBUSxDQUFDLFFBQVEsQ0FBQztFQUNqQztFQUNBLE1BQU07SUFBRUMsZUFBZTtJQUFFQztFQUFZLENBQUMsR0FBR0osV0FBVztFQUNwREQsR0FBRyxDQUFDTSxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQ2pCQyxJQUFJLEVBQUUsV0FBVztJQUNqQkMsS0FBSyxFQUFFLHFCQUFxQjtJQUM1QkosZUFBZTtJQUNmQztFQUNKLENBQUMsQ0FBQztBQUNOLENBQUM7QUFBQUksT0FBQSxDQUFBWCxVQUFBLEdBQUFBLFVBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_authMiddleware","require","get404Page","req","res","sessionData","getSessionData","redirect","usernameSession","roleSession","render","page","title","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["404Controller.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\n\r\nexport const get404Page = (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n    res.render('layout', { \r\n        page: 'pages/404', \r\n        title: 'Trang không tồn tại',\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAEO,MAAMC,UAAU,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACpC,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;EACjC;EACA,MAAM;IAAEC,eAAe;IAAEC;EAAY,CAAC,GAAGJ,WAAW;EACpDD,GAAG,CAACM,MAAM,CAAC,QAAQ,EAAE;IACjBC,IAAI,EAAE,WAAW;IACjBC,KAAK,EAAE,qBAAqB;IAC5BJ,eAAe;IACfC;EACJ,CAAC,CAAC;AACN,CAAC;AAAAI,OAAA,CAAAX,UAAA,GAAAA,UAAA","ignoreList":[]}},"mtime":1731577779459},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.getUserListPage = exports.getUserListData = exports.getNewUserPage = exports.getLoginPage = exports.getEditUserPage = exports.getDetailUserPage = exports.getDetailUserData = exports.deleteUser = exports.createUser = exports.comparePassword = exports.authAccount = void 0;\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.promise.js\");\nvar _useModel = require(\"../model/useModel\");\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst getNewUserPage = (req, res) => {\n  return res.render('pages/newUser', {\n    title: 'Đăng ký',\n    successMessage: '',\n    errorMessage: ''\n  });\n};\nexports.getNewUserPage = getNewUserPage;\nconst getLoginPage = (req, res) => {\n  return res.render('pages/login', {\n    title: 'Đăng nhập',\n    errorMessage: ''\n  });\n};\nexports.getLoginPage = getLoginPage;\nconst getUserListPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    const page = parseInt(req.query.page) || 1;\n    const limit = 10;\n    const offset = (page - 1) * limit;\n    const users = await getUserListData(offset, limit);\n    const totalUsers = await (0, _useModel.getTotalUsers)();\n    const totalPages = Math.ceil(totalUsers / limit);\n    res.render('layout', {\n      page: 'pages/listUser',\n      title: 'Danh sách tài khoản',\n      deleteErrorMessage: '',\n      deleteSuccessMessage: '',\n      users: users,\n      currentPage: page,\n      totalPages,\n      offset,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.getUserListPage = getUserListPage;\nconst getDetailUserPage = async (req, res) => {\n  const {\n    username\n  } = req.params;\n  const user = await getDetailUserData(username);\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  res.render('layout', {\n    page: 'pages/detailUser',\n    title: 'Chi tiết người dùng',\n    errorMessage: '',\n    user: user,\n    usernameSession,\n    roleSession\n  });\n};\nexports.getDetailUserPage = getDetailUserPage;\nconst getEditUserPage = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  const {\n    username\n  } = req.params;\n  const user = await getDetailUserData(username);\n  return res.render('layout', {\n    page: 'pages/editUser',\n    title: 'Thay đổi thông tin người dùng',\n    updateErrorMessage: '',\n    updateSuccessMessage: '',\n    user: user,\n    usernameSession,\n    roleSession\n  });\n};\nexports.getEditUserPage = getEditUserPage;\nconst updateUser = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  let {\n    username,\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  } = req.body;\n  if (!username || !fullname || !sex || !email || !address || !groupid) {\n    return res.status(400).send('Thiếu thông tin cần thiết');\n  }\n  if (groupid === 'Admin') {\n    groupid = 1;\n  } else if (groupid === 'User') {\n    groupid = 2;\n  } else {\n    return res.render('layout', {\n      page: 'pages/editUser',\n      title: 'Chi tiết người dùng',\n      updateErrorMessage: 'Giá trị quyền không hợp lệ',\n      updateSuccessMessage: '',\n      user: userDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  if (sex === 'Nam') {\n    sex = 'Male';\n  } else if (sex === 'Nữ') {\n    sex = 'Female';\n  } else if (sex === 'Khác') {\n    sex = 'Other';\n  } else {\n    return res.render('layout', {\n      page: 'pages/editUser',\n      title: 'Chi tiết người dùng',\n      updateErrorMessage: 'Giá trị giới tính không hợp lệ',\n      updateSuccessMessage: '',\n      user: userDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  const updateResult = await (0, _useModel.updateUserModel)(username, {\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  });\n  const userDetails = await getDetailUserData(username);\n  if (!updateResult) {\n    return res.render('layout', {\n      page: 'pages/editUser',\n      title: 'Chi tiết người dùng',\n      updateErrorMessage: 'Có lỗi xảy ra khi cập nhật',\n      updateSuccessMessage: '',\n      user: userDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  return res.render('layout', {\n    page: 'pages/editUser',\n    title: 'Chi tiết người dùng',\n    updateErrorMessage: '',\n    updateSuccessMessage: 'Cập nhật thành công',\n    user: userDetails,\n    usernameSession,\n    roleSession\n  });\n};\nexports.updateUser = updateUser;\nconst authAccount = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  if (!username || !password) {\n    return res.render('pages/login', {\n      title: 'Đăng nhập',\n      errorMessage: 'Vui lòng nhập đầy đủ thông tin!'\n    });\n  }\n  const isUsernameAvailable = await (0, _useModel.checkUsernameExists)(username);\n  if (isUsernameAvailable) {\n    return res.render('pages/login', {\n      title: 'Đăng nhập',\n      errorMessage: 'Tài khoản này không tồn tại!'\n    });\n  }\n  const hashPassword = await (0, _useModel.getHashPassword)(username);\n  const isPasswordValid = await comparePassword(password, hashPassword);\n  if (isPasswordValid) {\n    const user = await getDetailUserData(username);\n    const roleSession = user.groupid;\n    (0, _authMiddleware.createSession)(req, username, roleSession);\n    return res.redirect('/');\n  } else {\n    return res.render('layout', {\n      page: 'pages/login',\n      title: 'Đăng nhập',\n      errorMessage: 'Sai mật khẩu'\n    });\n  }\n};\nexports.authAccount = authAccount;\nconst createUser = async (req, res) => {\n  const {\n    fullname,\n    username,\n    password,\n    gender,\n    email,\n    address,\n    role\n  } = req.body;\n  const isUsernameAvailable = await (0, _useModel.checkUsernameExists)(username);\n  if (!isUsernameAvailable) {\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: '',\n      errorMessage: 'Tài khoản đã được sử dụng'\n    });\n  }\n  const isEmailAvailable = await (0, _useModel.checkEmailExists)(email);\n  if (!isEmailAvailable) {\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: '',\n      errorMessage: 'Email đã được sử dụng'\n    });\n  }\n  if (!username || !password) {\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: '',\n      errorMessage: 'Tên tài khoản và Mật khâủ là bắt buộc'\n    });\n  }\n  const hashedPassword = await hashPassword(password);\n  try {\n    const result = (0, _useModel.importUser)(username, hashedPassword, fullname, address, gender, email, role);\n    if (!result) {\n      return res.render('pages/newUser', {\n        title: 'Đăng ký',\n        successMessage: '',\n        errorMessage: 'Tạo tài khoản thất bại!'\n      });\n    }\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: 'Tạo tài khoản thành công',\n      errorMessage: ''\n    });\n  } catch (error) {\n    console.error('Lỗi tạo người dùng:', error);\n    res.render('pages/newUser', {\n      title: 'Đăng ký',\n      errorMessage: error\n    });\n  }\n};\nexports.createUser = createUser;\nconst hashPassword = async password => {\n  const saltRounds = 10;\n  try {\n    return await _bcrypt.default.hash(password, saltRounds);\n  } catch (error) {\n    console.error('Lỗi khi hash mật khẩu:', error);\n    throw new Error('Không thể hash mật khẩu');\n  }\n};\nconst comparePassword = async (password, hashPassword) => {\n  try {\n    return await _bcrypt.default.compare(password, hashPassword);\n  } catch (error) {\n    console.error('Lỗi khi so sánh mật khẩu:', error);\n    return false;\n  }\n};\nexports.comparePassword = comparePassword;\nconst getUserListData = async (offset, limit) => {\n  const users = await (0, _useModel.getUsers)(offset, limit);\n  const formattedUsers = users.map(user => {\n    return {\n      fullname: user.fullname,\n      username: user.username,\n      sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\n      email: user.email,\n      address: user.address,\n      groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\n    };\n  });\n  return formattedUsers;\n};\nexports.getUserListData = getUserListData;\nconst getDetailUserData = async username => {\n  try {\n    const user = await (0, _useModel.getDetailUserModel)(username);\n    const formattedUser = {\n      fullname: user.fullname,\n      username: user.username,\n      sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\n      email: user.email,\n      address: user.address,\n      groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\n    };\n    return formattedUser;\n  } catch (error) {\n    console.error('Lỗi xem nguời dùng:', error);\n  }\n};\nexports.getDetailUserData = getDetailUserData;\nconst deleteUser = async (req, res) => {\n  const {\n    username\n  } = req.params;\n  try {\n    const isDeleted = await (0, _useModel.deleteUserModel)(username);\n    if (isDeleted) {\n      return res.redirect('/list-user');\n    } else {\n      return res.redirect('/list-user');\n    }\n  } catch (error) {\n    console.error(error);\n    return res.redirect('/');\n  }\n};\nexports.deleteUser = deleteUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlTW9kZWwiLCJyZXF1aXJlIiwiX2F1dGhNaWRkbGV3YXJlIiwiX2JjcnlwdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXROZXdVc2VyUGFnZSIsInJlcSIsInJlcyIsInJlbmRlciIsInRpdGxlIiwic3VjY2Vzc01lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJleHBvcnRzIiwiZ2V0TG9naW5QYWdlIiwiZ2V0VXNlckxpc3RQYWdlIiwic2Vzc2lvbkRhdGEiLCJnZXRTZXNzaW9uRGF0YSIsInJlZGlyZWN0IiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJwYWdlIiwicGFyc2VJbnQiLCJxdWVyeSIsImxpbWl0Iiwib2Zmc2V0IiwidXNlcnMiLCJnZXRVc2VyTGlzdERhdGEiLCJ0b3RhbFVzZXJzIiwiZ2V0VG90YWxVc2VycyIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImRlbGV0ZUVycm9yTWVzc2FnZSIsImRlbGV0ZVN1Y2Nlc3NNZXNzYWdlIiwiY3VycmVudFBhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJnZXREZXRhaWxVc2VyUGFnZSIsInVzZXJuYW1lIiwicGFyYW1zIiwidXNlciIsImdldERldGFpbFVzZXJEYXRhIiwiZ2V0RWRpdFVzZXJQYWdlIiwidXBkYXRlRXJyb3JNZXNzYWdlIiwidXBkYXRlU3VjY2Vzc01lc3NhZ2UiLCJ1cGRhdGVVc2VyIiwiZnVsbG5hbWUiLCJzZXgiLCJlbWFpbCIsImFkZHJlc3MiLCJncm91cGlkIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJ1c2VyRGV0YWlscyIsInVwZGF0ZVJlc3VsdCIsInVwZGF0ZVVzZXJNb2RlbCIsImF1dGhBY2NvdW50IiwicGFzc3dvcmQiLCJpc1VzZXJuYW1lQXZhaWxhYmxlIiwiY2hlY2tVc2VybmFtZUV4aXN0cyIsImhhc2hQYXNzd29yZCIsImdldEhhc2hQYXNzd29yZCIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmVQYXNzd29yZCIsImNyZWF0ZVNlc3Npb24iLCJjcmVhdGVVc2VyIiwiZ2VuZGVyIiwicm9sZSIsImlzRW1haWxBdmFpbGFibGUiLCJjaGVja0VtYWlsRXhpc3RzIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJpbXBvcnRVc2VyIiwic2FsdFJvdW5kcyIsImJjcnlwdCIsImhhc2giLCJFcnJvciIsImNvbXBhcmUiLCJnZXRVc2VycyIsImZvcm1hdHRlZFVzZXJzIiwibWFwIiwiZ2V0RGV0YWlsVXNlck1vZGVsIiwiZm9ybWF0dGVkVXNlciIsImRlbGV0ZVVzZXIiLCJpc0RlbGV0ZWQiLCJkZWxldGVVc2VyTW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcG9ydFVzZXIgfSBmcm9tIFwiLi4vbW9kZWwvdXNlTW9kZWxcIlxyXG5pbXBvcnQgeyBjaGVja1VzZXJuYW1lRXhpc3RzIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuaW1wb3J0IHsgY2hlY2tFbWFpbEV4aXN0cyB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGdldEhhc2hQYXNzd29yZCB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGdldFVzZXJzIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuaW1wb3J0IHsgZ2V0RGV0YWlsVXNlck1vZGVsIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuaW1wb3J0IHsgZ2V0VG90YWxVc2VycyB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IHVwZGF0ZVVzZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGRlbGV0ZVVzZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGNyZWF0ZVNlc3Npb24gfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZVwiXHJcbmltcG9ydCB7IGdldFNlc3Npb25EYXRhIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmVcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0TmV3VXNlclBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9uZXdVc2VyJywgeyB0aXRsZTogJ8SQxINuZyBrw70nLCBzdWNjZXNzTWVzc2FnZTogJycsIGVycm9yTWVzc2FnZTogJycgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRMb2dpblBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9sb2dpbicsIHsgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJywgZXJyb3JNZXNzYWdlOiAnJyB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJMaXN0UGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHVzZXJuYW1lU2Vzc2lvbiwgcm9sZVNlc3Npb24gfSA9IHNlc3Npb25EYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChyZXEucXVlcnkucGFnZSkgfHwgMVxyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gMTBcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXRcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IGdldFVzZXJMaXN0RGF0YShvZmZzZXQsIGxpbWl0KVxyXG4gICAgICAgIGNvbnN0IHRvdGFsVXNlcnMgPSBhd2FpdCBnZXRUb3RhbFVzZXJzKClcclxuICAgICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsVXNlcnMgLyBsaW1pdClcclxuICAgICAgICByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9saXN0VXNlcicsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnRGFuaCBzw6FjaCB0w6BpIGtob+G6o24nLFxyXG4gICAgICAgICAgICBkZWxldGVFcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBkZWxldGVTdWNjZXNzTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIHVzZXJzOiB1c2VycyxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgIHRvdGFsUGFnZXMsXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvbixcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RGV0YWlsVXNlclBhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXREZXRhaWxVc2VyRGF0YSh1c2VybmFtZSlcclxuXHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgIHBhZ2U6ICdwYWdlcy9kZXRhaWxVc2VyJyxcclxuICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3QgbmfGsOG7nWkgZMO5bmcnLFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogJycsXHJcbiAgICAgICAgdXNlcjogdXNlcixcclxuICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgcm9sZVNlc3Npb25cclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRFZGl0VXNlclBhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgIGlmICghc2Vzc2lvbkRhdGEpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YVxyXG5cclxuICAgIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXREZXRhaWxVc2VyRGF0YSh1c2VybmFtZSlcclxuICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgIHBhZ2U6ICdwYWdlcy9lZGl0VXNlcicsXHJcbiAgICAgICAgdGl0bGU6ICdUaGF5IMSR4buVaSB0aMO0bmcgdGluIG5nxrDhu51pIGTDuW5nJyxcclxuICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgIHVwZGF0ZVN1Y2Nlc3NNZXNzYWdlOiAnJyxcclxuICAgICAgICB1c2VyOiB1c2VyLFxyXG4gICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICBsZXQgeyB1c2VybmFtZSwgZnVsbG5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgaWYgKCF1c2VybmFtZSB8fCAhZnVsbG5hbWUgfHwgIXNleCB8fCAhZW1haWwgfHwgIWFkZHJlc3MgfHwgIWdyb3VwaWQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1RoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90JylcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZ3JvdXBpZCA9PT0gJ0FkbWluJykge1xyXG4gICAgICAgIGdyb3VwaWQgPSAxXHJcbiAgICB9IGVsc2UgaWYgKGdyb3VwaWQgPT09ICdVc2VyJykge1xyXG4gICAgICAgIGdyb3VwaWQgPSAyXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvZWRpdFVzZXInLCBcclxuICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgICAgIHVwZGF0ZUVycm9yTWVzc2FnZTogJ0dpw6EgdHLhu4sgcXV54buBbiBraMO0bmcgaOG7o3AgbOG7hycsIFxyXG4gICAgICAgICAgICB1cGRhdGVTdWNjZXNzTWVzc2FnZTogJycsIFxyXG4gICAgICAgICAgICB1c2VyOiB1c2VyRGV0YWlscyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNleCA9PT0gJ05hbScpIHtcclxuICAgICAgICBzZXggPSAnTWFsZSdcclxuICAgIH0gZWxzZSBpZiAoc2V4ID09PSAnTuG7rycpIHtcclxuICAgICAgICBzZXggPSAnRmVtYWxlJ1xyXG4gICAgfSBlbHNlIGlmIChzZXggPT09ICdLaMOhYycpIHtcclxuICAgICAgICBzZXggPSAnT3RoZXInXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvZWRpdFVzZXInLCBcclxuICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgICAgIHVwZGF0ZUVycm9yTWVzc2FnZTogJ0dpw6EgdHLhu4sgZ2nhu5tpIHTDrW5oIGtow7RuZyBo4bujcCBs4buHJywgXHJcbiAgICAgICAgICAgIHVwZGF0ZVN1Y2Nlc3NNZXNzYWdlOiAnJywgXHJcbiAgICAgICAgICAgIHVzZXI6IHVzZXJEZXRhaWxzLFxyXG4gICAgICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVVc2VyTW9kZWwodXNlcm5hbWUsIHsgZnVsbG5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgfSlcclxuICAgIGNvbnN0IHVzZXJEZXRhaWxzID0gYXdhaXQgZ2V0RGV0YWlsVXNlckRhdGEodXNlcm5hbWUpXHJcblxyXG4gICAgaWYgKCF1cGRhdGVSZXN1bHQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0JywgeyBcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2VkaXRVc2VyJywgXHJcbiAgICAgICAgICAgIHRpdGxlOiAnQ2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZycsIFxyXG4gICAgICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2U6ICdDw7MgbOG7l2kgeOG6o3kgcmEga2hpIGPhuq1wIG5o4bqtdCcsIFxyXG4gICAgICAgICAgICB1cGRhdGVTdWNjZXNzTWVzc2FnZTogJycsIFxyXG4gICAgICAgICAgICB1c2VyOiB1c2VyRGV0YWlscyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgXHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzL2VkaXRVc2VyJywgXHJcbiAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgdXBkYXRlRXJyb3JNZXNzYWdlOiAnJywgXHJcbiAgICAgICAgdXBkYXRlU3VjY2Vzc01lc3NhZ2U6ICdD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nJywgXHJcbiAgICAgICAgdXNlcjogdXNlckRldGFpbHMsXHJcbiAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgIHJvbGVTZXNzaW9uXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aEFjY291bnQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keVxyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9sb2dpbicsIHsgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJywgZXJyb3JNZXNzYWdlOiAnVnVpIGzDsm5nIG5o4bqtcCDEkeG6p3kgxJHhu6cgdGjDtG5nIHRpbiEnIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGlzVXNlcm5hbWVBdmFpbGFibGUgPSBhd2FpdCBjaGVja1VzZXJuYW1lRXhpc3RzKHVzZXJuYW1lKVxyXG4gICAgaWYgKGlzVXNlcm5hbWVBdmFpbGFibGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigncGFnZXMvbG9naW4nLCB7IHRpdGxlOiAnxJDEg25nIG5o4bqtcCcsIGVycm9yTWVzc2FnZTogJ1TDoGkga2hv4bqjbiBuw6B5IGtow7RuZyB04buTbiB04bqhaSEnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFzaFBhc3N3b3JkID0gIGF3YWl0IGdldEhhc2hQYXNzd29yZCh1c2VybmFtZSlcclxuICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgaGFzaFBhc3N3b3JkKVxyXG4gICAgaWYgKGlzUGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXREZXRhaWxVc2VyRGF0YSh1c2VybmFtZSlcclxuICAgICAgICBjb25zdCByb2xlU2Vzc2lvbiA9IHVzZXIuZ3JvdXBpZFxyXG4gICAgICAgIGNyZWF0ZVNlc3Npb24ocmVxLCB1c2VybmFtZSwgcm9sZVNlc3Npb24pXHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnLycpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IHBhZ2U6ICdwYWdlcy9sb2dpbicsIHRpdGxlOiAnxJDEg25nIG5o4bqtcCcsIGVycm9yTWVzc2FnZTogJ1NhaSBt4bqtdCBraOG6qXUnIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IGZ1bGxuYW1lLCB1c2VybmFtZSwgcGFzc3dvcmQsIGdlbmRlciwgZW1haWwsIGFkZHJlc3MsIHJvbGUgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgY29uc3QgaXNVc2VybmFtZUF2YWlsYWJsZSA9IGF3YWl0IGNoZWNrVXNlcm5hbWVFeGlzdHModXNlcm5hbWUpXHJcbiAgICBpZiAoIWlzVXNlcm5hbWVBdmFpbGFibGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigncGFnZXMvbmV3VXNlcicsIHsgdGl0bGU6ICfEkMSDbmcga8O9Jywgc3VjY2Vzc01lc3NhZ2U6ICcnLCBlcnJvck1lc3NhZ2U6ICdUw6BpIGtob+G6o24gxJHDoyDEkcaw4bujYyBz4butIGThu6VuZycgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc0VtYWlsQXZhaWxhYmxlID0gYXdhaXQgY2hlY2tFbWFpbEV4aXN0cyhlbWFpbClcclxuICAgIGlmICghaXNFbWFpbEF2YWlsYWJsZSkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9uZXdVc2VyJywgeyB0aXRsZTogJ8SQxINuZyBrw70nLCBzdWNjZXNzTWVzc2FnZTogJycsIGVycm9yTWVzc2FnZTogJ0VtYWlsIMSRw6MgxJHGsOG7o2Mgc+G7rSBk4bulbmcnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigncGFnZXMvbmV3VXNlcicsIHsgdGl0bGU6ICfEkMSDbmcga8O9Jywgc3VjY2Vzc01lc3NhZ2U6ICcnLCBlcnJvck1lc3NhZ2U6ICdUw6puIHTDoGkga2hv4bqjbiB2w6AgTeG6rXQga2jDouG7pyBsw6AgYuG6r3QgYnXhu5ljJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3b3JkKHBhc3N3b3JkKVxyXG4gIFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBpbXBvcnRVc2VyKHVzZXJuYW1lLCBoYXNoZWRQYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdlbmRlciwgZW1haWwsIHJvbGUpXHJcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ3BhZ2VzL25ld1VzZXInLCB7IHRpdGxlOiAnxJDEg25nIGvDvScsIHN1Y2Nlc3NNZXNzYWdlOiAnJywgZXJyb3JNZXNzYWdlOiAnVOG6oW8gdMOgaSBraG/huqNuIHRo4bqldCBi4bqhaSEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9uZXdVc2VyJywgeyB0aXRsZTogJ8SQxINuZyBrw70nLCBzdWNjZXNzTWVzc2FnZTogJ1ThuqFvIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmcnLCBlcnJvck1lc3NhZ2U6ICcnIH0pXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIHThuqFvIG5nxrDhu51pIGTDuW5nOicsIGVycm9yKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ3BhZ2VzL25ld1VzZXInLCB7IHRpdGxlOiAnxJDEg25nIGvDvScsIGVycm9yTWVzc2FnZTogZXJyb3IgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgICBjb25zdCBzYWx0Um91bmRzID0gMTBcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgaGFzaCBt4bqtdCBraOG6qXU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLaMO0bmcgdGjhu4MgaGFzaCBt4bqtdCBraOG6qXUnKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBzbyBzw6FuaCBt4bqtdCBraOG6qXU6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyTGlzdERhdGEgPSBhc3luYyAob2Zmc2V0LCBsaW1pdCkgPT4ge1xyXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBnZXRVc2VycyhvZmZzZXQsIGxpbWl0KVxyXG4gICAgY29uc3QgZm9ybWF0dGVkVXNlcnMgPSB1c2Vycy5tYXAodXNlciA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZnVsbG5hbWU6IHVzZXIuZnVsbG5hbWUsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBzZXg6IHVzZXIuc2V4ID09PSAnbWFsZScgPyAnTmFtJyA6IHVzZXIuc2V4ID09PSAnZmVtYWxlJyA/ICdO4buvJyA6IHVzZXIuc2V4LFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYWRkcmVzczogdXNlci5hZGRyZXNzLFxyXG4gICAgICAgICAgICBncm91cGlkOiB1c2VyLmdyb3VwaWQgPT09IDEgPyAnQWRtaW4nIDogdXNlci5ncm91cGlkID09PSAyID8gJ1VzZXInIDogJ1Vua25vd24nXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgcmV0dXJuIGZvcm1hdHRlZFVzZXJzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXREZXRhaWxVc2VyRGF0YSA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0RGV0YWlsVXNlck1vZGVsKHVzZXJuYW1lKVxyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFVzZXIgPSB7XHJcbiAgICAgICAgICAgIGZ1bGxuYW1lOiB1c2VyLmZ1bGxuYW1lLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgICAgICAgICAgc2V4OiB1c2VyLnNleCA9PT0gJ21hbGUnID8gJ05hbScgOiB1c2VyLnNleCA9PT0gJ2ZlbWFsZScgPyAnTuG7rycgOiB1c2VyLnNleCxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGFkZHJlc3M6IHVzZXIuYWRkcmVzcyxcclxuICAgICAgICAgICAgZ3JvdXBpZDogdXNlci5ncm91cGlkID09PSAxID8gJ0FkbWluJyA6IHVzZXIuZ3JvdXBpZCA9PT0gMiA/ICdVc2VyJyA6ICdVbmtub3duJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkVXNlclxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSB4ZW0gbmd14budaSBkw7luZzonLCBlcnJvcilcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VybmFtZSB9ID0gcmVxLnBhcmFtc1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpc0RlbGV0ZWQgPSBhd2FpdCBkZWxldGVVc2VyTW9kZWwodXNlcm5hbWUpXHJcbiAgICAgICAgaWYgKGlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbGlzdC11c2VyJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbGlzdC11c2VyJylcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnLycpXHJcbiAgICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQVNBLElBQUFDLGVBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUE0QixTQUFBRyx1QkFBQUMsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUVyQixNQUFNRyxjQUFjLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hDLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLGVBQWUsRUFBRTtJQUFFQyxLQUFLLEVBQUUsU0FBUztJQUFFQyxjQUFjLEVBQUUsRUFBRTtJQUFFQyxZQUFZLEVBQUU7RUFBRyxDQUFDLENBQUM7QUFDbEcsQ0FBQztBQUFBQyxPQUFBLENBQUFQLGNBQUEsR0FBQUEsY0FBQTtBQUVNLE1BQU1RLFlBQVksR0FBR0EsQ0FBQ1AsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsT0FBT0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsYUFBYSxFQUFFO0lBQUVDLEtBQUssRUFBRSxXQUFXO0lBQUVFLFlBQVksRUFBRTtFQUFHLENBQUMsQ0FBQztBQUM5RSxD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","map":{"version":3,"names":["_useModel","require","_authMiddleware","_bcrypt","_interopRequireDefault","e","__esModule","default","getNewUserPage","req","res","render","title","successMessage","errorMessage","exports","getLoginPage","getUserListPage","sessionData","getSessionData","redirect","usernameSession","roleSession","page","parseInt","query","limit","offset","users","getUserListData","totalUsers","getTotalUsers","totalPages","Math","ceil","deleteErrorMessage","deleteSuccessMessage","currentPage","error","console","getDetailUserPage","username","params","user","getDetailUserData","getEditUserPage","updateErrorMessage","updateSuccessMessage","updateUser","fullname","sex","email","address","groupid","body","status","send","userDetails","updateResult","updateUserModel","authAccount","password","isUsernameAvailable","checkUsernameExists","hashPassword","getHashPassword","isPasswordValid","comparePassword","createSession","createUser","gender","role","isEmailAvailable","checkEmailExists","hashedPassword","result","importUser","saltRounds","bcrypt","hash","Error","compare","getUsers","formattedUsers","map","getDetailUserModel","formattedUser","deleteUser","isDeleted","deleteUserModel"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["UserController.js"],"sourcesContent":["import { importUser } from \"../model/useModel\"\r\nimport { checkUsernameExists } from \"../model/useModel\"\r\nimport { checkEmailExists } from \"../model/useModel\"\r\nimport { getHashPassword } from \"../model/useModel\"\r\nimport { getUsers } from \"../model/useModel\"\r\nimport { getDetailUserModel } from \"../model/useModel\"\r\nimport { getTotalUsers } from \"../model/useModel\"\r\nimport { updateUserModel } from \"../model/useModel\"\r\nimport { deleteUserModel } from \"../model/useModel\"\r\nimport { createSession } from \"../middleware/authMiddleware\"\r\nimport { getSessionData } from \"../middleware/authMiddleware\"\r\nimport bcrypt from 'bcrypt';\r\n\r\nexport const getNewUserPage = (req, res) => {\r\n    return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: '' });\r\n}\r\n\r\nexport const getLoginPage = (req, res) => {\r\n    return res.render('pages/login', { title: 'Đăng nhập', errorMessage: '' });\r\n}\r\n\r\nexport const getUserListPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req)\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login')\r\n        }\r\n        const { usernameSession, roleSession } = sessionData\r\n\r\n        const page = parseInt(req.query.page) || 1\r\n        const limit = 10\r\n        const offset = (page - 1) * limit\r\n        \r\n        const users = await getUserListData(offset, limit)\r\n        const totalUsers = await getTotalUsers()\r\n        const totalPages = Math.ceil(totalUsers / limit)\r\n        res.render('layout', {\r\n            page: 'pages/listUser',\r\n            title: 'Danh sách tài khoản',\r\n            deleteErrorMessage: '',\r\n            deleteSuccessMessage: '',\r\n            users: users,\r\n            currentPage: page,\r\n            totalPages,\r\n            offset,\r\n            usernameSession,\r\n            roleSession,\r\n        })\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport const getDetailUserPage = async (req, res) => {\r\n    const { username } = req.params\r\n    const user = await getDetailUserData(username)\r\n\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    res.render('layout', { \r\n        page: 'pages/detailUser',\r\n        title: 'Chi tiết người dùng',\r\n        errorMessage: '',\r\n        user: user,\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}\r\n\r\nexport const getEditUserPage = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    const { username } = req.params\r\n    const user = await getDetailUserData(username)\r\n    return res.render('layout', { \r\n        page: 'pages/editUser',\r\n        title: 'Thay đổi thông tin người dùng',\r\n        updateErrorMessage: '',\r\n        updateSuccessMessage: '',\r\n        user: user,\r\n        usernameSession,\r\n        roleSession\r\n    });\r\n}\r\n\r\nexport const updateUser = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    let { username, fullname, sex, email, address, groupid } = req.body\r\n\r\n    if (!username || !fullname || !sex || !email || !address || !groupid) {\r\n        return res.status(400).send('Thiếu thông tin cần thiết')\r\n    }\r\n\r\n    if (groupid === 'Admin') {\r\n        groupid = 1\r\n    } else if (groupid === 'User') {\r\n        groupid = 2\r\n    } else {\r\n        return res.render('layout', { \r\n            page: 'pages/editUser', \r\n            title: 'Chi tiết người dùng', \r\n            updateErrorMessage: 'Giá trị quyền không hợp lệ', \r\n            updateSuccessMessage: '', \r\n            user: userDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    if (sex === 'Nam') {\r\n        sex = 'Male'\r\n    } else if (sex === 'Nữ') {\r\n        sex = 'Female'\r\n    } else if (sex === 'Khác') {\r\n        sex = 'Other'\r\n    } else {\r\n        return res.render('layout', { \r\n            page: 'pages/editUser', \r\n            title: 'Chi tiết người dùng', \r\n            updateErrorMessage: 'Giá trị giới tính không hợp lệ', \r\n            updateSuccessMessage: '', \r\n            user: userDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    const updateResult = await updateUserModel(username, { fullname, sex, email, address, groupid })\r\n    const userDetails = await getDetailUserData(username)\r\n\r\n    if (!updateResult) {\r\n        return res.render('layout', { \r\n            page: 'pages/editUser', \r\n            title: 'Chi tiết người dùng', \r\n            updateErrorMessage: 'Có lỗi xảy ra khi cập nhật', \r\n            updateSuccessMessage: '', \r\n            user: userDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    return res.render('layout', { \r\n        page: 'pages/editUser', \r\n        title: 'Chi tiết người dùng', \r\n        updateErrorMessage: '', \r\n        updateSuccessMessage: 'Cập nhật thành công', \r\n        user: userDetails,\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}\r\n\r\nexport const authAccount = async (req, res) => {\r\n    const { username, password } = req.body\r\n    \r\n    if (!username || !password) {\r\n        return res.render('pages/login', { title: 'Đăng nhập', errorMessage: 'Vui lòng nhập đầy đủ thông tin!' })\r\n    }\r\n    \r\n    const isUsernameAvailable = await checkUsernameExists(username)\r\n    if (isUsernameAvailable) {\r\n        return res.render('pages/login', { title: 'Đăng nhập', errorMessage: 'Tài khoản này không tồn tại!' })\r\n    }\r\n\r\n    const hashPassword =  await getHashPassword(username)\r\n    const isPasswordValid = await comparePassword(password, hashPassword)\r\n    if (isPasswordValid) {\r\n        const user = await getDetailUserData(username)\r\n        const roleSession = user.groupid\r\n        createSession(req, username, roleSession)\r\n        return res.redirect('/')\r\n    } else {\r\n        return res.render('layout', { page: 'pages/login', title: 'Đăng nhập', errorMessage: 'Sai mật khẩu' })\r\n    }\r\n}\r\n\r\nexport const createUser = async (req, res) => {\r\n    const { fullname, username, password, gender, email, address, role } = req.body\r\n\r\n    const isUsernameAvailable = await checkUsernameExists(username)\r\n    if (!isUsernameAvailable) {\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Tài khoản đã được sử dụng' })\r\n    }\r\n\r\n    const isEmailAvailable = await checkEmailExists(email)\r\n    if (!isEmailAvailable) {\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Email đã được sử dụng' })\r\n    }\r\n\r\n    if (!username || !password) {\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Tên tài khoản và Mật khâủ là bắt buộc' })\r\n    }\r\n\r\n    const hashedPassword = await hashPassword(password)\r\n  \r\n    try {\r\n        const result = importUser(username, hashedPassword, fullname, address, gender, email, role)\r\n        if (!result) {\r\n            return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Tạo tài khoản thất bại!' })\r\n        }\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: 'Tạo tài khoản thành công', errorMessage: '' })\r\n    } catch (error) {\r\n        console.error('Lỗi tạo người dùng:', error)\r\n        res.render('pages/newUser', { title: 'Đăng ký', errorMessage: error })\r\n    }\r\n}\r\n\r\nconst hashPassword = async (password) => {\r\n    const saltRounds = 10\r\n    try {\r\n        return await bcrypt.hash(password, saltRounds)\r\n    } catch (error) {\r\n        console.error('Lỗi khi hash mật khẩu:', error)\r\n        throw new Error('Không thể hash mật khẩu')\r\n    }\r\n}\r\n\r\nexport const comparePassword = async (password, hashPassword) => {\r\n    try {\r\n        return await bcrypt.compare(password, hashPassword)\r\n    } catch (error) {\r\n        console.error('Lỗi khi so sánh mật khẩu:', error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getUserListData = async (offset, limit) => {\r\n    const users = await getUsers(offset, limit)\r\n    const formattedUsers = users.map(user => {\r\n        return {\r\n            fullname: user.fullname,\r\n            username: user.username,\r\n            sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\r\n            email: user.email,\r\n            address: user.address,\r\n            groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\r\n        }\r\n    })\r\n    \r\n    return formattedUsers\r\n}\r\n\r\nexport const getDetailUserData = async (username) => {\r\n    try {\r\n        const user = await getDetailUserModel(username)\r\n        const formattedUser = {\r\n            fullname: user.fullname,\r\n            username: user.username,\r\n            sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\r\n            email: user.email,\r\n            address: user.address,\r\n            groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\r\n        }\r\n        \r\n        return formattedUser\r\n    } catch (error) {\r\n        console.error('Lỗi xem nguời dùng:', error)\r\n    }\r\n    \r\n}\r\n\r\nexport const deleteUser = async (req, res) => {\r\n    const { username } = req.params\r\n    try {\r\n        const isDeleted = await deleteUserModel(username)\r\n        if (isDeleted) {\r\n            return res.redirect('/list-user')\r\n        } else {\r\n            return res.redirect('/list-user')\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n        return res.redirect('/')\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1731578942691},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.getUserListPage = exports.getUserListData = exports.getNewUserPage = exports.getLoginPage = exports.getEditUserPage = exports.getDetailUserPage = exports.getDetailUserData = exports.deleteUser = exports.createUser = exports.comparePassword = exports.authAccount = void 0;\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.promise.js\");\nvar _useModel = require(\"../model/useModel\");\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst getNewUserPage = (req, res) => {\n  return res.render('pages/newUser', {\n    title: 'Đăng ký',\n    successMessage: '',\n    errorMessage: ''\n  });\n};\nexports.getNewUserPage = getNewUserPage;\nconst getLoginPage = (req, res) => {\n  return res.render('pages/login', {\n    title: 'Đăng nhập',\n    errorMessage: ''\n  });\n};\nexports.getLoginPage = getLoginPage;\nconst getUserListPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    const page = parseInt(req.query.page) || 1;\n    const limit = 10;\n    const offset = (page - 1) * limit;\n    const users = await getUserListData(offset, limit);\n    const totalUsers = await (0, _useModel.getTotalUsers)();\n    const totalPages = Math.ceil(totalUsers / limit);\n    res.render('layout', {\n      page: 'pages/listUser',\n      title: 'Danh sách tài khoản',\n      deleteErrorMessage: '',\n      deleteSuccessMessage: '',\n      users: users,\n      currentPage: page,\n      totalPages,\n      offset,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.getUserListPage = getUserListPage;\nconst getDetailUserPage = async (req, res) => {\n  const {\n    username\n  } = req.params;\n  const user = await getDetailUserData(username);\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  res.render('layout', {\n    page: 'pages/detailUser',\n    title: 'Chi tiết người dùng',\n    errorMessage: '',\n    user: user,\n    usernameSession,\n    roleSession\n  });\n};\nexports.getDetailUserPage = getDetailUserPage;\nconst getEditUserPage = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  const {\n    username\n  } = req.params;\n  const user = await getDetailUserData(username);\n  return res.render('layout', {\n    page: 'pages/editUser',\n    title: 'Thay đổi thông tin người dùng',\n    updateErrorMessage: '',\n    updateSuccessMessage: '',\n    user: user,\n    usernameSession,\n    roleSession\n  });\n};\nexports.getEditUserPage = getEditUserPage;\nconst updateUser = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  let {\n    username,\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  } = req.body;\n  if (!username || !fullname || !sex || !email || !address || !groupid) {\n    return res.status(400).send('Thiếu thông tin cần thiết');\n  }\n  if (groupid === 'Admin') {\n    groupid = 1;\n  } else if (groupid === 'User') {\n    groupid = 2;\n  } else {\n    return res.render('layout', {\n      page: 'pages/editUser',\n      title: 'Chi tiết người dùng',\n      updateErrorMessage: 'Giá trị quyền không hợp lệ',\n      updateSuccessMessage: '',\n      user: userDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  if (sex === 'Nam') {\n    sex = 'Male';\n  } else if (sex === 'Nữ') {\n    sex = 'Female';\n  } else if (sex === 'Khác') {\n    sex = 'Other';\n  } else {\n    return res.render('layout', {\n      page: 'pages/editUser',\n      title: 'Chi tiết người dùng',\n      updateErrorMessage: 'Giá trị giới tính không hợp lệ',\n      updateSuccessMessage: '',\n      user: userDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  const updateResult = await (0, _useModel.updateUserModel)(username, {\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  });\n  const userDetails = await getDetailUserData(username);\n  if (!updateResult) {\n    return res.render('layout', {\n      page: 'pages/editUser',\n      title: 'Chi tiết người dùng',\n      updateErrorMessage: 'Có lỗi xảy ra khi cập nhật',\n      updateSuccessMessage: '',\n      user: userDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  return res.render('layout', {\n    page: 'pages/editUser',\n    title: 'Chi tiết người dùng',\n    updateErrorMessage: '',\n    updateSuccessMessage: 'Cập nhật thành công',\n    user: userDetails,\n    usernameSession,\n    roleSession\n  });\n};\nexports.updateUser = updateUser;\nconst authAccount = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  if (!username || !password) {\n    return res.render('pages/login', {\n      title: 'Đăng nhập',\n      errorMessage: 'Vui lòng nhập đầy đủ thông tin!'\n    });\n  }\n  const isUsernameAvailable = await (0, _useModel.checkUsernameExists)(username);\n  if (isUsernameAvailable) {\n    return res.render('pages/login', {\n      title: 'Đăng nhập',\n      errorMessage: 'Tài khoản này không tồn tại!'\n    });\n  }\n  const hashPassword = await (0, _useModel.getHashPassword)(username);\n  const isPasswordValid = await comparePassword(password, hashPassword);\n  if (isPasswordValid) {\n    const user = await getDetailUserData(username);\n    const roleSession = user.groupid;\n    (0, _authMiddleware.createSession)(req, username, roleSession);\n    return res.redirect('/');\n  } else {\n    return res.render('layout', {\n      page: 'pages/login',\n      title: 'Đăng nhập',\n      errorMessage: 'Sai mật khẩu'\n    });\n  }\n};\nexports.authAccount = authAccount;\nconst createUser = async (req, res) => {\n  const {\n    fullname,\n    username,\n    password,\n    gender,\n    email,\n    address,\n    role\n  } = req.body;\n  const isUsernameAvailable = await (0, _useModel.checkUsernameExists)(username);\n  if (!isUsernameAvailable) {\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: '',\n      errorMessage: 'Tài khoản đã được sử dụng'\n    });\n  }\n  const isEmailAvailable = await (0, _useModel.checkEmailExists)(email);\n  if (!isEmailAvailable) {\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: '',\n      errorMessage: 'Email đã được sử dụng'\n    });\n  }\n  if (!username || !password) {\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: '',\n      errorMessage: 'Tên tài khoản và Mật khâủ là bắt buộc'\n    });\n  }\n  const hashedPassword = await hashPassword(password);\n  try {\n    const result = (0, _useModel.importUser)(username, hashedPassword, fullname, address, gender, email, role);\n    if (!result) {\n      return res.render('pages/newUser', {\n        title: 'Đăng ký',\n        successMessage: '',\n        errorMessage: 'Tạo tài khoản thất bại!'\n      });\n    }\n    return res.render('pages/newUser', {\n      title: 'Đăng ký',\n      successMessage: 'Tạo tài khoản thành công',\n      errorMessage: ''\n    });\n  } catch (error) {\n    console.error('Lỗi tạo người dùng:', error);\n    res.render('pages/newUser', {\n      title: 'Đăng ký',\n      errorMessage: error\n    });\n  }\n};\nexports.createUser = createUser;\nconst hashPassword = async password => {\n  const saltRounds = 10;\n  try {\n    return await _bcrypt.default.hash(password, saltRounds);\n  } catch (error) {\n    console.error('Lỗi khi hash mật khẩu:', error);\n    throw new Error('Không thể hash mật khẩu');\n  }\n};\nconst comparePassword = async (password, hashPassword) => {\n  try {\n    return await _bcrypt.default.compare(password, hashPassword);\n  } catch (error) {\n    console.error('Lỗi khi so sánh mật khẩu:', error);\n    return false;\n  }\n};\nexports.comparePassword = comparePassword;\nconst getUserListData = async (offset, limit) => {\n  const users = await (0, _useModel.getUsers)(offset, limit);\n  const formattedUsers = users.map(user => {\n    return {\n      fullname: user.fullname,\n      username: user.username,\n      sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\n      email: user.email,\n      address: user.address,\n      groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\n    };\n  });\n  return formattedUsers;\n};\nexports.getUserListData = getUserListData;\nconst getDetailUserData = async username => {\n  try {\n    const user = await (0, _useModel.getDetailUserModel)(username);\n    const formattedUser = {\n      fullname: user.fullname,\n      username: user.username,\n      sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\n      email: user.email,\n      address: user.address,\n      groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\n    };\n    return formattedUser;\n  } catch (error) {\n    console.error('Lỗi xem nguời dùng:', error);\n  }\n};\nexports.getDetailUserData = getDetailUserData;\nconst deleteUser = async (req, res) => {\n  const {\n    username\n  } = req.params;\n  try {\n    const isDeleted = await (0, _useModel.deleteUserModel)(username);\n    if (isDeleted) {\n      return res.redirect('/list-user');\n    } else {\n      return res.redirect('/list-user');\n    }\n  } catch (error) {\n    console.error(error);\n    return res.redirect('/');\n  }\n};\nexports.deleteUser = deleteUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlTW9kZWwiLCJyZXF1aXJlIiwiX2F1dGhNaWRkbGV3YXJlIiwiX2JjcnlwdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXROZXdVc2VyUGFnZSIsInJlcSIsInJlcyIsInJlbmRlciIsInRpdGxlIiwic3VjY2Vzc01lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJleHBvcnRzIiwiZ2V0TG9naW5QYWdlIiwiZ2V0VXNlckxpc3RQYWdlIiwic2Vzc2lvbkRhdGEiLCJnZXRTZXNzaW9uRGF0YSIsInJlZGlyZWN0IiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJwYWdlIiwicGFyc2VJbnQiLCJxdWVyeSIsImxpbWl0Iiwib2Zmc2V0IiwidXNlcnMiLCJnZXRVc2VyTGlzdERhdGEiLCJ0b3RhbFVzZXJzIiwiZ2V0VG90YWxVc2VycyIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImRlbGV0ZUVycm9yTWVzc2FnZSIsImRlbGV0ZVN1Y2Nlc3NNZXNzYWdlIiwiY3VycmVudFBhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJnZXREZXRhaWxVc2VyUGFnZSIsInVzZXJuYW1lIiwicGFyYW1zIiwidXNlciIsImdldERldGFpbFVzZXJEYXRhIiwiZ2V0RWRpdFVzZXJQYWdlIiwidXBkYXRlRXJyb3JNZXNzYWdlIiwidXBkYXRlU3VjY2Vzc01lc3NhZ2UiLCJ1cGRhdGVVc2VyIiwiZnVsbG5hbWUiLCJzZXgiLCJlbWFpbCIsImFkZHJlc3MiLCJncm91cGlkIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJ1c2VyRGV0YWlscyIsInVwZGF0ZVJlc3VsdCIsInVwZGF0ZVVzZXJNb2RlbCIsImF1dGhBY2NvdW50IiwicGFzc3dvcmQiLCJpc1VzZXJuYW1lQXZhaWxhYmxlIiwiY2hlY2tVc2VybmFtZUV4aXN0cyIsImhhc2hQYXNzd29yZCIsImdldEhhc2hQYXNzd29yZCIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmVQYXNzd29yZCIsImNyZWF0ZVNlc3Npb24iLCJjcmVhdGVVc2VyIiwiZ2VuZGVyIiwicm9sZSIsImlzRW1haWxBdmFpbGFibGUiLCJjaGVja0VtYWlsRXhpc3RzIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJpbXBvcnRVc2VyIiwic2FsdFJvdW5kcyIsImJjcnlwdCIsImhhc2giLCJFcnJvciIsImNvbXBhcmUiLCJnZXRVc2VycyIsImZvcm1hdHRlZFVzZXJzIiwibWFwIiwiZ2V0RGV0YWlsVXNlck1vZGVsIiwiZm9ybWF0dGVkVXNlciIsImRlbGV0ZVVzZXIiLCJpc0RlbGV0ZWQiLCJkZWxldGVVc2VyTW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcG9ydFVzZXIgfSBmcm9tIFwiLi4vbW9kZWwvdXNlTW9kZWxcIlxyXG5pbXBvcnQgeyBjaGVja1VzZXJuYW1lRXhpc3RzIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuaW1wb3J0IHsgY2hlY2tFbWFpbEV4aXN0cyB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGdldEhhc2hQYXNzd29yZCB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGdldFVzZXJzIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuaW1wb3J0IHsgZ2V0RGV0YWlsVXNlck1vZGVsIH0gZnJvbSBcIi4uL21vZGVsL3VzZU1vZGVsXCJcclxuaW1wb3J0IHsgZ2V0VG90YWxVc2VycyB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IHVwZGF0ZVVzZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGRlbGV0ZVVzZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbC91c2VNb2RlbFwiXHJcbmltcG9ydCB7IGNyZWF0ZVNlc3Npb24gfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZVwiXHJcbmltcG9ydCB7IGdldFNlc3Npb25EYXRhIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmVcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0TmV3VXNlclBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9uZXdVc2VyJywgeyB0aXRsZTogJ8SQxINuZyBrw70nLCBzdWNjZXNzTWVzc2FnZTogJycsIGVycm9yTWVzc2FnZTogJycgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRMb2dpblBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9sb2dpbicsIHsgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJywgZXJyb3JNZXNzYWdlOiAnJyB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJMaXN0UGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHVzZXJuYW1lU2Vzc2lvbiwgcm9sZVNlc3Npb24gfSA9IHNlc3Npb25EYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChyZXEucXVlcnkucGFnZSkgfHwgMVxyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gMTBcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXRcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IGdldFVzZXJMaXN0RGF0YShvZmZzZXQsIGxpbWl0KVxyXG4gICAgICAgIGNvbnN0IHRvdGFsVXNlcnMgPSBhd2FpdCBnZXRUb3RhbFVzZXJzKClcclxuICAgICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsVXNlcnMgLyBsaW1pdClcclxuICAgICAgICByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9saXN0VXNlcicsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnRGFuaCBzw6FjaCB0w6BpIGtob+G6o24nLFxyXG4gICAgICAgICAgICBkZWxldGVFcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBkZWxldGVTdWNjZXNzTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIHVzZXJzOiB1c2VycyxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICAgIHRvdGFsUGFnZXMsXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvbixcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RGV0YWlsVXNlclBhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXREZXRhaWxVc2VyRGF0YSh1c2VybmFtZSlcclxuXHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgIHBhZ2U6ICdwYWdlcy9kZXRhaWxVc2VyJyxcclxuICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3QgbmfGsOG7nWkgZMO5bmcnLFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogJycsXHJcbiAgICAgICAgdXNlcjogdXNlcixcclxuICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgcm9sZVNlc3Npb25cclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRFZGl0VXNlclBhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgIGlmICghc2Vzc2lvbkRhdGEpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YVxyXG5cclxuICAgIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXREZXRhaWxVc2VyRGF0YSh1c2VybmFtZSlcclxuICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgIHBhZ2U6ICdwYWdlcy9lZGl0VXNlcicsXHJcbiAgICAgICAgdGl0bGU6ICdUaGF5IMSR4buVaSB0aMO0bmcgdGluIG5nxrDhu51pIGTDuW5nJyxcclxuICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgIHVwZGF0ZVN1Y2Nlc3NNZXNzYWdlOiAnJyxcclxuICAgICAgICB1c2VyOiB1c2VyLFxyXG4gICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICBsZXQgeyB1c2VybmFtZSwgZnVsbG5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgaWYgKCF1c2VybmFtZSB8fCAhZnVsbG5hbWUgfHwgIXNleCB8fCAhZW1haWwgfHwgIWFkZHJlc3MgfHwgIWdyb3VwaWQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1RoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90JylcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZ3JvdXBpZCA9PT0gJ0FkbWluJykge1xyXG4gICAgICAgIGdyb3VwaWQgPSAxXHJcbiAgICB9IGVsc2UgaWYgKGdyb3VwaWQgPT09ICdVc2VyJykge1xyXG4gICAgICAgIGdyb3VwaWQgPSAyXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvZWRpdFVzZXInLCBcclxuICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgICAgIHVwZGF0ZUVycm9yTWVzc2FnZTogJ0dpw6EgdHLhu4sgcXV54buBbiBraMO0bmcgaOG7o3AgbOG7hycsIFxyXG4gICAgICAgICAgICB1cGRhdGVTdWNjZXNzTWVzc2FnZTogJycsIFxyXG4gICAgICAgICAgICB1c2VyOiB1c2VyRGV0YWlscyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNleCA9PT0gJ05hbScpIHtcclxuICAgICAgICBzZXggPSAnTWFsZSdcclxuICAgIH0gZWxzZSBpZiAoc2V4ID09PSAnTuG7rycpIHtcclxuICAgICAgICBzZXggPSAnRmVtYWxlJ1xyXG4gICAgfSBlbHNlIGlmIChzZXggPT09ICdLaMOhYycpIHtcclxuICAgICAgICBzZXggPSAnT3RoZXInXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvZWRpdFVzZXInLCBcclxuICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgICAgIHVwZGF0ZUVycm9yTWVzc2FnZTogJ0dpw6EgdHLhu4sgZ2nhu5tpIHTDrW5oIGtow7RuZyBo4bujcCBs4buHJywgXHJcbiAgICAgICAgICAgIHVwZGF0ZVN1Y2Nlc3NNZXNzYWdlOiAnJywgXHJcbiAgICAgICAgICAgIHVzZXI6IHVzZXJEZXRhaWxzLFxyXG4gICAgICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVVc2VyTW9kZWwodXNlcm5hbWUsIHsgZnVsbG5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgfSlcclxuICAgIGNvbnN0IHVzZXJEZXRhaWxzID0gYXdhaXQgZ2V0RGV0YWlsVXNlckRhdGEodXNlcm5hbWUpXHJcblxyXG4gICAgaWYgKCF1cGRhdGVSZXN1bHQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0JywgeyBcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2VkaXRVc2VyJywgXHJcbiAgICAgICAgICAgIHRpdGxlOiAnQ2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZycsIFxyXG4gICAgICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2U6ICdDw7MgbOG7l2kgeOG6o3kgcmEga2hpIGPhuq1wIG5o4bqtdCcsIFxyXG4gICAgICAgICAgICB1cGRhdGVTdWNjZXNzTWVzc2FnZTogJycsIFxyXG4gICAgICAgICAgICB1c2VyOiB1c2VyRGV0YWlscyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgXHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzL2VkaXRVc2VyJywgXHJcbiAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgdXBkYXRlRXJyb3JNZXNzYWdlOiAnJywgXHJcbiAgICAgICAgdXBkYXRlU3VjY2Vzc01lc3NhZ2U6ICdD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nJywgXHJcbiAgICAgICAgdXNlcjogdXNlckRldGFpbHMsXHJcbiAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgIHJvbGVTZXNzaW9uXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aEFjY291bnQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keVxyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9sb2dpbicsIHsgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJywgZXJyb3JNZXNzYWdlOiAnVnVpIGzDsm5nIG5o4bqtcCDEkeG6p3kgxJHhu6cgdGjDtG5nIHRpbiEnIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGlzVXNlcm5hbWVBdmFpbGFibGUgPSBhd2FpdCBjaGVja1VzZXJuYW1lRXhpc3RzKHVzZXJuYW1lKVxyXG4gICAgaWYgKGlzVXNlcm5hbWVBdmFpbGFibGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigncGFnZXMvbG9naW4nLCB7IHRpdGxlOiAnxJDEg25nIG5o4bqtcCcsIGVycm9yTWVzc2FnZTogJ1TDoGkga2hv4bqjbiBuw6B5IGtow7RuZyB04buTbiB04bqhaSEnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFzaFBhc3N3b3JkID0gIGF3YWl0IGdldEhhc2hQYXNzd29yZCh1c2VybmFtZSlcclxuICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgaGFzaFBhc3N3b3JkKVxyXG4gICAgaWYgKGlzUGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXREZXRhaWxVc2VyRGF0YSh1c2VybmFtZSlcclxuICAgICAgICBjb25zdCByb2xlU2Vzc2lvbiA9IHVzZXIuZ3JvdXBpZFxyXG4gICAgICAgIGNyZWF0ZVNlc3Npb24ocmVxLCB1c2VybmFtZSwgcm9sZVNlc3Npb24pXHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnLycpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IHBhZ2U6ICdwYWdlcy9sb2dpbicsIHRpdGxlOiAnxJDEg25nIG5o4bqtcCcsIGVycm9yTWVzc2FnZTogJ1NhaSBt4bqtdCBraOG6qXUnIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IGZ1bGxuYW1lLCB1c2VybmFtZSwgcGFzc3dvcmQsIGdlbmRlciwgZW1haWwsIGFkZHJlc3MsIHJvbGUgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgY29uc3QgaXNVc2VybmFtZUF2YWlsYWJsZSA9IGF3YWl0IGNoZWNrVXNlcm5hbWVFeGlzdHModXNlcm5hbWUpXHJcbiAgICBpZiAoIWlzVXNlcm5hbWVBdmFpbGFibGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigncGFnZXMvbmV3VXNlcicsIHsgdGl0bGU6ICfEkMSDbmcga8O9Jywgc3VjY2Vzc01lc3NhZ2U6ICcnLCBlcnJvck1lc3NhZ2U6ICdUw6BpIGtob+G6o24gxJHDoyDEkcaw4bujYyBz4butIGThu6VuZycgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc0VtYWlsQXZhaWxhYmxlID0gYXdhaXQgY2hlY2tFbWFpbEV4aXN0cyhlbWFpbClcclxuICAgIGlmICghaXNFbWFpbEF2YWlsYWJsZSkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9uZXdVc2VyJywgeyB0aXRsZTogJ8SQxINuZyBrw70nLCBzdWNjZXNzTWVzc2FnZTogJycsIGVycm9yTWVzc2FnZTogJ0VtYWlsIMSRw6MgxJHGsOG7o2Mgc+G7rSBk4bulbmcnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigncGFnZXMvbmV3VXNlcicsIHsgdGl0bGU6ICfEkMSDbmcga8O9Jywgc3VjY2Vzc01lc3NhZ2U6ICcnLCBlcnJvck1lc3NhZ2U6ICdUw6puIHTDoGkga2hv4bqjbiB2w6AgTeG6rXQga2jDouG7pyBsw6AgYuG6r3QgYnXhu5ljJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3b3JkKHBhc3N3b3JkKVxyXG4gIFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBpbXBvcnRVc2VyKHVzZXJuYW1lLCBoYXNoZWRQYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdlbmRlciwgZW1haWwsIHJvbGUpXHJcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ3BhZ2VzL25ld1VzZXInLCB7IHRpdGxlOiAnxJDEg25nIGvDvScsIHN1Y2Nlc3NNZXNzYWdlOiAnJywgZXJyb3JNZXNzYWdlOiAnVOG6oW8gdMOgaSBraG/huqNuIHRo4bqldCBi4bqhaSEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdwYWdlcy9uZXdVc2VyJywgeyB0aXRsZTogJ8SQxINuZyBrw70nLCBzdWNjZXNzTWVzc2FnZTogJ1ThuqFvIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmcnLCBlcnJvck1lc3NhZ2U6ICcnIH0pXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIHThuqFvIG5nxrDhu51pIGTDuW5nOicsIGVycm9yKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ3BhZ2VzL25ld1VzZXInLCB7IHRpdGxlOiAnxJDEg25nIGvDvScsIGVycm9yTWVzc2FnZTogZXJyb3IgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgaGFzaFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgICBjb25zdCBzYWx0Um91bmRzID0gMTBcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgaGFzaCBt4bqtdCBraOG6qXU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLaMO0bmcgdGjhu4MgaGFzaCBt4bqtdCBraOG6qXUnKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoUGFzc3dvcmQpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBzbyBzw6FuaCBt4bqtdCBraOG6qXU6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyTGlzdERhdGEgPSBhc3luYyAob2Zmc2V0LCBsaW1pdCkgPT4ge1xyXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBnZXRVc2VycyhvZmZzZXQsIGxpbWl0KVxyXG4gICAgY29uc3QgZm9ybWF0dGVkVXNlcnMgPSB1c2Vycy5tYXAodXNlciA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZnVsbG5hbWU6IHVzZXIuZnVsbG5hbWUsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBzZXg6IHVzZXIuc2V4ID09PSAnbWFsZScgPyAnTmFtJyA6IHVzZXIuc2V4ID09PSAnZmVtYWxlJyA/ICdO4buvJyA6IHVzZXIuc2V4LFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYWRkcmVzczogdXNlci5hZGRyZXNzLFxyXG4gICAgICAgICAgICBncm91cGlkOiB1c2VyLmdyb3VwaWQgPT09IDEgPyAnQWRtaW4nIDogdXNlci5ncm91cGlkID09PSAyID8gJ1VzZXInIDogJ1Vua25vd24nXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgcmV0dXJuIGZvcm1hdHRlZFVzZXJzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXREZXRhaWxVc2VyRGF0YSA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0RGV0YWlsVXNlck1vZGVsKHVzZXJuYW1lKVxyXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFVzZXIgPSB7XHJcbiAgICAgICAgICAgIGZ1bGxuYW1lOiB1c2VyLmZ1bGxuYW1lLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgICAgICAgICAgc2V4OiB1c2VyLnNleCA9PT0gJ21hbGUnID8gJ05hbScgOiB1c2VyLnNleCA9PT0gJ2ZlbWFsZScgPyAnTuG7rycgOiB1c2VyLnNleCxcclxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGFkZHJlc3M6IHVzZXIuYWRkcmVzcyxcclxuICAgICAgICAgICAgZ3JvdXBpZDogdXNlci5ncm91cGlkID09PSAxID8gJ0FkbWluJyA6IHVzZXIuZ3JvdXBpZCA9PT0gMiA/ICdVc2VyJyA6ICdVbmtub3duJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkVXNlclxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSB4ZW0gbmd14budaSBkw7luZzonLCBlcnJvcilcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VybmFtZSB9ID0gcmVxLnBhcmFtc1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpc0RlbGV0ZWQgPSBhd2FpdCBkZWxldGVVc2VyTW9kZWwodXNlcm5hbWUpXHJcbiAgICAgICAgaWYgKGlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbGlzdC11c2VyJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbGlzdC11c2VyJylcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnLycpXHJcbiAgICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQVNBLElBQUFDLGVBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUE0QixTQUFBRyx1QkFBQUMsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUVyQixNQUFNRyxjQUFjLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hDLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLGVBQWUsRUFBRTtJQUFFQyxLQUFLLEVBQUUsU0FBUztJQUFFQyxjQUFjLEVBQUUsRUFBRTtJQUFFQyxZQUFZLEVBQUU7RUFBRyxDQUFDLENBQUM7QUFDbEcsQ0FBQztBQUFBQyxPQUFBLENBQUFQLGNBQUEsR0FBQUEsY0FBQTtBQUVNLE1BQU1RLFlBQVksR0FBR0EsQ0FBQ1AsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsT0FBT0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsYUFBYSxFQUFFO0lBQUVDLEtBQUssRUFBRSxXQUFXO0lBQUVFLFlBQVksRUFBRTtFQUFHLENBQUMsQ0FBQztBQUM5RSxD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","map":{"version":3,"names":["_useModel","require","_authMiddleware","_bcrypt","_interopRequireDefault","e","__esModule","default","getNewUserPage","req","res","render","title","successMessage","errorMessage","exports","getLoginPage","getUserListPage","sessionData","getSessionData","redirect","usernameSession","roleSession","page","parseInt","query","limit","offset","users","getUserListData","totalUsers","getTotalUsers","totalPages","Math","ceil","deleteErrorMessage","deleteSuccessMessage","currentPage","error","console","getDetailUserPage","username","params","user","getDetailUserData","getEditUserPage","updateErrorMessage","updateSuccessMessage","updateUser","fullname","sex","email","address","groupid","body","status","send","userDetails","updateResult","updateUserModel","authAccount","password","isUsernameAvailable","checkUsernameExists","hashPassword","getHashPassword","isPasswordValid","comparePassword","createSession","createUser","gender","role","isEmailAvailable","checkEmailExists","hashedPassword","result","importUser","saltRounds","bcrypt","hash","Error","compare","getUsers","formattedUsers","map","getDetailUserModel","formattedUser","deleteUser","isDeleted","deleteUserModel"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["UserController.js"],"sourcesContent":["import { importUser } from \"../model/useModel\"\r\nimport { checkUsernameExists } from \"../model/useModel\"\r\nimport { checkEmailExists } from \"../model/useModel\"\r\nimport { getHashPassword } from \"../model/useModel\"\r\nimport { getUsers } from \"../model/useModel\"\r\nimport { getDetailUserModel } from \"../model/useModel\"\r\nimport { getTotalUsers } from \"../model/useModel\"\r\nimport { updateUserModel } from \"../model/useModel\"\r\nimport { deleteUserModel } from \"../model/useModel\"\r\nimport { createSession } from \"../middleware/authMiddleware\"\r\nimport { getSessionData } from \"../middleware/authMiddleware\"\r\nimport bcrypt from 'bcrypt';\r\n\r\nexport const getNewUserPage = (req, res) => {\r\n    return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: '' });\r\n}\r\n\r\nexport const getLoginPage = (req, res) => {\r\n    return res.render('pages/login', { title: 'Đăng nhập', errorMessage: '' });\r\n}\r\n\r\nexport const getUserListPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req)\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login')\r\n        }\r\n        const { usernameSession, roleSession } = sessionData\r\n\r\n        const page = parseInt(req.query.page) || 1\r\n        const limit = 10\r\n        const offset = (page - 1) * limit\r\n        \r\n        const users = await getUserListData(offset, limit)\r\n        const totalUsers = await getTotalUsers()\r\n        const totalPages = Math.ceil(totalUsers / limit)\r\n        res.render('layout', {\r\n            page: 'pages/listUser',\r\n            title: 'Danh sách tài khoản',\r\n            deleteErrorMessage: '',\r\n            deleteSuccessMessage: '',\r\n            users: users,\r\n            currentPage: page,\r\n            totalPages,\r\n            offset,\r\n            usernameSession,\r\n            roleSession,\r\n        })\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport const getDetailUserPage = async (req, res) => {\r\n    const { username } = req.params\r\n    const user = await getDetailUserData(username)\r\n\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    res.render('layout', { \r\n        page: 'pages/detailUser',\r\n        title: 'Chi tiết người dùng',\r\n        errorMessage: '',\r\n        user: user,\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}\r\n\r\nexport const getEditUserPage = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    const { username } = req.params\r\n    const user = await getDetailUserData(username)\r\n    return res.render('layout', { \r\n        page: 'pages/editUser',\r\n        title: 'Thay đổi thông tin người dùng',\r\n        updateErrorMessage: '',\r\n        updateSuccessMessage: '',\r\n        user: user,\r\n        usernameSession,\r\n        roleSession\r\n    });\r\n}\r\n\r\nexport const updateUser = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    let { username, fullname, sex, email, address, groupid } = req.body\r\n\r\n    if (!username || !fullname || !sex || !email || !address || !groupid) {\r\n        return res.status(400).send('Thiếu thông tin cần thiết')\r\n    }\r\n\r\n    if (groupid === 'Admin') {\r\n        groupid = 1\r\n    } else if (groupid === 'User') {\r\n        groupid = 2\r\n    } else {\r\n        return res.render('layout', { \r\n            page: 'pages/editUser', \r\n            title: 'Chi tiết người dùng', \r\n            updateErrorMessage: 'Giá trị quyền không hợp lệ', \r\n            updateSuccessMessage: '', \r\n            user: userDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    if (sex === 'Nam') {\r\n        sex = 'Male'\r\n    } else if (sex === 'Nữ') {\r\n        sex = 'Female'\r\n    } else if (sex === 'Khác') {\r\n        sex = 'Other'\r\n    } else {\r\n        return res.render('layout', { \r\n            page: 'pages/editUser', \r\n            title: 'Chi tiết người dùng', \r\n            updateErrorMessage: 'Giá trị giới tính không hợp lệ', \r\n            updateSuccessMessage: '', \r\n            user: userDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    const updateResult = await updateUserModel(username, { fullname, sex, email, address, groupid })\r\n    const userDetails = await getDetailUserData(username)\r\n\r\n    if (!updateResult) {\r\n        return res.render('layout', { \r\n            page: 'pages/editUser', \r\n            title: 'Chi tiết người dùng', \r\n            updateErrorMessage: 'Có lỗi xảy ra khi cập nhật', \r\n            updateSuccessMessage: '', \r\n            user: userDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    return res.render('layout', { \r\n        page: 'pages/editUser', \r\n        title: 'Chi tiết người dùng', \r\n        updateErrorMessage: '', \r\n        updateSuccessMessage: 'Cập nhật thành công', \r\n        user: userDetails,\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}\r\n\r\nexport const authAccount = async (req, res) => {\r\n    const { username, password } = req.body\r\n    \r\n    if (!username || !password) {\r\n        return res.render('pages/login', { title: 'Đăng nhập', errorMessage: 'Vui lòng nhập đầy đủ thông tin!' })\r\n    }\r\n    \r\n    const isUsernameAvailable = await checkUsernameExists(username)\r\n    if (isUsernameAvailable) {\r\n        return res.render('pages/login', { title: 'Đăng nhập', errorMessage: 'Tài khoản này không tồn tại!' })\r\n    }\r\n\r\n    const hashPassword =  await getHashPassword(username)\r\n    const isPasswordValid = await comparePassword(password, hashPassword)\r\n    if (isPasswordValid) {\r\n        const user = await getDetailUserData(username)\r\n        const roleSession = user.groupid\r\n        createSession(req, username, roleSession)\r\n        return res.redirect('/')\r\n    } else {\r\n        return res.render('layout', { page: 'pages/login', title: 'Đăng nhập', errorMessage: 'Sai mật khẩu' })\r\n    }\r\n}\r\n\r\nexport const createUser = async (req, res) => {\r\n    const { fullname, username, password, gender, email, address, role } = req.body\r\n\r\n    const isUsernameAvailable = await checkUsernameExists(username)\r\n    if (!isUsernameAvailable) {\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Tài khoản đã được sử dụng' })\r\n    }\r\n\r\n    const isEmailAvailable = await checkEmailExists(email)\r\n    if (!isEmailAvailable) {\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Email đã được sử dụng' })\r\n    }\r\n\r\n    if (!username || !password) {\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Tên tài khoản và Mật khâủ là bắt buộc' })\r\n    }\r\n\r\n    const hashedPassword = await hashPassword(password)\r\n  \r\n    try {\r\n        const result = importUser(username, hashedPassword, fullname, address, gender, email, role)\r\n        if (!result) {\r\n            return res.render('pages/newUser', { title: 'Đăng ký', successMessage: '', errorMessage: 'Tạo tài khoản thất bại!' })\r\n        }\r\n        return res.render('pages/newUser', { title: 'Đăng ký', successMessage: 'Tạo tài khoản thành công', errorMessage: '' })\r\n    } catch (error) {\r\n        console.error('Lỗi tạo người dùng:', error)\r\n        res.render('pages/newUser', { title: 'Đăng ký', errorMessage: error })\r\n    }\r\n}\r\n\r\nconst hashPassword = async (password) => {\r\n    const saltRounds = 10\r\n    try {\r\n        return await bcrypt.hash(password, saltRounds)\r\n    } catch (error) {\r\n        console.error('Lỗi khi hash mật khẩu:', error)\r\n        throw new Error('Không thể hash mật khẩu')\r\n    }\r\n}\r\n\r\nexport const comparePassword = async (password, hashPassword) => {\r\n    try {\r\n        return await bcrypt.compare(password, hashPassword)\r\n    } catch (error) {\r\n        console.error('Lỗi khi so sánh mật khẩu:', error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getUserListData = async (offset, limit) => {\r\n    const users = await getUsers(offset, limit)\r\n    const formattedUsers = users.map(user => {\r\n        return {\r\n            fullname: user.fullname,\r\n            username: user.username,\r\n            sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\r\n            email: user.email,\r\n            address: user.address,\r\n            groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\r\n        }\r\n    })\r\n    \r\n    return formattedUsers\r\n}\r\n\r\nexport const getDetailUserData = async (username) => {\r\n    try {\r\n        const user = await getDetailUserModel(username)\r\n        const formattedUser = {\r\n            fullname: user.fullname,\r\n            username: user.username,\r\n            sex: user.sex === 'male' ? 'Nam' : user.sex === 'female' ? 'Nữ' : user.sex,\r\n            email: user.email,\r\n            address: user.address,\r\n            groupid: user.groupid === 1 ? 'Admin' : user.groupid === 2 ? 'User' : 'Unknown'\r\n        }\r\n        \r\n        return formattedUser\r\n    } catch (error) {\r\n        console.error('Lỗi xem nguời dùng:', error)\r\n    }\r\n    \r\n}\r\n\r\nexport const deleteUser = async (req, res) => {\r\n    const { username } = req.params\r\n    try {\r\n        const isDeleted = await deleteUserModel(username)\r\n        if (isDeleted) {\r\n            return res.redirect('/list-user')\r\n        } else {\r\n            return res.redirect('/list-user')\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n        return res.redirect('/')\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1731578942691},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNewUserPage = void 0;\nconst getNewUserPage = (req, res) => {\n  res.render('layout', {\n    page: 'pages/newUser'\n  });\n};\nexports.getNewUserPage = getNewUserPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXROZXdVc2VyUGFnZSIsInJlcSIsInJlcyIsInJlbmRlciIsInBhZ2UiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJ1c2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0TmV3VXNlclBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgcGFnZTogJ3BhZ2VzL25ld1VzZXInIH0pO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsY0FBYyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4Q0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQUVDLElBQUksRUFBRTtFQUFnQixDQUFDLENBQUM7QUFDbkQsQ0FBQztBQUFDQyxPQUFBLENBQUFMLGNBQUEsR0FBQUEsY0FBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["getNewUserPage","req","res","render","page","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["userController.js"],"sourcesContent":["export const getNewUserPage = (req, res) => {\r\n    res.render('layout', { page: 'pages/newUser' });\r\n};"],"mappings":";;;;;;AAAO,MAAMA,cAAc,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxCA,GAAG,CAACC,MAAM,CAAC,QAAQ,EAAE;IAAEC,IAAI,EAAE;EAAgB,CAAC,CAAC;AACnD,CAAC;AAACC,OAAA,CAAAL,cAAA,GAAAA,cAAA","ignoreList":[]}},"mtime":1731426232383},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNewUserPage = void 0;\nconst getNewUserPage = (req, res) => {\n  res.render('layout', {\n    page: 'pages/newUser'\n  });\n};\nexports.getNewUserPage = getNewUserPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXROZXdVc2VyUGFnZSIsInJlcSIsInJlcyIsInJlbmRlciIsInBhZ2UiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJ1c2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0TmV3VXNlclBhZ2UgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgcGFnZTogJ3BhZ2VzL25ld1VzZXInIH0pO1xyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsY0FBYyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4Q0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsUUFBUSxFQUFFO0lBQUVDLElBQUksRUFBRTtFQUFnQixDQUFDLENBQUM7QUFDbkQsQ0FBQztBQUFDQyxPQUFBLENBQUFMLGNBQUEsR0FBQUEsY0FBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["getNewUserPage","req","res","render","page","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["userController.js"],"sourcesContent":["export const getNewUserPage = (req, res) => {\r\n    res.render('layout', { page: 'pages/newUser' });\r\n};"],"mappings":";;;;;;AAAO,MAAMA,cAAc,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxCA,GAAG,CAACC,MAAM,CAAC,QAAQ,EAAE;IAAEC,IAAI,EAAE;EAAgB,CAAC,CAAC;AACnD,CAAC;AAACC,OAAA,CAAAL,cAAA,GAAAA,cAAA","ignoreList":[]}},"mtime":1731426232383},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\connect.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst config = {\n  host: 'localhost',\n  user: 'root',\n  password: '',\n  database: 'demowebnangcao'\n};\n\n// Hàm kết nối đến MySQL\nconst connect = async () => {\n  try {\n    const connection = await _promise.default.createConnection(config);\n    console.log('connect - Đã kết nối đến DB', config.database);\n    return connection;\n  } catch (error) {\n    console.error(\"Lỗi:\", error);\n    throw error;\n  }\n};\nexports.connect = connect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY29uZmlnIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiY29ubmVjdCIsImNvbm5lY3Rpb24iLCJteXNxbCIsImNyZWF0ZUNvbm5lY3Rpb24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFwiLCJzb3VyY2VzIjpbImNvbm5lY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgdXNlcjogJ3Jvb3QnLFxyXG4gICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgZGF0YWJhc2U6ICdkZW1vd2VibmFuZ2NhbycsXHJcbn07XHJcblxyXG4vLyBIw6BtIGvhur90IG7hu5FpIMSR4bq/biBNeVNRTFxyXG5leHBvcnQgY29uc3QgY29ubmVjdCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oY29uZmlnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0IC0gxJDDoyBr4bq/dCBu4buRaSDEkeG6v24gREInLCBjb25maWcuZGF0YWJhc2UpXHJcbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkzhu5dpOlwiLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFbkMsTUFBTUcsTUFBTSxHQUFHO0VBQ1hDLElBQUksRUFBRSxXQUFXO0VBQ2pCQyxJQUFJLEVBQUUsTUFBTTtFQUNaQyxRQUFRLEVBQUUsRUFBRTtFQUNaQyxRQUFRLEVBQUU7QUFDZCxDQUFDOztBQUVEO0FBQ08sTUFBTUMsT0FBTyxHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUMvQixJQUFJO0lBQ0EsTUFBTUMsVUFBVSxHQUFHLE1BQU1DLGdCQUFLLENBQUNDLGdCQUFnQixDQUFDUixNQUFNLENBQUM7SUFDdkRTLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixFQUFFVixNQUFNLENBQUNJLFFBQVEsQ0FBQztJQUMzRCxPQUFPRSxVQUFVO0VBQ3JCLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7SUFDWkYsT0FBTyxDQUFDRSxLQUFLLENBQUMsTUFBTSxFQUFFQSxLQUFLLENBQUM7SUFDNUIsTUFBTUEsS0FBSztFQUNmO0FBQ0osQ0FBQztBQUFDQyxPQUFBLENBQUFQLE9BQUEsR0FBQUEsT0FBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_promise","_interopRequireDefault","require","e","__esModule","default","config","host","user","password","database","connect","connection","mysql","createConnection","console","log","error","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\","sources":["connect.js"],"sourcesContent":["import mysql from 'mysql2/promise';\r\n\r\nconst config = {\r\n    host: 'localhost',\r\n    user: 'root',\r\n    password: '',\r\n    database: 'demowebnangcao',\r\n};\r\n\r\n// Hàm kết nối đến MySQL\r\nexport const connect = async () => {\r\n    try {\r\n        const connection = await mysql.createConnection(config)\r\n        console.log('connect - Đã kết nối đến DB', config.database)\r\n        return connection\r\n    } catch (error) {\r\n        console.error(\"Lỗi:\", error)\r\n        throw error\r\n    }\r\n};\r\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEnC,MAAMG,MAAM,GAAG;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,EAAE;EACZC,QAAQ,EAAE;AACd,CAAC;;AAED;AACO,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;EAC/B,IAAI;IACA,MAAMC,UAAU,GAAG,MAAMC,gBAAK,CAACC,gBAAgB,CAACR,MAAM,CAAC;IACvDS,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEV,MAAM,CAACI,QAAQ,CAAC;IAC3D,OAAOE,UAAU;EACrB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;IAC5B,MAAMA,KAAK;EACf;AACJ,CAAC;AAACC,OAAA,CAAAP,OAAA,GAAAA,OAAA","ignoreList":[]}},"mtime":1731434662769},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\connect.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst config = {\n  host: 'localhost',\n  user: 'root',\n  password: '',\n  database: 'demowebnangcao'\n};\n\n// Hàm kết nối đến MySQL\nconst connect = async () => {\n  try {\n    const connection = await _promise.default.createConnection(config);\n    console.log('connect - Đã kết nối đến DB', config.database);\n    return connection;\n  } catch (error) {\n    console.error(\"Lỗi:\", error);\n    throw error;\n  }\n};\nexports.connect = connect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY29uZmlnIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiY29ubmVjdCIsImNvbm5lY3Rpb24iLCJteXNxbCIsImNyZWF0ZUNvbm5lY3Rpb24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFwiLCJzb3VyY2VzIjpbImNvbm5lY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgdXNlcjogJ3Jvb3QnLFxyXG4gICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgZGF0YWJhc2U6ICdkZW1vd2VibmFuZ2NhbycsXHJcbn07XHJcblxyXG4vLyBIw6BtIGvhur90IG7hu5FpIMSR4bq/biBNeVNRTFxyXG5leHBvcnQgY29uc3QgY29ubmVjdCA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oY29uZmlnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0IC0gxJDDoyBr4bq/dCBu4buRaSDEkeG6v24gREInLCBjb25maWcuZGF0YWJhc2UpXHJcbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkzhu5dpOlwiLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFbkMsTUFBTUcsTUFBTSxHQUFHO0VBQ1hDLElBQUksRUFBRSxXQUFXO0VBQ2pCQyxJQUFJLEVBQUUsTUFBTTtFQUNaQyxRQUFRLEVBQUUsRUFBRTtFQUNaQyxRQUFRLEVBQUU7QUFDZCxDQUFDOztBQUVEO0FBQ08sTUFBTUMsT0FBTyxHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUMvQixJQUFJO0lBQ0EsTUFBTUMsVUFBVSxHQUFHLE1BQU1DLGdCQUFLLENBQUNDLGdCQUFnQixDQUFDUixNQUFNLENBQUM7SUFDdkRTLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixFQUFFVixNQUFNLENBQUNJLFFBQVEsQ0FBQztJQUMzRCxPQUFPRSxVQUFVO0VBQ3JCLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7SUFDWkYsT0FBTyxDQUFDRSxLQUFLLENBQUMsTUFBTSxFQUFFQSxLQUFLLENBQUM7SUFDNUIsTUFBTUEsS0FBSztFQUNmO0FBQ0osQ0FBQztBQUFDQyxPQUFBLENBQUFQLE9BQUEsR0FBQUEsT0FBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_promise","_interopRequireDefault","require","e","__esModule","default","config","host","user","password","database","connect","connection","mysql","createConnection","console","log","error","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\","sources":["connect.js"],"sourcesContent":["import mysql from 'mysql2/promise';\r\n\r\nconst config = {\r\n    host: 'localhost',\r\n    user: 'root',\r\n    password: '',\r\n    database: 'demowebnangcao',\r\n};\r\n\r\n// Hàm kết nối đến MySQL\r\nexport const connect = async () => {\r\n    try {\r\n        const connection = await mysql.createConnection(config)\r\n        console.log('connect - Đã kết nối đến DB', config.database)\r\n        return connection\r\n    } catch (error) {\r\n        console.error(\"Lỗi:\", error)\r\n        throw error\r\n    }\r\n};\r\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEnC,MAAMG,MAAM,GAAG;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,EAAE;EACZC,QAAQ,EAAE;AACd,CAAC;;AAED;AACO,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;EAC/B,IAAI;IACA,MAAMC,UAAU,GAAG,MAAMC,gBAAK,CAACC,gBAAgB,CAACR,MAAM,CAAC;IACvDS,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEV,MAAM,CAACI,QAAQ,CAAC;IAC3D,OAAOE,UAAU;EACrB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZF,OAAO,CAACE,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;IAC5B,MAAMA,KAAK;EACf;AACJ,CAAC;AAACC,OAAA,CAAAP,OAAA,GAAAA,OAAA","ignoreList":[]}},"mtime":1731434662769},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\useModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserModel = exports.importUser = exports.getUsers = exports.getTotalUsers = exports.getHashPassword = exports.getDetailUserModel = exports.deleteUserModel = exports.checkUsernameExists = exports.checkEmailExists = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _connect = require(\"../connect\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst importUser = async (username, password, fullname, address, gender, email, role) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [result] = await connection.execute('INSERT INTO users (username, password, fullname, address, sex, email, groupid) VALUES (?, ?, ?, ?, ?, ?, ?)', [username, password, fullname, address, gender, email, role]);\n    console.log('Đã thêm người dùng mới:', username);\n    if (result.affectedRows > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.importUser = importUser;\nconst checkUsernameExists = async username => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT * FROM users WHERE username = ?', [username]);\n    return rows.length === 0;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n};\nexports.checkUsernameExists = checkUsernameExists;\nconst checkEmailExists = async email => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT * FROM users WHERE email = ?', [email]);\n    return rows.length === 0;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n};\nexports.checkEmailExists = checkEmailExists;\nconst getHashPassword = async username => {\n  try {\n    const [rows] = await (await (0, _connect.connect)()).execute('SELECT password FROM users WHERE username = ?', [username]);\n    if (!rows.length) return false;\n    return rows[0].password;\n  } catch (error) {\n    console.error('Lỗi kiểm tra mật khẩu:', error);\n    return {\n      success: false,\n      message: 'Có lỗi xảy ra, vui lòng thử lại'\n    };\n  }\n};\nexports.getHashPassword = getHashPassword;\nconst getUsers = async (offset, limit) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users LIMIT ? OFFSET ?', [limit, offset]);\n    return rows;\n  } catch (error) {\n    console.error('Lỗi khi lấy Danh sách tài khoản:', error);\n    return [];\n  }\n};\nexports.getUsers = getUsers;\nconst getDetailUserModel = async username => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [row] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users WHERE username = ?', [username]);\n    return row[0];\n  } catch (error) {\n    console.error('Lỗi khi lấy Danh sách tài khoản:', error);\n    return [];\n  }\n};\nexports.getDetailUserModel = getDetailUserModel;\nconst updateUserModel = async (username, _ref) => {\n  let {\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  } = _ref;\n  try {\n    const connection = await (0, _connect.connect)();\n    const query = \"\\n            UPDATE users \\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \\n            WHERE username = ?\";\n    const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, username]);\n    return result.affectedRows > 0;\n  } catch (error) {\n    console.error('Lỗi khi cập nhật người dùng:', error);\n    return false;\n  }\n};\nexports.updateUserModel = updateUserModel;\nconst getTotalUsers = async () => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT COUNT(*) as count FROM users');\n    return rows[0].count;\n  } catch (error) {\n    console.error('Lỗi khi lấy tổng số người dùng:', error);\n    return 0;\n  }\n};\nexports.getTotalUsers = getTotalUsers;\nconst deleteUserModel = async username => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const query = 'DELETE FROM users WHERE username = ?';\n    const [result] = await connection.execute(query, [username]);\n    return result.affectedRows > 0;\n  } catch (error) {\n    console.error('Lỗi khi xóa người dùng:', error);\n    return false;\n  }\n};\nexports.deleteUserModel = deleteUserModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlckNvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jb25uZWN0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaW1wb3J0VXNlciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJmdWxsbmFtZSIsImFkZHJlc3MiLCJnZW5kZXIiLCJlbWFpbCIsInJvbGUiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsInJlc3VsdCIsImV4ZWN1dGUiLCJjb25zb2xlIiwibG9nIiwiYWZmZWN0ZWRSb3dzIiwiZXJyb3IiLCJleHBvcnRzIiwiY2hlY2tVc2VybmFtZUV4aXN0cyIsInJvd3MiLCJsZW5ndGgiLCJjaGVja0VtYWlsRXhpc3RzIiwiZ2V0SGFzaFBhc3N3b3JkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJnZXRVc2VycyIsIm9mZnNldCIsImxpbWl0IiwiZ2V0RGV0YWlsVXNlck1vZGVsIiwicm93IiwidXBkYXRlVXNlck1vZGVsIiwiX3JlZiIsInNleCIsImdyb3VwaWQiLCJxdWVyeSIsImdldFRvdGFsVXNlcnMiLCJjb3VudCIsImRlbGV0ZVVzZXJNb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcbW9kZWxcXCIsInNvdXJjZXMiOlsidXNlTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyJ1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAnLi4vY29ubmVjdCdcclxuXHJcbmV4cG9ydCBjb25zdCBpbXBvcnRVc2VyID0gYXN5bmMgKCB1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBnZW5kZXIsIGVtYWlsLCByb2xlICkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0lOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pJywgXHJcbiAgICAgICAgW3VzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdlbmRlciwgZW1haWwsIHJvbGVdKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfEkMOjIHRow6ptIG5nxrDhu51pIGTDuW5nIG3hu5tpOicsIHVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAocmVzdWx0LmFmZmVjdGVkUm93cyA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWUgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tVc2VybmFtZUV4aXN0cyA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ID8nLFxyXG4gICAgICAgICAgICBbdXNlcm5hbWVdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzLmxlbmd0aCA9PT0gMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tFbWFpbEV4aXN0cyA9IGFzeW5jIChlbWFpbCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID8nLFxyXG4gICAgICAgICAgICBbZW1haWxdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzLmxlbmd0aCA9PT0gMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0SGFzaFBhc3N3b3JkID0gYXN5bmMgKHVzZXJuYW1lKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IChhd2FpdCBjb25uZWN0KCkpLmV4ZWN1dGUoJ1NFTEVDVCBwYXNzd29yZCBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gPycsIFt1c2VybmFtZV0pXHJcbiAgICBcclxuICAgICAgICBpZiAoIXJvd3MubGVuZ3RoKSByZXR1cm4gZmFsc2VcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcm93c1swXS5wYXNzd29yZFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraeG7g20gdHJhIG3huq10IGto4bqpdTonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0PDsyBs4buXaSB44bqjeSByYSwgdnVpIGzDsm5nIHRo4butIGzhuqFpJyB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jIChvZmZzZXQsIGxpbWl0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBmdWxsbmFtZSwgdXNlcm5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgRlJPTSB1c2VycyBMSU1JVCA/IE9GRlNFVCA/JyxcclxuICAgICAgICAgICAgW2xpbWl0LCBvZmZzZXRdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSBEYW5oIHPDoWNoIHTDoGkga2hv4bqjbjonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gW11cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERldGFpbFVzZXJNb2RlbCA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jvd10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBmdWxsbmFtZSwgdXNlcm5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ID8nLCBbdXNlcm5hbWVdKVxyXG4gICAgICAgIHJldHVybiByb3dbMF1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGzhuqV5IERhbmggc8OhY2ggdMOgaSBraG/huqNuOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlck1vZGVsID0gYXN5bmMgKHVzZXJuYW1lLCB7IGZ1bGxuYW1lLCBzZXgsIGVtYWlsLCBhZGRyZXNzLCBncm91cGlkIH0pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKVxyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFxyXG4gICAgICAgICAgICBVUERBVEUgdXNlcnMgXHJcbiAgICAgICAgICAgIFNFVCBmdWxsbmFtZSA9ID8sIHNleCA9ID8sIGVtYWlsID0gPywgYWRkcmVzcyA9ID8sIGdyb3VwaWQgPSA/IFxyXG4gICAgICAgICAgICBXSEVSRSB1c2VybmFtZSA9ID9gXHJcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIFtmdWxsbmFtZSwgc2V4LCBlbWFpbCwgYWRkcmVzcywgZ3JvdXBpZCwgdXNlcm5hbWVdKVxyXG4gICAgICAgIHJldHVybiByZXN1bHQuYWZmZWN0ZWRSb3dzID4gMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgY+G6rXAgbmjhuq10IG5nxrDhu51pIGTDuW5nOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VG90YWxVc2VycyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKTtcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHVzZXJzJylcclxuICAgICAgICByZXR1cm4gcm93c1swXS5jb3VudFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgbOG6pXkgdOG7lW5nIHPhu5EgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIDBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXJNb2RlbCA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0RFTEVURSBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gPyc7XHJcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIFt1c2VybmFtZV0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQuYWZmZWN0ZWRSb3dzID4gMDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIHjDs2EgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQW9DLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTdCLE1BQU1HLFVBQVUsR0FBRyxNQUFBQSxDQUFRQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEtBQU07RUFDOUYsSUFB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QixLQUFLLEVBQUUsQ0FBQzlCLFFBQVEsRUFBRTRCLEdBQUcsRUFBRXpCLEtBQUssRUFBRUYsT0FBTyxFQUFFNEIsT0FBTyxFQUFFL0IsUUFBUSxDQUFDLENBQUM7SUFDcEcsT0FBT1MsTUFBTSxDQUFDSSxZQUFZLEdBQUcsQ0FBQztFQUNsQyxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0lBQ1pILE9BQU8sQ0FBQ0csS0FBSyxDQUFDLDhCQUE4QixFQUFFQSxLQUFLLENBQUM7SUFDcEQsT0FBTyxLQUFLO0VBQ2hCO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFhLGVBQUEsR0FBQUEsZUFBQTtBQUVNLE1BQU1LLGFBQWEsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDckMsSUFBSTtJQUNBLE1BQU0xQixVQUFVLEdBQUcsTUFBTSxJQUFBQyxnQkFBTyxFQUFDLENBQUM7SUFDbEMsTUFBTSxDQUFDUyxJQUFJLENBQUMsR0FBRyxNQUFNVixVQUFVLENBQUNHLE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQztJQUM5RSxPQUFPTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNpQixLQUFLO0VBQ3hCLENBQUMsQ0FBQyxPQUFPcEIsS0FBSyxFQUFFO0lBQ1pILE9BQU8sQ0FBQ0csS0FBSyxDQUFDLGlDQUFpQyxFQUFFQSxLQUFLLENBQUM7SUFDdkQsT0FBTyxDQUFDO0VBQ1o7QUFDSixDQUFDO0FBQUFDLE9BQUEsQ0FBQWtCLGFBQUEsR0FBQUEsYUFBQTtBQUVNLE1BQU1FLGVBQWUsR0FBRyxNQUFPbkMsUUFBUSxJQUFLO0VBQy9DLElBQUk7SUFDQSxNQUFNTyxVQUFVLEdBQUcsTUFBTSxJQUFBQyxnQkFBTyxFQUFDLENBQUM7SUFDbEMsTUFBTXdCLEtBQUssR0FBRyxzQ0FBc0M7SUFDcEQsTUFBTSxDQUFDdkIsTUFBTSxDQUFDLEdBQUcsTUFBTUYsVUFBVSxDQUFDRyxPQUFPLENBQUNzQixLQUFLLEVBQUUsQ0FBQ2hDLFFBQVEsQ0FBQyxDQUFDO0lBQzVELE9BQU9TLE1BQU0sQ0FBQ0ksWUFBWSxHQUFHLENBQUM7RUFDbEMsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNaSCxPQUFPLENBQUNHLEtBQUssQ0FBQyx5QkFBeUIsRUFBRUEsS0FBSyxDQUFDO0lBQy9DLE9BQU8sS0FBSztFQUNoQjtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBb0IsZUFBQSxHQUFBQSxlQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_UserController","_interopRequireDefault","require","_connect","e","__esModule","default","importUser","username","password","fullname","address","gender","email","role","connection","connect","result","execute","console","log","affectedRows","error","exports","checkUsernameExists","rows","length","checkEmailExists","getHashPassword","success","message","getUsers","offset","limit","getDetailUserModel","row","updateUserModel","_ref","sex","groupid","query","getTotalUsers","count","deleteUserModel"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\model\\","sources":["useModel.js"],"sourcesContent":["import userController from '../controllers/UserController'\r\nimport { connect } from '../connect'\r\n\r\nexport const importUser = async ( username, password, fullname, address, gender, email, role ) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [result] = await connection.execute('INSERT INTO users (username, password, fullname, address, sex, email, groupid) VALUES (?, ?, ?, ?, ?, ?, ?)', \r\n        [username, password, fullname, address, gender, email, role])\r\n        console.log('Đã thêm người dùng mới:', username)\r\n\r\n        if (result.affectedRows > 0) {\r\n            return true \r\n        } else {\r\n            return false\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport const checkUsernameExists = async (username) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute(\r\n            'SELECT * FROM users WHERE username = ?',\r\n            [username]\r\n        )\r\n        return rows.length === 0\r\n    } catch (error) {\r\n        console.error(error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const checkEmailExists = async (email) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute(\r\n            'SELECT * FROM users WHERE email = ?',\r\n            [email]\r\n        )\r\n        return rows.length === 0\r\n    } catch (error) {\r\n        console.error(error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getHashPassword = async (username) => {\r\n    try {\r\n        const [rows] = await (await connect()).execute('SELECT password FROM users WHERE username = ?', [username])\r\n    \r\n        if (!rows.length) return false\r\n        \r\n        return rows[0].password\r\n    } catch (error) {\r\n        console.error('Lỗi kiểm tra mật khẩu:', error)\r\n        return { success: false, message: 'Có lỗi xảy ra, vui lòng thử lại' }\r\n    }\r\n}\r\n\r\nexport const getUsers = async (offset, limit) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users LIMIT ? OFFSET ?',\r\n            [limit, offset]\r\n        )\r\n        return rows\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy Danh sách tài khoản:', error)\r\n        return []\r\n    }\r\n}\r\n\r\nexport const getDetailUserModel = async (username) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [row] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users WHERE username = ?', [username])\r\n        return row[0]\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy Danh sách tài khoản:', error)\r\n        return []\r\n    }\r\n}\r\n\r\nexport const updateUserModel = async (username, { fullname, sex, email, address, groupid }) => {\r\n    try {\r\n        const connection = await connect()\r\n        const query = `\r\n            UPDATE users \r\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \r\n            WHERE username = ?`\r\n        const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, username])\r\n        return result.affectedRows > 0\r\n    } catch (error) {\r\n        console.error('Lỗi khi cập nhật người dùng:', error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getTotalUsers = async () => {\r\n    try {\r\n        const connection = await connect();\r\n        const [rows] = await connection.execute('SELECT COUNT(*) as count FROM users')\r\n        return rows[0].count\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy tổng số người dùng:', error)\r\n        return 0\r\n    }\r\n}\r\n\r\nexport const deleteUserModel = async (username) => {\r\n    try {\r\n        const connection = await connect();\r\n        const query = 'DELETE FROM users WHERE username = ?';\r\n        const [result] = await connection.execute(query, [username]);\r\n        return result.affectedRows > 0;\r\n    } catch (error) {\r\n        console.error('Lỗi khi xóa người dùng:', error);\r\n        return false;\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1731520982904},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\useModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserModel = exports.importUser = exports.getUsers = exports.getTotalUsers = exports.getHashPassword = exports.getDetailUserModel = exports.deleteUserModel = exports.checkUsernameExists = exports.checkEmailExists = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _connect = require(\"../connect\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst importUser = async (username, password, fullname, address, gender, email, role) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [result] = await connection.execute('INSERT INTO users (username, password, fullname, address, sex, email, groupid) VALUES (?, ?, ?, ?, ?, ?, ?)', [username, password, fullname, address, gender, email, role]);\n    console.log('Đã thêm người dùng mới:', username);\n    if (result.affectedRows > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.importUser = importUser;\nconst checkUsernameExists = async username => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT * FROM users WHERE username = ?', [username]);\n    return rows.length === 0;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n};\nexports.checkUsernameExists = checkUsernameExists;\nconst checkEmailExists = async email => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT * FROM users WHERE email = ?', [email]);\n    return rows.length === 0;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n};\nexports.checkEmailExists = checkEmailExists;\nconst getHashPassword = async username => {\n  try {\n    const [rows] = await (await (0, _connect.connect)()).execute('SELECT password FROM users WHERE username = ?', [username]);\n    if (!rows.length) return false;\n    return rows[0].password;\n  } catch (error) {\n    console.error('Lỗi kiểm tra mật khẩu:', error);\n    return {\n      success: false,\n      message: 'Có lỗi xảy ra, vui lòng thử lại'\n    };\n  }\n};\nexports.getHashPassword = getHashPassword;\nconst getUsers = async (offset, limit) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users LIMIT ? OFFSET ?', [limit, offset]);\n    return rows;\n  } catch (error) {\n    console.error('Lỗi khi lấy Danh sách tài khoản:', error);\n    return [];\n  }\n};\nexports.getUsers = getUsers;\nconst getDetailUserModel = async username => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [row] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users WHERE username = ?', [username]);\n    return row[0];\n  } catch (error) {\n    console.error('Lỗi khi lấy Danh sách tài khoản:', error);\n    return [];\n  }\n};\nexports.getDetailUserModel = getDetailUserModel;\nconst updateUserModel = async (username, _ref) => {\n  let {\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  } = _ref;\n  try {\n    const connection = await (0, _connect.connect)();\n    const query = \"\\n            UPDATE users \\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \\n            WHERE username = ?\";\n    const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, username]);\n    return result.affectedRows > 0;\n  } catch (error) {\n    console.error('Lỗi khi cập nhật người dùng:', error);\n    return false;\n  }\n};\nexports.updateUserModel = updateUserModel;\nconst getTotalUsers = async () => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT COUNT(*) as count FROM users');\n    return rows[0].count;\n  } catch (error) {\n    console.error('Lỗi khi lấy tổng số người dùng:', error);\n    return 0;\n  }\n};\nexports.getTotalUsers = getTotalUsers;\nconst deleteUserModel = async username => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const query = 'DELETE FROM users WHERE username = ?';\n    const [result] = await connection.execute(query, [username]);\n    return result.affectedRows > 0;\n  } catch (error) {\n    console.error('Lỗi khi xóa người dùng:', error);\n    return false;\n  }\n};\nexports.deleteUserModel = deleteUserModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlckNvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jb25uZWN0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaW1wb3J0VXNlciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJmdWxsbmFtZSIsImFkZHJlc3MiLCJnZW5kZXIiLCJlbWFpbCIsInJvbGUiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsInJlc3VsdCIsImV4ZWN1dGUiLCJjb25zb2xlIiwibG9nIiwiYWZmZWN0ZWRSb3dzIiwiZXJyb3IiLCJleHBvcnRzIiwiY2hlY2tVc2VybmFtZUV4aXN0cyIsInJvd3MiLCJsZW5ndGgiLCJjaGVja0VtYWlsRXhpc3RzIiwiZ2V0SGFzaFBhc3N3b3JkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJnZXRVc2VycyIsIm9mZnNldCIsImxpbWl0IiwiZ2V0RGV0YWlsVXNlck1vZGVsIiwicm93IiwidXBkYXRlVXNlck1vZGVsIiwiX3JlZiIsInNleCIsImdyb3VwaWQiLCJxdWVyeSIsImdldFRvdGFsVXNlcnMiLCJjb3VudCIsImRlbGV0ZVVzZXJNb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcbW9kZWxcXCIsInNvdXJjZXMiOlsidXNlTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyJ1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAnLi4vY29ubmVjdCdcclxuXHJcbmV4cG9ydCBjb25zdCBpbXBvcnRVc2VyID0gYXN5bmMgKCB1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBnZW5kZXIsIGVtYWlsLCByb2xlICkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0lOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pJywgXHJcbiAgICAgICAgW3VzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdlbmRlciwgZW1haWwsIHJvbGVdKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfEkMOjIHRow6ptIG5nxrDhu51pIGTDuW5nIG3hu5tpOicsIHVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAocmVzdWx0LmFmZmVjdGVkUm93cyA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWUgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tVc2VybmFtZUV4aXN0cyA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ID8nLFxyXG4gICAgICAgICAgICBbdXNlcm5hbWVdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzLmxlbmd0aCA9PT0gMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tFbWFpbEV4aXN0cyA9IGFzeW5jIChlbWFpbCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID8nLFxyXG4gICAgICAgICAgICBbZW1haWxdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzLmxlbmd0aCA9PT0gMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0SGFzaFBhc3N3b3JkID0gYXN5bmMgKHVzZXJuYW1lKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IChhd2FpdCBjb25uZWN0KCkpLmV4ZWN1dGUoJ1NFTEVDVCBwYXNzd29yZCBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gPycsIFt1c2VybmFtZV0pXHJcbiAgICBcclxuICAgICAgICBpZiAoIXJvd3MubGVuZ3RoKSByZXR1cm4gZmFsc2VcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcm93c1swXS5wYXNzd29yZFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraeG7g20gdHJhIG3huq10IGto4bqpdTonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0PDsyBs4buXaSB44bqjeSByYSwgdnVpIGzDsm5nIHRo4butIGzhuqFpJyB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jIChvZmZzZXQsIGxpbWl0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBmdWxsbmFtZSwgdXNlcm5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgRlJPTSB1c2VycyBMSU1JVCA/IE9GRlNFVCA/JyxcclxuICAgICAgICAgICAgW2xpbWl0LCBvZmZzZXRdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSBEYW5oIHPDoWNoIHTDoGkga2hv4bqjbjonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gW11cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERldGFpbFVzZXJNb2RlbCA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgW3Jvd10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBmdWxsbmFtZSwgdXNlcm5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ID8nLCBbdXNlcm5hbWVdKVxyXG4gICAgICAgIHJldHVybiByb3dbMF1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGzhuqV5IERhbmggc8OhY2ggdMOgaSBraG/huqNuOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlck1vZGVsID0gYXN5bmMgKHVzZXJuYW1lLCB7IGZ1bGxuYW1lLCBzZXgsIGVtYWlsLCBhZGRyZXNzLCBncm91cGlkIH0pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKVxyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFxyXG4gICAgICAgICAgICBVUERBVEUgdXNlcnMgXHJcbiAgICAgICAgICAgIFNFVCBmdWxsbmFtZSA9ID8sIHNleCA9ID8sIGVtYWlsID0gPywgYWRkcmVzcyA9ID8sIGdyb3VwaWQgPSA/IFxyXG4gICAgICAgICAgICBXSEVSRSB1c2VybmFtZSA9ID9gXHJcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIFtmdWxsbmFtZSwgc2V4LCBlbWFpbCwgYWRkcmVzcywgZ3JvdXBpZCwgdXNlcm5hbWVdKVxyXG4gICAgICAgIHJldHVybiByZXN1bHQuYWZmZWN0ZWRSb3dzID4gMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgY+G6rXAgbmjhuq10IG5nxrDhu51pIGTDuW5nOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VG90YWxVc2VycyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKTtcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHVzZXJzJylcclxuICAgICAgICByZXR1cm4gcm93c1swXS5jb3VudFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgbOG6pXkgdOG7lW5nIHPhu5EgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIDBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXJNb2RlbCA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0RFTEVURSBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gPyc7XHJcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIFt1c2VybmFtZV0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQuYWZmZWN0ZWRSb3dzID4gMDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIHjDs2EgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQW9DLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTdCLE1BQU1HLFVBQVUsR0FBRyxNQUFBQSxDQUFRQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEtBQU07RUFDOUYsSUFB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QixLQUFLLEVBQUUsQ0FBQzlCLFFBQVEsRUFBRTRCLEdBQUcsRUFBRXpCLEtBQUssRUFBRUYsT0FBTyxFQUFFNEIsT0FBTyxFQUFFL0IsUUFBUSxDQUFDLENBQUM7SUFDcEcsT0FBT1MsTUFBTSxDQUFDSSxZQUFZLEdBQUcsQ0FBQztFQUNsQyxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0lBQ1pILE9BQU8sQ0FBQ0csS0FBSyxDQUFDLDhCQUE4QixFQUFFQSxLQUFLLENBQUM7SUFDcEQsT0FBTyxLQUFLO0VBQ2hCO0FBQ0osQ0FBQztBQUFBQyxPQUFBLENBQUFhLGVBQUEsR0FBQUEsZUFBQTtBQUVNLE1BQU1LLGFBQWEsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDckMsSUFBSTtJQUNBLE1BQU0xQixVQUFVLEdBQUcsTUFBTSxJQUFBQyxnQkFBTyxFQUFDLENBQUM7SUFDbEMsTUFBTSxDQUFDUyxJQUFJLENBQUMsR0FBRyxNQUFNVixVQUFVLENBQUNHLE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQztJQUM5RSxPQUFPTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNpQixLQUFLO0VBQ3hCLENBQUMsQ0FBQyxPQUFPcEIsS0FBSyxFQUFFO0lBQ1pILE9BQU8sQ0FBQ0csS0FBSyxDQUFDLGlDQUFpQyxFQUFFQSxLQUFLLENBQUM7SUFDdkQsT0FBTyxDQUFDO0VBQ1o7QUFDSixDQUFDO0FBQUFDLE9BQUEsQ0FBQWtCLGFBQUEsR0FBQUEsYUFBQTtBQUVNLE1BQU1FLGVBQWUsR0FBRyxNQUFPbkMsUUFBUSxJQUFLO0VBQy9DLElBQUk7SUFDQSxNQUFNTyxVQUFVLEdBQUcsTUFBTSxJQUFBQyxnQkFBTyxFQUFDLENBQUM7SUFDbEMsTUFBTXdCLEtBQUssR0FBRyxzQ0FBc0M7SUFDcEQsTUFBTSxDQUFDdkIsTUFBTSxDQUFDLEdBQUcsTUFBTUYsVUFBVSxDQUFDRyxPQUFPLENBQUNzQixLQUFLLEVBQUUsQ0FBQ2hDLFFBQVEsQ0FBQyxDQUFDO0lBQzVELE9BQU9TLE1BQU0sQ0FBQ0ksWUFBWSxHQUFHLENBQUM7RUFDbEMsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNaSCxPQUFPLENBQUNHLEtBQUssQ0FBQyx5QkFBeUIsRUFBRUEsS0FBSyxDQUFDO0lBQy9DLE9BQU8sS0FBSztFQUNoQjtBQUNKLENBQUM7QUFBQUMsT0FBQSxDQUFBb0IsZUFBQSxHQUFBQSxlQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_UserController","_interopRequireDefault","require","_connect","e","__esModule","default","importUser","username","password","fullname","address","gender","email","role","connection","connect","result","execute","console","log","affectedRows","error","exports","checkUsernameExists","rows","length","checkEmailExists","getHashPassword","success","message","getUsers","offset","limit","getDetailUserModel","row","updateUserModel","_ref","sex","groupid","query","getTotalUsers","count","deleteUserModel"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\model\\","sources":["useModel.js"],"sourcesContent":["import userController from '../controllers/UserController'\r\nimport { connect } from '../connect'\r\n\r\nexport const importUser = async ( username, password, fullname, address, gender, email, role ) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [result] = await connection.execute('INSERT INTO users (username, password, fullname, address, sex, email, groupid) VALUES (?, ?, ?, ?, ?, ?, ?)', \r\n        [username, password, fullname, address, gender, email, role])\r\n        console.log('Đã thêm người dùng mới:', username)\r\n\r\n        if (result.affectedRows > 0) {\r\n            return true \r\n        } else {\r\n            return false\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport const checkUsernameExists = async (username) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute(\r\n            'SELECT * FROM users WHERE username = ?',\r\n            [username]\r\n        )\r\n        return rows.length === 0\r\n    } catch (error) {\r\n        console.error(error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const checkEmailExists = async (email) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute(\r\n            'SELECT * FROM users WHERE email = ?',\r\n            [email]\r\n        )\r\n        return rows.length === 0\r\n    } catch (error) {\r\n        console.error(error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getHashPassword = async (username) => {\r\n    try {\r\n        const [rows] = await (await connect()).execute('SELECT password FROM users WHERE username = ?', [username])\r\n    \r\n        if (!rows.length) return false\r\n        \r\n        return rows[0].password\r\n    } catch (error) {\r\n        console.error('Lỗi kiểm tra mật khẩu:', error)\r\n        return { success: false, message: 'Có lỗi xảy ra, vui lòng thử lại' }\r\n    }\r\n}\r\n\r\nexport const getUsers = async (offset, limit) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users LIMIT ? OFFSET ?',\r\n            [limit, offset]\r\n        )\r\n        return rows\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy Danh sách tài khoản:', error)\r\n        return []\r\n    }\r\n}\r\n\r\nexport const getDetailUserModel = async (username) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [row] = await connection.execute('SELECT fullname, username, sex, email, address, groupid FROM users WHERE username = ?', [username])\r\n        return row[0]\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy Danh sách tài khoản:', error)\r\n        return []\r\n    }\r\n}\r\n\r\nexport const updateUserModel = async (username, { fullname, sex, email, address, groupid }) => {\r\n    try {\r\n        const connection = await connect()\r\n        const query = `\r\n            UPDATE users \r\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \r\n            WHERE username = ?`\r\n        const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, username])\r\n        return result.affectedRows > 0\r\n    } catch (error) {\r\n        console.error('Lỗi khi cập nhật người dùng:', error)\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getTotalUsers = async () => {\r\n    try {\r\n        const connection = await connect();\r\n        const [rows] = await connection.execute('SELECT COUNT(*) as count FROM users')\r\n        return rows[0].count\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy tổng số người dùng:', error)\r\n        return 0\r\n    }\r\n}\r\n\r\nexport const deleteUserModel = async (username) => {\r\n    try {\r\n        const connection = await connect();\r\n        const query = 'DELETE FROM users WHERE username = ?';\r\n        const [result] = await connection.execute(query, [username]);\r\n        return result.affectedRows > 0;\r\n    } catch (error) {\r\n        console.error('Lỗi khi xóa người dùng:', error);\r\n        return false;\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1731520982904},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\checkAuth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkAuth = void 0;\nconst checkAuth = (req, res, next) => {\n  if (req.session && req.session.user) {\n    return next();\n  } else {\n    return res.redirect('/');\n  }\n};\nexports.checkAuth = checkAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGVja0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2Vzc2lvbiIsInVzZXIiLCJyZWRpcmVjdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiY2hlY2tBdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjaGVja0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGlmIChyZXEuc2Vzc2lvbiAmJiByZXEuc2Vzc2lvbi51c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5leHQoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvJylcclxuICAgIH1cclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLFNBQVMsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUN6QyxJQUFJRixHQUFHLENBQUNHLE9BQU8sSUFBSUgsR0FBRyxDQUFDRyxPQUFPLENBQUNDLElBQUksRUFBRTtJQUNqQyxPQUFPRixJQUFJLENBQUMsQ0FBQztFQUNqQixDQUFDLE1BQU07SUFDSCxPQUFPRCxHQUFHLENBQUNJLFFBQVEsQ0FBQyxHQUFHLENBQUM7RUFDNUI7QUFDSixDQUFDO0FBQUNDLE9BQUEsQ0FBQVAsU0FBQSxHQUFBQSxTQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["checkAuth","req","res","next","session","user","redirect","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\middleware\\","sources":["checkAuth.js"],"sourcesContent":["export const checkAuth = (req, res, next) => {\r\n    if (req.session && req.session.user) {\r\n        return next()\r\n    } else {\r\n        return res.redirect('/')\r\n    }\r\n};"],"mappings":";;;;;;AAAO,MAAMA,SAAS,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACzC,IAAIF,GAAG,CAACG,OAAO,IAAIH,GAAG,CAACG,OAAO,CAACC,IAAI,EAAE;IACjC,OAAOF,IAAI,CAAC,CAAC;EACjB,CAAC,MAAM;IACH,OAAOD,GAAG,CAACI,QAAQ,CAAC,GAAG,CAAC;EAC5B;AACJ,CAAC;AAACC,OAAA,CAAAP,SAAA,GAAAA,SAAA","ignoreList":[]}},"mtime":1731479974924},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\checkAuth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkAuth = void 0;\nconst checkAuth = (req, res, next) => {\n  if (req.session && req.session.user) {\n    return next();\n  } else {\n    return res.redirect('/');\n  }\n};\nexports.checkAuth = checkAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGVja0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2Vzc2lvbiIsInVzZXIiLCJyZWRpcmVjdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiY2hlY2tBdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjaGVja0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGlmIChyZXEuc2Vzc2lvbiAmJiByZXEuc2Vzc2lvbi51c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5leHQoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvJylcclxuICAgIH1cclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLFNBQVMsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUN6QyxJQUFJRixHQUFHLENBQUNHLE9BQU8sSUFBSUgsR0FBRyxDQUFDRyxPQUFPLENBQUNDLElBQUksRUFBRTtJQUNqQyxPQUFPRixJQUFJLENBQUMsQ0FBQztFQUNqQixDQUFDLE1BQU07SUFDSCxPQUFPRCxHQUFHLENBQUNJLFFBQVEsQ0FBQyxHQUFHLENBQUM7RUFDNUI7QUFDSixDQUFDO0FBQUNDLE9BQUEsQ0FBQVAsU0FBQSxHQUFBQSxTQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["checkAuth","req","res","next","session","user","redirect","exports"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\middleware\\","sources":["checkAuth.js"],"sourcesContent":["export const checkAuth = (req, res, next) => {\r\n    if (req.session && req.session.user) {\r\n        return next()\r\n    } else {\r\n        return res.redirect('/')\r\n    }\r\n};"],"mappings":";;;;;;AAAO,MAAMA,SAAS,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACzC,IAAIF,GAAG,CAACG,OAAO,IAAIH,GAAG,CAACG,OAAO,CAACC,IAAI,EAAE;IACjC,OAAOF,IAAI,CAAC,CAAC;EACjB,CAAC,MAAM;IACH,OAAOD,GAAG,CAACI,QAAQ,CAAC,GAAG,CAAC;EAC5B;AACJ,CAAC;AAACC,OAAA,CAAAP,SAAA,GAAAA,SAAA","ignoreList":[]}},"mtime":1731480293272},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.getSessionData = exports.createSession = void 0;\nconst createSession = (req, usernameSession, roleSession) => {\n  if (!usernameSession || !roleSession) {\n    throw new Error('Username or role is invalid');\n  }\n  req.session.usernameSession = usernameSession;\n  req.session.roleSession = roleSession;\n};\nexports.createSession = createSession;\nconst getSessionData = req => {\n  const {\n    usernameSession,\n    roleSession\n  } = req.session || {};\n  if (!usernameSession || !roleSession) {\n    return null;\n  }\n  return {\n    usernameSession,\n    roleSession\n  };\n};\nexports.getSessionData = getSessionData;\nconst isAdmin = (req, res, next) => {\n  if (!req.session || !req.session.roleSession || !req.session.usernameSession) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = req.session || {};\n  if (roleSession !== 'Admin') {\n    return res.render('layout', {\n      page: 'pages/404',\n      title: 'Trang không tồn tại',\n      usernameSession,\n      roleSession\n    });\n  }\n  next();\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVTZXNzaW9uIiwicmVxIiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJFcnJvciIsInNlc3Npb24iLCJleHBvcnRzIiwiZ2V0U2Vzc2lvbkRhdGEiLCJpc0FkbWluIiwicmVzIiwibmV4dCIsInJlZGlyZWN0IiwicmVuZGVyIiwicGFnZSIsInRpdGxlIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzIjpbImF1dGhNaWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjcmVhdGVTZXNzaW9uID0gKHJlcSwgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbikgPT4ge1xyXG4gICAgaWYgKCF1c2VybmFtZVNlc3Npb24gfHwgIXJvbGVTZXNzaW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VybmFtZSBvciByb2xlIGlzIGludmFsaWQnKVxyXG4gICAgfVxyXG4gICAgcmVxLnNlc3Npb24udXNlcm5hbWVTZXNzaW9uID0gdXNlcm5hbWVTZXNzaW9uXHJcbiAgICByZXEuc2Vzc2lvbi5yb2xlU2Vzc2lvbiA9IHJvbGVTZXNzaW9uXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTZXNzaW9uRGF0YSA9IChyZXEpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gcmVxLnNlc3Npb24gfHwgeyB9XHJcbiAgICBpZiAoIXVzZXJuYW1lU2Vzc2lvbiB8fCAhcm9sZVNlc3Npb24pIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBpZiAoIXJlcS5zZXNzaW9uIHx8ICFyZXEuc2Vzc2lvbi5yb2xlU2Vzc2lvbiB8fCAhcmVxLnNlc3Npb24udXNlcm5hbWVTZXNzaW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gcmVxLnNlc3Npb24gfHwgeyB9XHJcbiAgICBpZiAocm9sZVNlc3Npb24gIT09ICdBZG1pbicpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0JywgeyBwYWdlOiAncGFnZXMvNDA0JywgdGl0bGU6ICdUcmFuZyBraMO0bmcgdOG7k24gdOG6oWknLCB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0pXHJcbiAgICB9XHJcbiAgICBuZXh0KClcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsYUFBYSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLGVBQWUsRUFBRUMsV0FBVyxLQUFLO0VBQ2hFLElBQUksQ0FBQ0QsZUFBZSxJQUFJLENBQUNDLFdBQVcsRUFBRTtJQUNsQyxNQUFNLElBQUlDLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQztFQUNsRDtFQUNBSCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0gsZUFBZSxHQUFHQSxlQUFlO0VBQzdDRCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0YsV0FBVyxHQUFHQSxXQUFXO0FBQ3pDLENBQUM7QUFBQUcsT0FBQSxDQUFBTixhQUFBLEdBQUFBLGFBQUE7QUFFTSxNQUFNTyxjQUFjLEdBQUlOLEdBQUcsSUFBSztFQUNuQyxNQUFNO0lBQUVDLGVBQWU7SUFBRUM7RUFBWSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0ksT0FBTyxJQUFJLENBQUUsQ0FBQztFQUMzRCxJQUFJLENBQUNILGVBQWUsSUFBSSxDQUFDQyxXQUFXLEVBQUU7SUFDbEMsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxPQUFPO0lBQUVELGVBQWU7SUFBRUM7RUFBWSxDQUFDO0FBQzNDLENBQUM7QUFBQUcsT0FBQSxDQUFBQyxjQUFBLEdBQUFBLGNBQUE7QUFFTSxNQUFNQyxPQUFPLEdBQUdBLENBQUNQLEdBQUcsRUFBRVEsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDdkMsSUFBSSxDQUFDVCxHQUFHLENBQUNJLE9BQU8sSUFBSSxDQUFDSixHQUFHLENBQUNJLE9BQU8sQ0FBQ0YsV0FBVyxJQUFJLENBQUNGLEdBQUcsQ0FBQ0ksT0FBTyxDQUFDSCxlQUFlLEVBQUU7SUFDMUUsT0FBT08sR0FBRyxDQUFDRSxRQUFRLENBQUMsUUFBUSxDQUFDO0VBQ2pDO0VBQ0EsTUFBTTtJQUFFVCxlQUFlO0lBQUVDO0VBQVksQ0FBQyxHQUFHRixHQUFHLENBQUNJLE9BQU8sSUFBSSxDQUFFLENBQUM7RUFDM0QsSUFBSUYsV0FBVyxLQUFLLE9BQU8sRUFBRTtJQUN6QixPQUFPTSxHQUFHLENBQUNHLE1BQU0sQ0FBQyxRQUFRLEVBQUU7TUFBRUMsSUFBSSxFQUFFLFdBQVc7TUFBRUMsS0FBSyxFQUFFLHFCQUFxQjtNQUFFWixlQUFlO01BQUVDO0lBQVksQ0FBQyxDQUFDO0VBQ2xIO0VBQ0FPLElBQUksQ0FBQyxDQUFDO0FBQ1YsQ0FBQztBQUFBSixPQUFBLENBQUFFLE9BQUEsR0FBQUEsT0FBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["createSession","req","usernameSession","roleSession","Error","session","exports","getSessionData","isAdmin","res","next","redirect","render","page","title"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\middleware\\","sources":["authMiddleware.js"],"sourcesContent":["export const createSession = (req, usernameSession, roleSession) => {\r\n    if (!usernameSession || !roleSession) {\r\n        throw new Error('Username or role is invalid')\r\n    }\r\n    req.session.usernameSession = usernameSession\r\n    req.session.roleSession = roleSession\r\n}\r\n\r\nexport const getSessionData = (req) => {\r\n    const { usernameSession, roleSession } = req.session || { }\r\n    if (!usernameSession || !roleSession) {\r\n        return null\r\n    }\r\n    return { usernameSession, roleSession }\r\n}\r\n\r\nexport const isAdmin = (req, res, next) => {\r\n    if (!req.session || !req.session.roleSession || !req.session.usernameSession) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = req.session || { }\r\n    if (roleSession !== 'Admin') {\r\n        return res.render('layout', { page: 'pages/404', title: 'Trang không tồn tại', usernameSession, roleSession })\r\n    }\r\n    next()\r\n}"],"mappings":";;;;;;AAAO,MAAMA,aAAa,GAAGA,CAACC,GAAG,EAAEC,eAAe,EAAEC,WAAW,KAAK;EAChE,IAAI,CAACD,eAAe,IAAI,CAACC,WAAW,EAAE;IAClC,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAClD;EACAH,GAAG,CAACI,OAAO,CAACH,eAAe,GAAGA,eAAe;EAC7CD,GAAG,CAACI,OAAO,CAACF,WAAW,GAAGA,WAAW;AACzC,CAAC;AAAAG,OAAA,CAAAN,aAAA,GAAAA,aAAA;AAEM,MAAMO,cAAc,GAAIN,GAAG,IAAK;EACnC,MAAM;IAAEC,eAAe;IAAEC;EAAY,CAAC,GAAGF,GAAG,CAACI,OAAO,IAAI,CAAE,CAAC;EAC3D,IAAI,CAACH,eAAe,IAAI,CAACC,WAAW,EAAE;IAClC,OAAO,IAAI;EACf;EACA,OAAO;IAAED,eAAe;IAAEC;EAAY,CAAC;AAC3C,CAAC;AAAAG,OAAA,CAAAC,cAAA,GAAAA,cAAA;AAEM,MAAMC,OAAO,GAAGA,CAACP,GAAG,EAAEQ,GAAG,EAAEC,IAAI,KAAK;EACvC,IAAI,CAACT,GAAG,CAACI,OAAO,IAAI,CAACJ,GAAG,CAACI,OAAO,CAACF,WAAW,IAAI,CAACF,GAAG,CAACI,OAAO,CAACH,eAAe,EAAE;IAC1E,OAAOO,GAAG,CAACE,QAAQ,CAAC,QAAQ,CAAC;EACjC;EACA,MAAM;IAAET,eAAe;IAAEC;EAAY,CAAC,GAAGF,GAAG,CAACI,OAAO,IAAI,CAAE,CAAC;EAC3D,IAAIF,WAAW,KAAK,OAAO,EAAE;IACzB,OAAOM,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;MAAEC,IAAI,EAAE,WAAW;MAAEC,KAAK,EAAE,qBAAqB;MAAEZ,eAAe;MAAEC;IAAY,CAAC,CAAC;EAClH;EACAO,IAAI,CAAC,CAAC;AACV,CAAC;AAAAJ,OAAA,CAAAE,OAAA,GAAAA,OAAA","ignoreList":[]}},"mtime":1731600361416},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\middleware\\\\authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.getSessionData = exports.createSession = void 0;\nconst createSession = (req, usernameSession, roleSession) => {\n  if (!usernameSession || !roleSession) {\n    throw new Error('Username or role is invalid');\n  }\n  req.session.usernameSession = usernameSession;\n  req.session.roleSession = roleSession;\n};\nexports.createSession = createSession;\nconst getSessionData = req => {\n  const {\n    usernameSession,\n    roleSession\n  } = req.session || {};\n  if (!usernameSession || !roleSession) {\n    return null;\n  }\n  return {\n    usernameSession,\n    roleSession\n  };\n};\nexports.getSessionData = getSessionData;\nconst isAdmin = (req, res, next) => {\n  if (!req.session || !req.session.roleSession || !req.session.usernameSession) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = req.session || {};\n  if (roleSession !== 'Admin') {\n    return res.render('layout', {\n      page: 'pages/404',\n      title: 'Trang không tồn tại',\n      usernameSession,\n      roleSession\n    });\n  }\n  next();\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVTZXNzaW9uIiwicmVxIiwidXNlcm5hbWVTZXNzaW9uIiwicm9sZVNlc3Npb24iLCJFcnJvciIsInNlc3Npb24iLCJleHBvcnRzIiwiZ2V0U2Vzc2lvbkRhdGEiLCJpc0FkbWluIiwicmVzIiwibmV4dCIsInJlZGlyZWN0IiwicmVuZGVyIiwicGFnZSIsInRpdGxlIl0sInNvdXJjZVJvb3QiOiJEOlxcR2lhSHVuZ1xcTsSDbSA0XFxI4buNYyBr4buzIElcXEzhuq1wIHRyw6xuaCB3ZWIgbsOibmcgY2FvIC0gTmd1eeG7hW4gVGjhu4sgSOG7k25nIFnhur9uXFxUaOG7sWMgaMOgbmhcXHRodWNoYW5oX2VzNl9idW9pM1xcYnQxXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzIjpbImF1dGhNaWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjcmVhdGVTZXNzaW9uID0gKHJlcSwgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbikgPT4ge1xyXG4gICAgaWYgKCF1c2VybmFtZVNlc3Npb24gfHwgIXJvbGVTZXNzaW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VybmFtZSBvciByb2xlIGlzIGludmFsaWQnKVxyXG4gICAgfVxyXG4gICAgcmVxLnNlc3Npb24udXNlcm5hbWVTZXNzaW9uID0gdXNlcm5hbWVTZXNzaW9uXHJcbiAgICByZXEuc2Vzc2lvbi5yb2xlU2Vzc2lvbiA9IHJvbGVTZXNzaW9uXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTZXNzaW9uRGF0YSA9IChyZXEpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gcmVxLnNlc3Npb24gfHwgeyB9XHJcbiAgICBpZiAoIXVzZXJuYW1lU2Vzc2lvbiB8fCAhcm9sZVNlc3Npb24pIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBpZiAoIXJlcS5zZXNzaW9uIHx8ICFyZXEuc2Vzc2lvbi5yb2xlU2Vzc2lvbiB8fCAhcmVxLnNlc3Npb24udXNlcm5hbWVTZXNzaW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gcmVxLnNlc3Npb24gfHwgeyB9XHJcbiAgICBpZiAocm9sZVNlc3Npb24gIT09ICdBZG1pbicpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0JywgeyBwYWdlOiAncGFnZXMvNDA0JywgdGl0bGU6ICdUcmFuZyBraMO0bmcgdOG7k24gdOG6oWknLCB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0pXHJcbiAgICB9XHJcbiAgICBuZXh0KClcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsYUFBYSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLGVBQWUsRUFBRUMsV0FBVyxLQUFLO0VBQ2hFLElBQUksQ0FBQ0QsZUFBZSxJQUFJLENBQUNDLFdBQVcsRUFBRTtJQUNsQyxNQUFNLElBQUlDLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQztFQUNsRDtFQUNBSCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0gsZUFBZSxHQUFHQSxlQUFlO0VBQzdDRCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0YsV0FBVyxHQUFHQSxXQUFXO0FBQ3pDLENBQUM7QUFBQUcsT0FBQSxDQUFBTixhQUFBLEdBQUFBLGFBQUE7QUFFTSxNQUFNTyxjQUFjLEdBQUlOLEdBQUcsSUFBSztFQUNuQyxNQUFNO0lBQUVDLGVBQWU7SUFBRUM7RUFBWSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0ksT0FBTyxJQUFJLENBQUUsQ0FBQztFQUMzRCxJQUFJLENBQUNILGVBQWUsSUFBSSxDQUFDQyxXQUFXLEVBQUU7SUFDbEMsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxPQUFPO0lBQUVELGVBQWU7SUFBRUM7RUFBWSxDQUFDO0FBQzNDLENBQUM7QUFBQUcsT0FBQSxDQUFBQyxjQUFBLEdBQUFBLGNBQUE7QUFFTSxNQUFNQyxPQUFPLEdBQUdBLENBQUNQLEdBQUcsRUFBRVEsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDdkMsSUFBSSxDQUFDVCxHQUFHLENBQUNJLE9BQU8sSUFBSSxDQUFDSixHQUFHLENBQUNJLE9BQU8sQ0FBQ0YsV0FBVyxJQUFJLENBQUNGLEdBQUcsQ0FBQ0ksT0FBTyxDQUFDSCxlQUFlLEVBQUU7SUFDMUUsT0FBT08sR0FBRyxDQUFDRSxRQUFRLENBQUMsUUFBUSxDQUFDO0VBQ2pDO0VBQ0EsTUFBTTtJQUFFVCxlQUFlO0lBQUVDO0VBQVksQ0FBQyxHQUFHRixHQUFHLENBQUNJLE9BQU8sSUFBSSxDQUFFLENBQUM7RUFDM0QsSUFBSUYsV0FBVyxLQUFLLE9BQU8sRUFBRTtJQUN6QixPQUFPTSxHQUFHLENBQUNHLE1BQU0sQ0FBQyxRQUFRLEVBQUU7TUFBRUMsSUFBSSxFQUFFLFdBQVc7TUFBRUMsS0FBSyxFQUFFLHFCQUFxQjtNQUFFWixlQUFlO01BQUVDO0lBQVksQ0FBQyxDQUFDO0VBQ2xIO0VBQ0FPLElBQUksQ0FBQyxDQUFDO0FBQ1YsQ0FBQztBQUFBSixPQUFBLENBQUFFLE9BQUEsR0FBQUEsT0FBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["createSession","req","usernameSession","roleSession","Error","session","exports","getSessionData","isAdmin","res","next","redirect","render","page","title"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\middleware\\","sources":["authMiddleware.js"],"sourcesContent":["export const createSession = (req, usernameSession, roleSession) => {\r\n    if (!usernameSession || !roleSession) {\r\n        throw new Error('Username or role is invalid')\r\n    }\r\n    req.session.usernameSession = usernameSession\r\n    req.session.roleSession = roleSession\r\n}\r\n\r\nexport const getSessionData = (req) => {\r\n    const { usernameSession, roleSession } = req.session || { }\r\n    if (!usernameSession || !roleSession) {\r\n        return null\r\n    }\r\n    return { usernameSession, roleSession }\r\n}\r\n\r\nexport const isAdmin = (req, res, next) => {\r\n    if (!req.session || !req.session.roleSession || !req.session.usernameSession) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = req.session || { }\r\n    if (roleSession !== 'Admin') {\r\n        return res.render('layout', { page: 'pages/404', title: 'Trang không tồn tại', usernameSession, roleSession })\r\n    }\r\n    next()\r\n}"],"mappings":";;;;;;AAAO,MAAMA,aAAa,GAAGA,CAACC,GAAG,EAAEC,eAAe,EAAEC,WAAW,KAAK;EAChE,IAAI,CAACD,eAAe,IAAI,CAACC,WAAW,EAAE;IAClC,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAClD;EACAH,GAAG,CAACI,OAAO,CAACH,eAAe,GAAGA,eAAe;EAC7CD,GAAG,CAACI,OAAO,CAACF,WAAW,GAAGA,WAAW;AACzC,CAAC;AAAAG,OAAA,CAAAN,aAAA,GAAAA,aAAA;AAEM,MAAMO,cAAc,GAAIN,GAAG,IAAK;EACnC,MAAM;IAAEC,eAAe;IAAEC;EAAY,CAAC,GAAGF,GAAG,CAACI,OAAO,IAAI,CAAE,CAAC;EAC3D,IAAI,CAACH,eAAe,IAAI,CAACC,WAAW,EAAE;IAClC,OAAO,IAAI;EACf;EACA,OAAO;IAAED,eAAe;IAAEC;EAAY,CAAC;AAC3C,CAAC;AAAAG,OAAA,CAAAC,cAAA,GAAAA,cAAA;AAEM,MAAMC,OAAO,GAAGA,CAACP,GAAG,EAAEQ,GAAG,EAAEC,IAAI,KAAK;EACvC,IAAI,CAACT,GAAG,CAACI,OAAO,IAAI,CAACJ,GAAG,CAACI,OAAO,CAACF,WAAW,IAAI,CAACF,GAAG,CAACI,OAAO,CAACH,eAAe,EAAE;IAC1E,OAAOO,GAAG,CAACE,QAAQ,CAAC,QAAQ,CAAC;EACjC;EACA,MAAM;IAAET,eAAe;IAAEC;EAAY,CAAC,GAAGF,GAAG,CAACI,OAAO,IAAI,CAAE,CAAC;EAC3D,IAAIF,WAAW,KAAK,OAAO,EAAE;IACzB,OAAOM,GAAG,CAACG,MAAM,CAAC,QAAQ,EAAE;MAAEC,IAAI,EAAE,WAAW;MAAEC,KAAK,EAAE,qBAAqB;MAAEZ,eAAe;MAAEC;IAAY,CAAC,CAAC;EAClH;EACAO,IAAI,CAAC,CAAC;AACV,CAAC;AAAAJ,OAAA,CAAAE,OAAA,GAAAA,OAAA","ignoreList":[]}},"mtime":1731600361416},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\productController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getProductListPage = exports.getProductListData = exports.getEditProductPage = exports.getDetailProductPage = exports.getAddProductPage = exports.createProduct = void 0;\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.promise.js\");\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nvar _productModel = require(\"../model/productModel\");\nconst getProductListPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    const page = parseInt(req.query.page) || 1;\n    const limit = 10;\n    const offset = (page - 1) * limit;\n    const products = await getProductListData(offset, limit);\n    const totalProducts = await (0, _productModel.getTotalProducts)();\n    const totalPages = Math.ceil(totalProducts / limit);\n    res.render('layout', {\n      page: 'pages/listProduct',\n      title: 'Danh sách sản phẩm',\n      deleteErrorMessage: '',\n      deleteSuccessMessage: '',\n      products: products,\n      currentPage: page,\n      totalPages,\n      offset,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.getProductListPage = getProductListPage;\nconst getEditProductPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    const {\n      productname\n    } = req.params;\n    const product = await (0, _productModel.getDetailProductData)(productname);\n    return res.render('layout', {\n      page: 'pages/editProduct',\n      title: 'Thay đổi thông tin sản phẩm',\n      updateErrorMessage: '',\n      updateSuccessMessage: '',\n      product: product,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.getEditProductPage = getEditProductPage;\nconst getProductListData = async (offset, limit) => {\n  const products = await (0, _productModel.getProducts)(offset, limit);\n  const formattedProducts = products.map(product => {\n    return {\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      quantity: product.quantity,\n      created_at: product.created_at,\n      updated_at: product.updated_at\n    };\n  });\n  return formattedProducts;\n};\nexports.getProductListData = getProductListData;\nconst getAddProductPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    res.render('layout', {\n      page: 'pages/newProduct',\n      title: 'Thêm sản phẩm',\n      errorMessage: '',\n      successMessage: '',\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.getAddProductPage = getAddProductPage;\nconst createProduct = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  const {\n    productName,\n    productDescription,\n    productPrice\n  } = req.body;\n  const result = await (0, _productModel.addProduct)(productName, productDescription, productPrice);\n  if (!result) {\n    return res.render('layout', {\n      page: 'pages/newProduct',\n      title: 'Thêm sản phẩm',\n      errorMessage: 'Thêm sản phẩm thất bại vui lòng thử lại!',\n      successMessage: '',\n      usernameSession,\n      roleSession\n    });\n  }\n  return res.render('layout', {\n    page: 'pages/newProduct',\n    title: 'Thêm sản phẩm',\n    errorMessage: '',\n    successMessage: 'Thêm sản phẩm thành công',\n    usernameSession,\n    roleSession\n  });\n};\nexports.createProduct = createProduct;\nconst getDetailProductPage = async (req, res) => {\n  try {\n    const {\n      productname\n    } = req.params;\n    const product = await (0, _productModel.getDetailProductData)(productname);\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    res.render('layout', {\n      page: 'pages/detailProduct',\n      title: 'Chi tiết sản phẩm',\n      errorMessage: '',\n      product: product,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.getDetailProductPage = getDetailProductPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiX3Byb2R1Y3RNb2RlbCIsImdldFByb2R1Y3RMaXN0UGFnZSIsInJlcSIsInJlcyIsInNlc3Npb25EYXRhIiwiZ2V0U2Vzc2lvbkRhdGEiLCJyZWRpcmVjdCIsInVzZXJuYW1lU2Vzc2lvbiIsInJvbGVTZXNzaW9uIiwicGFnZSIsInBhcnNlSW50IiwicXVlcnkiLCJsaW1pdCIsIm9mZnNldCIsInByb2R1Y3RzIiwiZ2V0UHJvZHVjdExpc3REYXRhIiwidG90YWxQcm9kdWN0cyIsImdldFRvdGFsUHJvZHVjdHMiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJyZW5kZXIiLCJ0aXRsZSIsImRlbGV0ZUVycm9yTWVzc2FnZSIsImRlbGV0ZVN1Y2Nlc3NNZXNzYWdlIiwiY3VycmVudFBhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJleHBvcnRzIiwiZ2V0RWRpdFByb2R1Y3RQYWdlIiwicHJvZHVjdG5hbWUiLCJwYXJhbXMiLCJwcm9kdWN0IiwiZ2V0RGV0YWlsUHJvZHVjdERhdGEiLCJ1cGRhdGVFcnJvck1lc3NhZ2UiLCJ1cGRhdGVTdWNjZXNzTWVzc2FnZSIsImdldFByb2R1Y3RzIiwiZm9ybWF0dGVkUHJvZHVjdHMiLCJtYXAiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsInF1YW50aXR5IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJnZXRBZGRQcm9kdWN0UGFnZSIsImVycm9yTWVzc2FnZSIsInN1Y2Nlc3NNZXNzYWdlIiwiY3JlYXRlUHJvZHVjdCIsInByb2R1Y3ROYW1lIiwicHJvZHVjdERlc2NyaXB0aW9uIiwicHJvZHVjdFByaWNlIiwiYm9keSIsInJlc3VsdCIsImFkZFByb2R1Y3QiLCJnZXREZXRhaWxQcm9kdWN0UGFnZSJdLCJzb3VyY2VSb290IjoiRDpcXEdpYUh1bmdcXE7Eg20gNFxcSOG7jWMga+G7syBJXFxM4bqtcCB0csOsbmggd2ViIG7Dom5nIGNhbyAtIE5ndXnhu4VuIFRo4buLIEjhu5NuZyBZ4bq/blxcVGjhu7FjIGjDoG5oXFx0aHVjaGFuaF9lczZfYnVvaTNcXGJ0MVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U2Vzc2lvbkRhdGEgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZVwiXHJcbmltcG9ydCB7IGFkZFByb2R1Y3QsIGdldFRvdGFsUHJvZHVjdHMgfSBmcm9tIFwiLi4vbW9kZWwvcHJvZHVjdE1vZGVsXCJcclxuaW1wb3J0IHsgZ2V0UHJvZHVjdHMgfSBmcm9tIFwiLi4vbW9kZWwvcHJvZHVjdE1vZGVsXCJcclxuaW1wb3J0IHsgZ2V0RGV0YWlsUHJvZHVjdERhdGEgfSBmcm9tIFwiLi4vbW9kZWwvcHJvZHVjdE1vZGVsXCJcclxuXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdExpc3RQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKTtcclxuXHJcbiAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHJlcS5xdWVyeS5wYWdlKSB8fCAxO1xyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gMTA7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xyXG5cclxuICAgICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IGdldFByb2R1Y3RMaXN0RGF0YShvZmZzZXQsIGxpbWl0KTtcclxuICAgICAgICBjb25zdCB0b3RhbFByb2R1Y3RzID0gYXdhaXQgZ2V0VG90YWxQcm9kdWN0cygpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxQcm9kdWN0cyAvIGxpbWl0KTtcclxuXHJcbiAgICAgICAgcmVzLnJlbmRlcignbGF5b3V0Jywge1xyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvbGlzdFByb2R1Y3QnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ0Rhbmggc8OhY2ggc+G6o24gcGjhuqltJyxcclxuICAgICAgICAgICAgZGVsZXRlRXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZGVsZXRlU3VjY2Vzc01lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICB0b3RhbFBhZ2VzLFxyXG4gICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICAgICAgcm9sZVNlc3Npb24sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RWRpdFByb2R1Y3RQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgICAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICAgICAgY29uc3QgeyBwcm9kdWN0bmFtZSB9ID0gcmVxLnBhcmFtc1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBnZXREZXRhaWxQcm9kdWN0RGF0YShwcm9kdWN0bmFtZSlcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcignbGF5b3V0JywgeyBcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2VkaXRQcm9kdWN0JyxcclxuICAgICAgICAgICAgdGl0bGU6ICdUaGF5IMSR4buVaSB0aMO0bmcgdGluIHPhuqNuIHBo4bqpbScsXHJcbiAgICAgICAgICAgIHVwZGF0ZUVycm9yTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIHVwZGF0ZVN1Y2Nlc3NNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RMaXN0RGF0YSA9IGFzeW5jIChvZmZzZXQsIGxpbWl0KSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IGdldFByb2R1Y3RzKG9mZnNldCwgbGltaXQpO1xyXG4gICAgY29uc3QgZm9ybWF0dGVkUHJvZHVjdHMgPSBwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBwcm9kdWN0LnF1YW50aXR5LFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBwcm9kdWN0LmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHByb2R1Y3QudXBkYXRlZF9hdFxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGZvcm1hdHRlZFByb2R1Y3RzO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFkZFByb2R1Y3RQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKTtcclxuXHJcbiAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YTtcclxuXHJcbiAgICAgICAgcmVzLnJlbmRlcignbGF5b3V0Jywge1xyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvbmV3UHJvZHVjdCcsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnVGjDqm0gc+G6o24gcGjhuqltJyxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgIGlmICghc2Vzc2lvbkRhdGEpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YVxyXG4gICAgXHJcbiAgICBjb25zdCB7IHByb2R1Y3ROYW1lLCBwcm9kdWN0RGVzY3JpcHRpb24sIHByb2R1Y3RQcmljZSB9ID0gcmVxLmJvZHlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkZFByb2R1Y3QocHJvZHVjdE5hbWUsIHByb2R1Y3REZXNjcmlwdGlvbiwgcHJvZHVjdFByaWNlKVxyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL25ld1Byb2R1Y3QnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1Row6ptIHPhuqNuIHBo4bqpbScsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ1Row6ptIHPhuqNuIHBo4bqpbSB0aOG6pXQgYuG6oWkgdnVpIGzDsm5nIHRo4butIGzhuqFpIScsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvbixcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzL25ld1Byb2R1Y3QnLFxyXG4gICAgICAgIHRpdGxlOiAnVGjDqm0gc+G6o24gcGjhuqltJyxcclxuICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnVGjDqm0gc+G6o24gcGjhuqltIHRow6BuaCBjw7RuZycsXHJcbiAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgIHJvbGVTZXNzaW9uLFxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERldGFpbFByb2R1Y3RQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgcHJvZHVjdG5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZ2V0RGV0YWlsUHJvZHVjdERhdGEocHJvZHVjdG5hbWUpXHJcblxyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgICAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICAgICAgcmVzLnJlbmRlcignbGF5b3V0JywgeyBcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2RldGFpbFByb2R1Y3QnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3Qgc+G6o24gcGjhuqltJyxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRCxPQUFBO0FBS08sTUFBTUUsa0JBQWtCLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxF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","map":{"version":3,"names":["_authMiddleware","require","_productModel","getProductListPage","req","res","sessionData","getSessionData","redirect","usernameSession","roleSession","page","parseInt","query","limit","offset","products","getProductListData","totalProducts","getTotalProducts","totalPages","Math","ceil","render","title","deleteErrorMessage","deleteSuccessMessage","currentPage","error","console","exports","getEditProductPage","productname","params","product","getDetailProductData","updateErrorMessage","updateSuccessMessage","getProducts","formattedProducts","map","name","description","price","quantity","created_at","updated_at","getAddProductPage","errorMessage","successMessage","createProduct","productName","productDescription","productPrice","body","result","addProduct","getDetailProductPage"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["productController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\nimport { addProduct, getTotalProducts } from \"../model/productModel\"\r\nimport { getProducts } from \"../model/productModel\"\r\nimport { getDetailProductData } from \"../model/productModel\"\r\n\r\n\r\nexport const getProductListPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req);\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login');\r\n        }\r\n        const { usernameSession, roleSession } = sessionData;\r\n\r\n        const page = parseInt(req.query.page) || 1;\r\n        const limit = 10;\r\n        const offset = (page - 1) * limit;\r\n\r\n        const products = await getProductListData(offset, limit);\r\n        const totalProducts = await getTotalProducts();\r\n        const totalPages = Math.ceil(totalProducts / limit);\r\n\r\n        res.render('layout', {\r\n            page: 'pages/listProduct',\r\n            title: 'Danh sách sản phẩm',\r\n            deleteErrorMessage: '',\r\n            deleteSuccessMessage: '',\r\n            products: products,\r\n            currentPage: page,\r\n            totalPages,\r\n            offset,\r\n            usernameSession,\r\n            roleSession,\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const getEditProductPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req)\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login')\r\n        }\r\n        const { usernameSession, roleSession } = sessionData\r\n\r\n        const { productname } = req.params\r\n        const product = await getDetailProductData(productname)\r\n        return res.render('layout', { \r\n            page: 'pages/editProduct',\r\n            title: 'Thay đổi thông tin sản phẩm',\r\n            updateErrorMessage: '',\r\n            updateSuccessMessage: '',\r\n            product: product,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error\r\n    }\r\n}\r\n\r\nexport const getProductListData = async (offset, limit) => {\r\n    const products = await getProducts(offset, limit);\r\n    const formattedProducts = products.map(product => {\r\n        return {\r\n            name: product.name,\r\n            description: product.description,\r\n            price: product.price,\r\n            quantity: product.quantity,\r\n            created_at: product.created_at,\r\n            updated_at: product.updated_at\r\n        };\r\n    });\r\n    \r\n    return formattedProducts;\r\n};\r\n\r\nexport const getAddProductPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req);\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login');\r\n        }\r\n        const { usernameSession, roleSession } = sessionData;\r\n\r\n        res.render('layout', {\r\n            page: 'pages/newProduct',\r\n            title: 'Thêm sản phẩm',\r\n            errorMessage: '',\r\n            successMessage: '',\r\n            usernameSession,\r\n            roleSession,\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const createProduct = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n    \r\n    const { productName, productDescription, productPrice } = req.body\r\n    const result = await addProduct(productName, productDescription, productPrice)\r\n\r\n    if (!result) {\r\n        return res.render('layout', {\r\n            page: 'pages/newProduct',\r\n            title: 'Thêm sản phẩm',\r\n            errorMessage: 'Thêm sản phẩm thất bại vui lòng thử lại!',\r\n            successMessage: '',\r\n            usernameSession,\r\n            roleSession,\r\n        })\r\n    }\r\n\r\n    return res.render('layout', {\r\n        page: 'pages/newProduct',\r\n        title: 'Thêm sản phẩm',\r\n        errorMessage: '',\r\n        successMessage: 'Thêm sản phẩm thành công',\r\n        usernameSession,\r\n        roleSession,\r\n    })\r\n}\r\n\r\nexport const getDetailProductPage = async (req, res) => {\r\n    try {\r\n        const { productname } = req.params\r\n        const product = await getDetailProductData(productname)\r\n\r\n        const sessionData = getSessionData(req)\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login')\r\n        }\r\n        const { usernameSession, roleSession } = sessionData\r\n\r\n        res.render('layout', { \r\n            page: 'pages/detailProduct',\r\n            title: 'Chi tiết sản phẩm',\r\n            errorMessage: '',\r\n            product: product,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1731603980445},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\controllers\\\\productController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductListPage = exports.getProductListData = exports.getEditProductPage = exports.getDetailProductPage = exports.getAddProductPage = exports.createProduct = void 0;\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.promise.js\");\nvar _authMiddleware = require(\"../middleware/authMiddleware\");\nvar _productModel = require(\"../model/productModel\");\nconst getProductListPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    const page = parseInt(req.query.page) || 1;\n    const limit = 10;\n    const offset = (page - 1) * limit;\n    const products = await getProductListData(offset, limit);\n    const totalProducts = await (0, _productModel.getTotalProducts)();\n    const totalPages = Math.ceil(totalProducts / limit);\n    res.render('layout', {\n      page: 'pages/listProduct',\n      title: 'Danh sách sản phẩm',\n      deleteErrorMessage: '',\n      deleteSuccessMessage: '',\n      products: products,\n      currentPage: page,\n      totalPages,\n      offset,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.getProductListPage = getProductListPage;\nconst getEditProductPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    const {\n      productname\n    } = req.params;\n    const product = await (0, _productModel.getDetailProductData)(productname);\n    return res.render('layout', {\n      page: 'pages/editProduct',\n      title: 'Thay đổi thông tin sản phẩm',\n      updateErrorMessage: '',\n      updateSuccessMessage: '',\n      product: product,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.getEditProductPage = getEditProductPage;\nconst updateProduct = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  let {\n    productName,\n    productDescription,\n    productPrice\n  } = req.body;\n  if (!productName || !productDescription || !productPrice) {\n    return res.status(400).send('Thiếu thông tin cần thiết');\n  }\n  const updateResult = await updateProductModel(productName, productDescription, productPrice);\n  const productDetails = await (0, _productModel.getDetailProductData)(username);\n  if (!updateResult) {\n    return res.render('layout', {\n      page: 'pages/editProduct',\n      title: 'Chi tiết sản phẩm',\n      updateErrorMessage: 'Có lỗi xảy ra khi cập nhật',\n      updateSuccessMessage: '',\n      product: productDetails,\n      usernameSession,\n      roleSession\n    });\n  }\n  return res.render('layout', {\n    page: 'pages/editProduct',\n    title: 'Chi tiết sản phẩm',\n    updateErrorMessage: '',\n    updateSuccessMessage: 'Cập nhật thành công',\n    user: productDetails,\n    usernameSession,\n    roleSession\n  });\n};\nexports.updateProduct = updateProduct;\nconst getProductListData = async (offset, limit) => {\n  const products = await (0, _productModel.getProducts)(offset, limit);\n  const formattedProducts = products.map(product => {\n    return {\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      quantity: product.quantity,\n      created_at: product.created_at,\n      updated_at: product.updated_at\n    };\n  });\n  return formattedProducts;\n};\nexports.getProductListData = getProductListData;\nconst getAddProductPage = async (req, res) => {\n  try {\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    res.render('layout', {\n      page: 'pages/newProduct',\n      title: 'Thêm sản phẩm',\n      errorMessage: '',\n      successMessage: '',\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nexports.getAddProductPage = getAddProductPage;\nconst createProduct = async (req, res) => {\n  const sessionData = (0, _authMiddleware.getSessionData)(req);\n  if (!sessionData) {\n    return res.redirect('/login');\n  }\n  const {\n    usernameSession,\n    roleSession\n  } = sessionData;\n  const {\n    productName,\n    productDescription,\n    productPrice\n  } = req.body;\n  const result = await (0, _productModel.addProduct)(productName, productDescription, productPrice);\n  if (!result) {\n    return res.render('layout', {\n      page: 'pages/newProduct',\n      title: 'Thêm sản phẩm',\n      errorMessage: 'Thêm sản phẩm thất bại vui lòng thử lại!',\n      successMessage: '',\n      usernameSession,\n      roleSession\n    });\n  }\n  return res.render('layout', {\n    page: 'pages/newProduct',\n    title: 'Thêm sản phẩm',\n    errorMessage: '',\n    successMessage: 'Thêm sản phẩm thành công',\n    usernameSession,\n    roleSession\n  });\n};\nexports.createProduct = createProduct;\nconst getDetailProductPage = async (req, res) => {\n  try {\n    const {\n      productname\n    } = req.params;\n    const product = await (0, _productModel.getDetailProductData)(productname);\n    const sessionData = (0, _authMiddleware.getSessionData)(req);\n    if (!sessionData) {\n      return res.redirect('/login');\n    }\n    const {\n      usernameSession,\n      roleSession\n    } = sessionData;\n    res.render('layout', {\n      page: 'pages/detailProduct',\n      title: 'Chi tiết sản phẩm',\n      errorMessage: '',\n      product: product,\n      usernameSession,\n      roleSession\n    });\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.getDetailProductPage = getDetailProductPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiX3Byb2R1Y3RNb2RlbCIsImdldFByb2R1Y3RMaXN0UGFnZSIsInJlcSIsInJlcyIsInNlc3Npb25EYXRhIiwiZ2V0U2Vzc2lvbkRhdGEiLCJyZWRpcmVjdCIsInVzZXJuYW1lU2Vzc2lvbiIsInJvbGVTZXNzaW9uIiwicGFnZSIsInBhcnNlSW50IiwicXVlcnkiLCJsaW1pdCIsIm9mZnNldCIsInByb2R1Y3RzIiwiZ2V0UHJvZHVjdExpc3REYXRhIiwidG90YWxQcm9kdWN0cyIsImdldFRvdGFsUHJvZHVjdHMiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJyZW5kZXIiLCJ0aXRsZSIsImRlbGV0ZUVycm9yTWVzc2FnZSIsImRlbGV0ZVN1Y2Nlc3NNZXNzYWdlIiwiY3VycmVudFBhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJleHBvcnRzIiwiZ2V0RWRpdFByb2R1Y3RQYWdlIiwicHJvZHVjdG5hbWUiLCJwYXJhbXMiLCJwcm9kdWN0IiwiZ2V0RGV0YWlsUHJvZHVjdERhdGEiLCJ1cGRhdGVFcnJvck1lc3NhZ2UiLCJ1cGRhdGVTdWNjZXNzTWVzc2FnZSIsInVwZGF0ZVByb2R1Y3QiLCJwcm9kdWN0TmFtZSIsInByb2R1Y3REZXNjcmlwdGlvbiIsInByb2R1Y3RQcmljZSIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwidXBkYXRlUmVzdWx0IiwidXBkYXRlUHJvZHVjdE1vZGVsIiwicHJvZHVjdERldGFpbHMiLCJ1c2VybmFtZSIsInVzZXIiLCJnZXRQcm9kdWN0cyIsImZvcm1hdHRlZFByb2R1Y3RzIiwibWFwIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJxdWFudGl0eSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiZ2V0QWRkUHJvZHVjdFBhZ2UiLCJlcnJvck1lc3NhZ2UiLCJzdWNjZXNzTWVzc2FnZSIsImNyZWF0ZVByb2R1Y3QiLCJyZXN1bHQiLCJhZGRQcm9kdWN0IiwiZ2V0RGV0YWlsUHJvZHVjdFBhZ2UiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb25EYXRhIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmVcIlxyXG5pbXBvcnQgeyBhZGRQcm9kdWN0LCBnZXRUb3RhbFByb2R1Y3RzIH0gZnJvbSBcIi4uL21vZGVsL3Byb2R1Y3RNb2RlbFwiXHJcbmltcG9ydCB7IGdldFByb2R1Y3RzIH0gZnJvbSBcIi4uL21vZGVsL3Byb2R1Y3RNb2RlbFwiXHJcbmltcG9ydCB7IGdldERldGFpbFByb2R1Y3REYXRhIH0gZnJvbSBcIi4uL21vZGVsL3Byb2R1Y3RNb2RlbFwiXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RMaXN0UGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSk7XHJcblxyXG4gICAgICAgIGlmICghc2Vzc2lvbkRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGE7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChyZXEucXVlcnkucGFnZSkgfHwgMTtcclxuICAgICAgICBjb25zdCBsaW1pdCA9IDEwO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcclxuXHJcbiAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBnZXRQcm9kdWN0TGlzdERhdGEob2Zmc2V0LCBsaW1pdCk7XHJcbiAgICAgICAgY29uc3QgdG90YWxQcm9kdWN0cyA9IGF3YWl0IGdldFRvdGFsUHJvZHVjdHMoKTtcclxuICAgICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsUHJvZHVjdHMgLyBsaW1pdCk7XHJcblxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2xpc3RQcm9kdWN0JyxcclxuICAgICAgICAgICAgdGl0bGU6ICdEYW5oIHPDoWNoIHPhuqNuIHBo4bqpbScsXHJcbiAgICAgICAgICAgIGRlbGV0ZUVycm9yTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIGRlbGV0ZVN1Y2Nlc3NNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgcHJvZHVjdHM6IHByb2R1Y3RzLFxyXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcclxuICAgICAgICAgICAgdG90YWxQYWdlcyxcclxuICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEVkaXRQcm9kdWN0UGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHVzZXJuYW1lU2Vzc2lvbiwgcm9sZVNlc3Npb24gfSA9IHNlc3Npb25EYXRhXHJcblxyXG4gICAgICAgIGNvbnN0IHsgcHJvZHVjdG5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZ2V0RGV0YWlsUHJvZHVjdERhdGEocHJvZHVjdG5hbWUpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgXHJcbiAgICAgICAgICAgIHBhZ2U6ICdwYWdlcy9lZGl0UHJvZHVjdCcsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnVGhheSDEkeG7lWkgdGjDtG5nIHRpbiBz4bqjbiBwaOG6qW0nLFxyXG4gICAgICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICB1cGRhdGVTdWNjZXNzTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHByb2R1Y3QsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICAgICAgcm9sZVNlc3Npb25cclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGdldFNlc3Npb25EYXRhKHJlcSlcclxuXHJcbiAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2xvZ2luJylcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICBsZXQgeyBwcm9kdWN0TmFtZSwgcHJvZHVjdERlc2NyaXB0aW9uLCBwcm9kdWN0UHJpY2UgfSA9IHJlcS5ib2R5XHJcblxyXG4gICAgaWYgKCFwcm9kdWN0TmFtZSB8fCAhcHJvZHVjdERlc2NyaXB0aW9uIHx8ICFwcm9kdWN0UHJpY2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1RoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90JylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGVQcm9kdWN0TW9kZWwocHJvZHVjdE5hbWUsIHByb2R1Y3REZXNjcmlwdGlvbiwgcHJvZHVjdFByaWNlKVxyXG4gICAgY29uc3QgcHJvZHVjdERldGFpbHMgPSBhd2FpdCBnZXREZXRhaWxQcm9kdWN0RGF0YSh1c2VybmFtZSlcclxuXHJcbiAgICBpZiAoIXVwZGF0ZVJlc3VsdCkge1xyXG4gICAgICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7IFxyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvZWRpdFByb2R1Y3QnLCBcclxuICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IHPhuqNuIHBo4bqpbScsIFxyXG4gICAgICAgICAgICB1cGRhdGVFcnJvck1lc3NhZ2U6ICdDw7MgbOG7l2kgeOG6o3kgcmEga2hpIGPhuq1wIG5o4bqtdCcsIFxyXG4gICAgICAgICAgICB1cGRhdGVTdWNjZXNzTWVzc2FnZTogJycsIFxyXG4gICAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0RGV0YWlscyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHsgXHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzL2VkaXRQcm9kdWN0JywgXHJcbiAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IHPhuqNuIHBo4bqpbScsIFxyXG4gICAgICAgIHVwZGF0ZUVycm9yTWVzc2FnZTogJycsIFxyXG4gICAgICAgIHVwZGF0ZVN1Y2Nlc3NNZXNzYWdlOiAnQ+G6rXAgbmjhuq10IHRow6BuaCBjw7RuZycsIFxyXG4gICAgICAgIHVzZXI6IHByb2R1Y3REZXRhaWxzLFxyXG4gICAgICAgIHVzZXJuYW1lU2Vzc2lvbixcclxuICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RMaXN0RGF0YSA9IGFzeW5jIChvZmZzZXQsIGxpbWl0KSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IGdldFByb2R1Y3RzKG9mZnNldCwgbGltaXQpO1xyXG4gICAgY29uc3QgZm9ybWF0dGVkUHJvZHVjdHMgPSBwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBwcm9kdWN0LnF1YW50aXR5LFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBwcm9kdWN0LmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHByb2R1Y3QudXBkYXRlZF9hdFxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGZvcm1hdHRlZFByb2R1Y3RzO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFkZFByb2R1Y3RQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKTtcclxuXHJcbiAgICAgICAgaWYgKCFzZXNzaW9uRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YTtcclxuXHJcbiAgICAgICAgcmVzLnJlbmRlcignbGF5b3V0Jywge1xyXG4gICAgICAgICAgICBwYWdlOiAncGFnZXMvbmV3UHJvZHVjdCcsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnVGjDqm0gc+G6o24gcGjhuqltJyxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICB1c2VybmFtZVNlc3Npb24sXHJcbiAgICAgICAgICAgIHJvbGVTZXNzaW9uLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgIGlmICghc2Vzc2lvbkRhdGEpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgeyB1c2VybmFtZVNlc3Npb24sIHJvbGVTZXNzaW9uIH0gPSBzZXNzaW9uRGF0YVxyXG4gICAgXHJcbiAgICBjb25zdCB7IHByb2R1Y3ROYW1lLCBwcm9kdWN0RGVzY3JpcHRpb24sIHByb2R1Y3RQcmljZSB9ID0gcmVxLmJvZHlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkZFByb2R1Y3QocHJvZHVjdE5hbWUsIHByb2R1Y3REZXNjcmlwdGlvbiwgcHJvZHVjdFByaWNlKVxyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2xheW91dCcsIHtcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL25ld1Byb2R1Y3QnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1Row6ptIHPhuqNuIHBo4bqpbScsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ1Row6ptIHPhuqNuIHBo4bqpbSB0aOG6pXQgYuG6oWkgdnVpIGzDsm5nIHRo4butIGzhuqFpIScsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvbixcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMucmVuZGVyKCdsYXlvdXQnLCB7XHJcbiAgICAgICAgcGFnZTogJ3BhZ2VzL25ld1Byb2R1Y3QnLFxyXG4gICAgICAgIHRpdGxlOiAnVGjDqm0gc+G6o24gcGjhuqltJyxcclxuICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLFxyXG4gICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiAnVGjDqm0gc+G6o24gcGjhuqltIHRow6BuaCBjw7RuZycsXHJcbiAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgIHJvbGVTZXNzaW9uLFxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERldGFpbFByb2R1Y3RQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgcHJvZHVjdG5hbWUgfSA9IHJlcS5wYXJhbXNcclxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZ2V0RGV0YWlsUHJvZHVjdERhdGEocHJvZHVjdG5hbWUpXHJcblxyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gZ2V0U2Vzc2lvbkRhdGEocmVxKVxyXG5cclxuICAgICAgICBpZiAoIXNlc3Npb25EYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdXNlcm5hbWVTZXNzaW9uLCByb2xlU2Vzc2lvbiB9ID0gc2Vzc2lvbkRhdGFcclxuXHJcbiAgICAgICAgcmVzLnJlbmRlcignbGF5b3V0JywgeyBcclxuICAgICAgICAgICAgcGFnZTogJ3BhZ2VzL2RldGFpbFByb2R1Y3QnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3Qgc+G6o24gcGjhuqltJyxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCxcclxuICAgICAgICAgICAgdXNlcm5hbWVTZXNzaW9uLFxyXG4gICAgICAgICAgICByb2xlU2Vzc2lvblxyXG4gICAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsZUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRCxPQUFBO0FBS08sTUFBTUUsa0JBQWtCLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDbEQsSUFBSTtJQUNBLE1BQU1DLFdBQVcsR0FBRyxJQUFBQyw4QkFBYyxFQUFDSCxHQUFHLENBQUM7SUFFdkMsSUFBSSxDQUFDRSxXQUFXLEVBQUU7TUFDZCxPQUFPRCxHQUFHLENBQUNHLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDakM7SUFDQSxNQUFNO01BQUVDLGVBQWU7TUFBRUM7SUFBWSxDQUFDLEdBQUdKLFdBQVc7SUFFcEQsTUFBTUssSUFBSSxHQUFHQyxRQUFRLENBQUNSLEdBQUcsQ0FBQ1MsS0FBSyxDQUFDRixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzFDLE1BQU1HLEtBQUssR0FBRyxFQUFFO0lBQ2hCLE1BQU1DLE1BQU0sR0FBRyxDQUFDSixJQUFJLEdBQUcsQ0FBQyxJQUFJRyxLQUFLO0lBRWpDLE1BQU1FLFFBQVEsR0FBRyxNQUFNQyxrQkFBa0IsQ0FBQ0YsTUFBTSxFQUFFRCxLQUFLLENBQUM7SUFDeEQsTUFBTUksYUFBYSxHQUFHLE1BQU0sSUFBQUMsOEJBQWdCLEVBQUMsQ0FBQztJQUM5QyxNQUFNQyxVQUFVLEdBQUdDLElBQUksQ0FBQ0MsSUFBSSxDQUFDSixhQUFhLEdBQUdKLEtBQUssQ0FBQztJQUVuRFQsR0FBRyxDQUFDa0IsTUFBTSxDQUFDLFFBQVEsRUFBRTtNQUNqQlosSUFBSSxFQUFFLG1CQUFtQjtNQUN6QmEsS0FBSyxFQUFFLG9CQUFvQjtNQUMzQkMsa0JBQWtCLEVBQUUsRUFBRTtNQUN0QkMsb0JBQW9CLEVBQUUsRUFBRTtNQUN4QlYsUUFBUSxFQUFFQSxRQUFRO01BQ2xCVyxXQUFXLEVBQUVoQixJQUFJO01BQ2pCUyxVQUFVO01BQ1ZMLE1BQU07TUFDTk4sZUFBZTtNQUNmQztJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQyxPQUFPa0IsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7RUFDeEI7QUFDSixDQUFDO0FBQUFFLE9BQUEsQ0FBQTNCLGtCQUFBLEdBQUFBLGtCQUFBO0FBRU0sTUFBTTRCLGtCQUFrQixHQUFHLE1BQUFBLENBQU8zQixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNsRCxJQUFJO0lBQ0EsTUFBTUMsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztJQUV2QyxJQUFJLENBQUNFLFdBQVcsRUFBRTtNQUNkLE9BQU9ELEdBQUcsQ0FBQ0csUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUNqQztJQUNBLE1BQU07TUFBRUMsZUFBZTtNQUFFQztJQUFZLENBQUMsR0FBR0osV0FBVztJQUVwRCxNQUFNO01BQUUwQjtJQUFZLENBQUMsR0FBRzVCLEdBQUcsQ0FBQzZCLE1BQU07SUFDbEMsTUFBTUMsT0FBTyxHQUFHLE1BQU0sSUFBQUMsa0NBQW9CLEVBQUNILFdBQVcsQ0FBQztJQUN2RCxPQUFPM0IsR0FBRyxDQUFDa0IsTUFBTSxDQUFDLFFBQVEsRUFBRTtNQUN4QlosSUFBSSxFQUFFLG1CQUFtQjtNQUN6QmEsS0FBSyxFQUFFLDZCQUE2QjtNQUNwQ1ksa0JBQWtCLEVBQUUsRUFBRTtNQUN0QkMsb0JBQW9CLEVBQUUsRUFBRTtNQUN4QkgsT0FBTyxFQUFFQSxPQUFPO01BQ2hCekIsZUFBZTtNQUNmQztJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQyxPQUFPa0IsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7SUFDcEIsTUFBTUEsS0FBSztFQUNmO0FBQ0osQ0FBQztBQUFBRSxPQUFBLENBQUFDLGtCQUFBLEdBQUFBLGtCQUFBO0FBRU0sTUFBTU8sYUFBYSxHQUFHLE1BQUFBLENBQU9sQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM3QyxNQUFNQyxXQUFXLEdBQUcsSUFBQUMsOEJBQWMsRUFBQ0gsR0FBRyxDQUFDO0VBRXZDLElBQUksQ0FBQ0UsV0FBVyxFQUFFO0lBQ2QsT0FBT0QsR0FBRyxDQUFDRyxRQUFRLENBQUMsUUFBUSxDQUFDO0VBQ2pDO0VBQ0EsTUFBTTtJQUFFQyxlQUFlO0lBQUVDO0VBQVksQ0FBQyxHQUFHSixXQUFXO0VBRXBELElBQUk7SUFBRWlDLFdBQVc7SUFBRUMsa0JBQWtCO0lBQUVDO0VBQWEsQ0FBQyxHQUFHckMsR0FBRyxDQUFDc0MsSUFBSTtFQUVoRSxJQUFJLENBQUNILFdBQVcsSUFBSSxDQUFDQyxrQkFBa0IsSUFBSSxDQUFDQyxZQUFZLEVBQUU7SUFDdEQsT0FBT3BDLEdBQUcsQ0FBQ3NDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLDJCQUEyQixDQUFDO0VBQzVEO0VBRUEsTUFBTUMsWUFBWSxHQUFHLE1BQU1DLGtCQUFrQixDQUFDUCxXQUFXLEVBQUVDLGtCQUFrQixFQUFFQyxZQUFZLENBQUM7RUFDNUYsTUFBTU0sY0FBYyxHQUFHLE1BQU0sSUFBQVosa0NBQW9CLEVBQUNhLFFBQVEsQ0FBQztFQUUzRCxJQUFJLENBQUNILFlBQVksRUFBRTtJQUNmLE9BQU94QyxHQUFHLENBQUNrQixNQUFNLENBQUMsUUFBUSxFQUFFO01BQ3hCWixJQUFJLEVBQUUsbUJBQW1CO01BQ3pCYSxLQUFLLEVBQUUsbUJBQW1CO01BQzFCWSxrQkFBa0IsRUFBRSw0QkFBNEI7TUFDaERDLG9CQUFvQixFQUFFLEVBQUU7TUFDeEJILE9BQU8sRUFBRWEsY0FBYztNQUN2QnRDLGVBQWU7TUFDZkM7SUFDSixDQUFDLENBQUM7RUFDTjtFQUVBLE9BQU9MLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxRQUFRLEVBQUU7SUFDeEJaLElBQUksRUFBRSxtQkFBbUI7SUFDekJhLEtBQUssRUFBRSxtQkFBbUI7SUFDMUJZLGtCQUFrQixFQUFFLEVBQUU7SUFDdEJDLG9CQUFvQixFQUFFLHFCQUFxQjtJQUMzQ1ksSUFBSSxFQUFFRixjQUFjO0lBQ3BCdEMsZUFBZTtJQUNmQztFQUNKLENBQUMsQ0FBQztBQUNOLENBQUM7QUFBQW9CLE9BQUEsQ0FBQVEsYUFBQSxHQUFBQSxhQUFBO0FBRU0sTUFBTXJCLGtCQUFrQixHQUFHLE1BQUFBLENBQU9GLE1BQU0sRUFBRUQsS0FBSyxLQUFLO0VBQ3ZELE1BQU1FLFFBQVEsR0FBRyxNQUFNLElBQUFrQyx5QkFBVyxFQUFDbkMsTUFBTSxFQUFFRCxLQUFLLENBQUM7RUFDakQsTUFBTXFDLGlCQUFpQixHQUFHbkMsUUFBUSxDQUFDb0MsR0FBRyxDQUFDbEIsT0FBTyxJQUFJO0lBQzlDLE9BQU87TUFDSG1CLElBQUksRUFBRW5CLE9BQU8sQ0FBQ21CLElBQUk7TUFDbEJDLFdBQVcsRUFBRXBCLE9BQU8sQ0FBQ29CLFdBQVc7TUFDaENDLEtBQUssRUFBRXJCLE9BQU8sQ0FBQ3FCLEtBQUs7TUFDcEJDLFFBQVEsRUFBRXRCLE9BQU8sQ0FBQ3NCLFFBQVE7TUFDMUJDLFVBQVUsRUFBRXZCLE9BQU8sQ0FBQ3VCLFVBQVU7TUFDOUJDLFVBQVUsRUFBRXhCLE9BQU8sQ0FBQ3dCO0lBQ3hCLENBQUM7RUFDTCxDQUFDLENBQUM7RUFFRixPQUFPUCxpQkFBaUI7QUFDNUIsQ0FBQztBQUFDckIsT0FBQSxDQUFBYixrQkFBQSxHQUFBQSxrQkFBQTtBQUVLLE1BQU0wQyxpQkFBaUIsR0FBRyxNQUFBQSxDQUFPdkQsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDakQsSUFBSTtJQUNBLE1BQU1DLFdBQVcsR0FBRyxJQUFBQyw4QkFBYyxFQUFDSCxHQUFHLENBQUM7SUFFdkMsSUFBSSxDQUFDRSxXQUFXLEVBQUU7TUFDZCxPQUFPRCxHQUFHLENBQUNHLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDakM7SUFDQSxNQUFNO01BQUVDLGVBQWU7TUFBRUM7SUFBWSxDQUFDLEdBQUdKLFdBQVc7SUFFcERELEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxRQUFRLEVBQUU7TUFDakJaLElBQUksRUFBRSxrQkFBa0I7TUFDeEJhLEtBQUssRUFBRSxlQUFlO01BQ3RCb0MsWUFBWSxFQUFFLEVBQUU7TUFDaEJDLGNBQWMsRUFBRSxFQUFFO01BQ2xCcEQsZUFBZTtNQUNmQztJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQyxPQUFPa0IsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7RUFDeEI7QUFDSixDQUFDO0FBQUFFLE9BQUEsQ0FBQTZCLGlCQUFBLEdBQUFBLGlCQUFBO0FBRU0sTUFBTUcsYUFBYSxHQUFHLE1BQUFBLENBQU8xRCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM3QyxNQUFNQyxXQUFXLEdBQUcsSUFBQUMsOEJBQWMsRUFBQ0gsR0FBRyxDQUFDO0VBRXZDLElBQUksQ0FBQ0UsV0FBVyxFQUFFO0lBQ2QsT0FBT0QsR0FBRyxDQUFDRyxRQUFRLENBQUMsUUFBUSxDQUFDO0VBQ2pDO0VBQ0EsTUFBTTtJQUFFQyxlQUFlO0lBQUVDO0VBQVksQ0FBQyxHQUFHSixXQUFXO0VBRXBELE1BQU07SUFBRWlDLFdBQVc7SUFBRUMsa0JBQWtCO0lBQUVDO0VBQWEsQ0FBQyxHQUFHckMsR0FBRyxDQUFDc0MsSUFBSTtFQUNsRSxNQUFNcUIsTUFBTSxHQUFHLE1BQU0sSUFBQUMsd0JBQVUsRUFBQ3pCLFdBQVcsRUFBRUMsa0JBQWtCLEVBQUVDLFlBQVksQ0FBQztFQUU5RSxJQUFJLENBQUNzQixNQUFNLEVBQUU7SUFDVCxPQUFPMUQsR0FBRyxDQUFDa0IsTUFBTSxDQUFDLFFBQVEsRUFBRTtNQUN4QlosSUFBSSxFQUFFLGtCQUFrQjtNQUN4QmEsS0FBSyxFQUFFLGVBQWU7TUFDdEJvQyxZQUFZLEVBQUUsMENBQTBDO01BQ3hEQyxjQUFjLEVBQUUsRUFBRTtNQUNsQnBELGVBQWU7TUFDZkM7SUFDSixDQUFDLENBQUM7RUFDTjtFQUVBLE9BQU9MLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQyxRQUFRLEVBQUU7SUFDeEJaLElBQUksRUFBRSxrQkFBa0I7SUFDeEJhLEtBQUssRUFBRSxlQUFlO0lBQ3RCb0MsWUFBWSxFQUFFLEVBQUU7SUFDaEJDLGNBQWMsRUFBRSwwQkFBMEI7SUFDMUNwRCxlQUFlO0lBQ2ZDO0VBQ0osQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQUFBb0IsT0FBQSxDQUFBZ0MsYUFBQSxHQUFBQSxhQUFBO0FBRU0sTUFBTUcsb0JBQW9CLEdBQUcsTUFBQUEsQ0FBTzdELEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3BELElBQUk7SUFDQSxNQUFNO01BQUUyQjtJQUFZLENBQUMsR0FBRzVCLEdBQUcsQ0FBQzZCLE1BQU07SUFDbEMsTUFBTUMsT0FBTyxHQUFHLE1BQU0sSUFBQUMsa0NBQW9CLEVBQUNILFdBQVcsQ0FBQztJQUV2RCxNQUFNMUIsV0FBVyxHQUFHLElBQUFDLDhCQUFjLEVBQUNILEdBQUcsQ0FBQztJQUV2QyxJQUFJLENBQUNFLFdBQVcsRUFBRTtNQUNkLE9BQU9ELEdBQUcsQ0FBQ0csUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUNqQztJQUNBLE1BQU07TUFBRUMsZUFBZTtNQUFFQztJQUFZLENBQUMsR0FBR0osV0FBVztJQUVwREQsR0FBRyxDQUFDa0IsTUFBTSxDQUFDLFFBQVEsRUFBRTtNQUNqQlosSUFBSSxFQUFFLHFCQUFxQjtNQUMzQmEsS0FBSyxFQUFFLG1CQUFtQjtNQUMxQm9DLFlBQVksRUFBRSxFQUFFO01BQ2hCMUIsT0FBTyxFQUFFQSxPQUFPO01BQ2hCekIsZUFBZTtNQUNmQztJQUNKLENBQUMsQ0FBQztFQUNOLENBQUMsQ0FBQyxPQUFPa0IsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7SUFDcEIsTUFBTUEsS0FBSztFQUNmO0FBQ0osQ0FBQztBQUFBRSxPQUFBLENBQUFtQyxvQkFBQSxHQUFBQSxvQkFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_authMiddleware","require","_productModel","getProductListPage","req","res","sessionData","getSessionData","redirect","usernameSession","roleSession","page","parseInt","query","limit","offset","products","getProductListData","totalProducts","getTotalProducts","totalPages","Math","ceil","render","title","deleteErrorMessage","deleteSuccessMessage","currentPage","error","console","exports","getEditProductPage","productname","params","product","getDetailProductData","updateErrorMessage","updateSuccessMessage","updateProduct","productName","productDescription","productPrice","body","status","send","updateResult","updateProductModel","productDetails","username","user","getProducts","formattedProducts","map","name","description","price","quantity","created_at","updated_at","getAddProductPage","errorMessage","successMessage","createProduct","result","addProduct","getDetailProductPage"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\controllers\\","sources":["productController.js"],"sourcesContent":["import { getSessionData } from \"../middleware/authMiddleware\"\r\nimport { addProduct, getTotalProducts } from \"../model/productModel\"\r\nimport { getProducts } from \"../model/productModel\"\r\nimport { getDetailProductData } from \"../model/productModel\"\r\n\r\n\r\nexport const getProductListPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req);\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login');\r\n        }\r\n        const { usernameSession, roleSession } = sessionData;\r\n\r\n        const page = parseInt(req.query.page) || 1;\r\n        const limit = 10;\r\n        const offset = (page - 1) * limit;\r\n\r\n        const products = await getProductListData(offset, limit);\r\n        const totalProducts = await getTotalProducts();\r\n        const totalPages = Math.ceil(totalProducts / limit);\r\n\r\n        res.render('layout', {\r\n            page: 'pages/listProduct',\r\n            title: 'Danh sách sản phẩm',\r\n            deleteErrorMessage: '',\r\n            deleteSuccessMessage: '',\r\n            products: products,\r\n            currentPage: page,\r\n            totalPages,\r\n            offset,\r\n            usernameSession,\r\n            roleSession,\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const getEditProductPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req)\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login')\r\n        }\r\n        const { usernameSession, roleSession } = sessionData\r\n\r\n        const { productname } = req.params\r\n        const product = await getDetailProductData(productname)\r\n        return res.render('layout', { \r\n            page: 'pages/editProduct',\r\n            title: 'Thay đổi thông tin sản phẩm',\r\n            updateErrorMessage: '',\r\n            updateSuccessMessage: '',\r\n            product: product,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error\r\n    }\r\n}\r\n\r\nexport const updateProduct = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n\r\n    let { productName, productDescription, productPrice } = req.body\r\n\r\n    if (!productName || !productDescription || !productPrice) {\r\n        return res.status(400).send('Thiếu thông tin cần thiết')\r\n    }\r\n\r\n    const updateResult = await updateProductModel(productName, productDescription, productPrice)\r\n    const productDetails = await getDetailProductData(username)\r\n\r\n    if (!updateResult) {\r\n        return res.render('layout', { \r\n            page: 'pages/editProduct', \r\n            title: 'Chi tiết sản phẩm', \r\n            updateErrorMessage: 'Có lỗi xảy ra khi cập nhật', \r\n            updateSuccessMessage: '', \r\n            product: productDetails,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    }\r\n\r\n    return res.render('layout', { \r\n        page: 'pages/editProduct', \r\n        title: 'Chi tiết sản phẩm', \r\n        updateErrorMessage: '', \r\n        updateSuccessMessage: 'Cập nhật thành công', \r\n        user: productDetails,\r\n        usernameSession,\r\n        roleSession\r\n    })\r\n}\r\n\r\nexport const getProductListData = async (offset, limit) => {\r\n    const products = await getProducts(offset, limit);\r\n    const formattedProducts = products.map(product => {\r\n        return {\r\n            name: product.name,\r\n            description: product.description,\r\n            price: product.price,\r\n            quantity: product.quantity,\r\n            created_at: product.created_at,\r\n            updated_at: product.updated_at\r\n        };\r\n    });\r\n    \r\n    return formattedProducts;\r\n};\r\n\r\nexport const getAddProductPage = async (req, res) => {\r\n    try {\r\n        const sessionData = getSessionData(req);\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login');\r\n        }\r\n        const { usernameSession, roleSession } = sessionData;\r\n\r\n        res.render('layout', {\r\n            page: 'pages/newProduct',\r\n            title: 'Thêm sản phẩm',\r\n            errorMessage: '',\r\n            successMessage: '',\r\n            usernameSession,\r\n            roleSession,\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const createProduct = async (req, res) => {\r\n    const sessionData = getSessionData(req)\r\n\r\n    if (!sessionData) {\r\n        return res.redirect('/login')\r\n    }\r\n    const { usernameSession, roleSession } = sessionData\r\n    \r\n    const { productName, productDescription, productPrice } = req.body\r\n    const result = await addProduct(productName, productDescription, productPrice)\r\n\r\n    if (!result) {\r\n        return res.render('layout', {\r\n            page: 'pages/newProduct',\r\n            title: 'Thêm sản phẩm',\r\n            errorMessage: 'Thêm sản phẩm thất bại vui lòng thử lại!',\r\n            successMessage: '',\r\n            usernameSession,\r\n            roleSession,\r\n        })\r\n    }\r\n\r\n    return res.render('layout', {\r\n        page: 'pages/newProduct',\r\n        title: 'Thêm sản phẩm',\r\n        errorMessage: '',\r\n        successMessage: 'Thêm sản phẩm thành công',\r\n        usernameSession,\r\n        roleSession,\r\n    })\r\n}\r\n\r\nexport const getDetailProductPage = async (req, res) => {\r\n    try {\r\n        const { productname } = req.params\r\n        const product = await getDetailProductData(productname)\r\n\r\n        const sessionData = getSessionData(req)\r\n\r\n        if (!sessionData) {\r\n            return res.redirect('/login')\r\n        }\r\n        const { usernameSession, roleSession } = sessionData\r\n\r\n        res.render('layout', { \r\n            page: 'pages/detailProduct',\r\n            title: 'Chi tiết sản phẩm',\r\n            errorMessage: '',\r\n            product: product,\r\n            usernameSession,\r\n            roleSession\r\n        })\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error\r\n    }\r\n}"],"mappings":";;;;;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AAKO,MAAME,kBAAkB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAClD,IAAI;IACA,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;IAEvC,IAAI,CAACE,WAAW,EAAE;MACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;IACjC;IACA,MAAM;MAAEC,eAAe;MAAEC;IAAY,CAAC,GAAGJ,WAAW;IAEpD,MAAMK,IAAI,GAAGC,QAAQ,CAACR,GAAG,CAACS,KAAK,CAACF,IAAI,CAAC,IAAI,CAAC;IAC1C,MAAMG,KAAK,GAAG,EAAE;IAChB,MAAMC,MAAM,GAAG,CAACJ,IAAI,GAAG,CAAC,IAAIG,KAAK;IAEjC,MAAME,QAAQ,GAAG,MAAMC,kBAAkB,CAACF,MAAM,EAAED,KAAK,CAAC;IACxD,MAAMI,aAAa,GAAG,MAAM,IAAAC,8BAAgB,EAAC,CAAC;IAC9C,MAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,aAAa,GAAGJ,KAAK,CAAC;IAEnDT,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;MACjBZ,IAAI,EAAE,mBAAmB;MACzBa,KAAK,EAAE,oBAAoB;MAC3BC,kBAAkB,EAAE,EAAE;MACtBC,oBAAoB,EAAE,EAAE;MACxBV,QAAQ,EAAEA,QAAQ;MAClBW,WAAW,EAAEhB,IAAI;MACjBS,UAAU;MACVL,MAAM;MACNN,eAAe;MACfC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC;AAAAE,OAAA,CAAA3B,kBAAA,GAAAA,kBAAA;AAEM,MAAM4B,kBAAkB,GAAG,MAAAA,CAAO3B,GAAG,EAAEC,GAAG,KAAK;EAClD,IAAI;IACA,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;IAEvC,IAAI,CAACE,WAAW,EAAE;MACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;IACjC;IACA,MAAM;MAAEC,eAAe;MAAEC;IAAY,CAAC,GAAGJ,WAAW;IAEpD,MAAM;MAAE0B;IAAY,CAAC,GAAG5B,GAAG,CAAC6B,MAAM;IAClC,MAAMC,OAAO,GAAG,MAAM,IAAAC,kCAAoB,EAACH,WAAW,CAAC;IACvD,OAAO3B,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;MACxBZ,IAAI,EAAE,mBAAmB;MACzBa,KAAK,EAAE,6BAA6B;MACpCY,kBAAkB,EAAE,EAAE;MACtBC,oBAAoB,EAAE,EAAE;MACxBH,OAAO,EAAEA,OAAO;MAChBzB,eAAe;MACfC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACf;AACJ,CAAC;AAAAE,OAAA,CAAAC,kBAAA,GAAAA,kBAAA;AAEM,MAAMO,aAAa,GAAG,MAAAA,CAAOlC,GAAG,EAAEC,GAAG,KAAK;EAC7C,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;EACjC;EACA,MAAM;IAAEC,eAAe;IAAEC;EAAY,CAAC,GAAGJ,WAAW;EAEpD,IAAI;IAAEiC,WAAW;IAAEC,kBAAkB;IAAEC;EAAa,CAAC,GAAGrC,GAAG,CAACsC,IAAI;EAEhE,IAAI,CAACH,WAAW,IAAI,CAACC,kBAAkB,IAAI,CAACC,YAAY,EAAE;IACtD,OAAOpC,GAAG,CAACsC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,2BAA2B,CAAC;EAC5D;EAEA,MAAMC,YAAY,GAAG,MAAMC,kBAAkB,CAACP,WAAW,EAAEC,kBAAkB,EAAEC,YAAY,CAAC;EAC5F,MAAMM,cAAc,GAAG,MAAM,IAAAZ,kCAAoB,EAACa,QAAQ,CAAC;EAE3D,IAAI,CAACH,YAAY,EAAE;IACf,OAAOxC,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;MACxBZ,IAAI,EAAE,mBAAmB;MACzBa,KAAK,EAAE,mBAAmB;MAC1BY,kBAAkB,EAAE,4BAA4B;MAChDC,oBAAoB,EAAE,EAAE;MACxBH,OAAO,EAAEa,cAAc;MACvBtC,eAAe;MACfC;IACJ,CAAC,CAAC;EACN;EAEA,OAAOL,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;IACxBZ,IAAI,EAAE,mBAAmB;IACzBa,KAAK,EAAE,mBAAmB;IAC1BY,kBAAkB,EAAE,EAAE;IACtBC,oBAAoB,EAAE,qBAAqB;IAC3CY,IAAI,EAAEF,cAAc;IACpBtC,eAAe;IACfC;EACJ,CAAC,CAAC;AACN,CAAC;AAAAoB,OAAA,CAAAQ,aAAA,GAAAA,aAAA;AAEM,MAAMrB,kBAAkB,GAAG,MAAAA,CAAOF,MAAM,EAAED,KAAK,KAAK;EACvD,MAAME,QAAQ,GAAG,MAAM,IAAAkC,yBAAW,EAACnC,MAAM,EAAED,KAAK,CAAC;EACjD,MAAMqC,iBAAiB,GAAGnC,QAAQ,CAACoC,GAAG,CAAClB,OAAO,IAAI;IAC9C,OAAO;MACHmB,IAAI,EAAEnB,OAAO,CAACmB,IAAI;MAClBC,WAAW,EAAEpB,OAAO,CAACoB,WAAW;MAChCC,KAAK,EAAErB,OAAO,CAACqB,KAAK;MACpBC,QAAQ,EAAEtB,OAAO,CAACsB,QAAQ;MAC1BC,UAAU,EAAEvB,OAAO,CAACuB,UAAU;MAC9BC,UAAU,EAAExB,OAAO,CAACwB;IACxB,CAAC;EACL,CAAC,CAAC;EAEF,OAAOP,iBAAiB;AAC5B,CAAC;AAACrB,OAAA,CAAAb,kBAAA,GAAAA,kBAAA;AAEK,MAAM0C,iBAAiB,GAAG,MAAAA,CAAOvD,GAAG,EAAEC,GAAG,KAAK;EACjD,IAAI;IACA,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;IAEvC,IAAI,CAACE,WAAW,EAAE;MACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;IACjC;IACA,MAAM;MAAEC,eAAe;MAAEC;IAAY,CAAC,GAAGJ,WAAW;IAEpDD,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;MACjBZ,IAAI,EAAE,kBAAkB;MACxBa,KAAK,EAAE,eAAe;MACtBoC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE,EAAE;MAClBpD,eAAe;MACfC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC;AAAAE,OAAA,CAAA6B,iBAAA,GAAAA,iBAAA;AAEM,MAAMG,aAAa,GAAG,MAAAA,CAAO1D,GAAG,EAAEC,GAAG,KAAK;EAC7C,MAAMC,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;EAEvC,IAAI,CAACE,WAAW,EAAE;IACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;EACjC;EACA,MAAM;IAAEC,eAAe;IAAEC;EAAY,CAAC,GAAGJ,WAAW;EAEpD,MAAM;IAAEiC,WAAW;IAAEC,kBAAkB;IAAEC;EAAa,CAAC,GAAGrC,GAAG,CAACsC,IAAI;EAClE,MAAMqB,MAAM,GAAG,MAAM,IAAAC,wBAAU,EAACzB,WAAW,EAAEC,kBAAkB,EAAEC,YAAY,CAAC;EAE9E,IAAI,CAACsB,MAAM,EAAE;IACT,OAAO1D,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;MACxBZ,IAAI,EAAE,kBAAkB;MACxBa,KAAK,EAAE,eAAe;MACtBoC,YAAY,EAAE,0CAA0C;MACxDC,cAAc,EAAE,EAAE;MAClBpD,eAAe;MACfC;IACJ,CAAC,CAAC;EACN;EAEA,OAAOL,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;IACxBZ,IAAI,EAAE,kBAAkB;IACxBa,KAAK,EAAE,eAAe;IACtBoC,YAAY,EAAE,EAAE;IAChBC,cAAc,EAAE,0BAA0B;IAC1CpD,eAAe;IACfC;EACJ,CAAC,CAAC;AACN,CAAC;AAAAoB,OAAA,CAAAgC,aAAA,GAAAA,aAAA;AAEM,MAAMG,oBAAoB,GAAG,MAAAA,CAAO7D,GAAG,EAAEC,GAAG,KAAK;EACpD,IAAI;IACA,MAAM;MAAE2B;IAAY,CAAC,GAAG5B,GAAG,CAAC6B,MAAM;IAClC,MAAMC,OAAO,GAAG,MAAM,IAAAC,kCAAoB,EAACH,WAAW,CAAC;IAEvD,MAAM1B,WAAW,GAAG,IAAAC,8BAAc,EAACH,GAAG,CAAC;IAEvC,IAAI,CAACE,WAAW,EAAE;MACd,OAAOD,GAAG,CAACG,QAAQ,CAAC,QAAQ,CAAC;IACjC;IACA,MAAM;MAAEC,eAAe;MAAEC;IAAY,CAAC,GAAGJ,WAAW;IAEpDD,GAAG,CAACkB,MAAM,CAAC,QAAQ,EAAE;MACjBZ,IAAI,EAAE,qBAAqB;MAC3Ba,KAAK,EAAE,mBAAmB;MAC1BoC,YAAY,EAAE,EAAE;MAChB1B,OAAO,EAAEA,OAAO;MAChBzB,eAAe;MACfC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACf;AACJ,CAAC;AAAAE,OAAA,CAAAmC,oBAAA,GAAAA,oBAAA","ignoreList":[]}},"mtime":1731604375329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProductModel = exports.getTotalProducts = exports.getProducts = exports.getDetailProductData = exports.addProduct = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connect = require(\"../connect\");\nconst getProducts = async (offset, limit) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT id, name, description, price, quantity, created_at, updated_at FROM products LIMIT ? OFFSET ?', [limit, offset]);\n    return rows;\n  } catch (error) {\n    console.error('Lỗi khi lấy danh sách sản phẩm:', error);\n    return [];\n  }\n};\nexports.getProducts = getProducts;\nconst getTotalProducts = async () => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT COUNT(*) as count FROM products');\n    return rows[0].count;\n  } catch (error) {\n    console.error('Lỗi khi lấy tổng số người dùng:', error);\n    return 0;\n  }\n};\nexports.getTotalProducts = getTotalProducts;\nconst addProduct = async (productName, productDescription, productPrice) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [result] = await connection.execute('INSERT INTO products (name, description, price) VALUES (?, ?, ?)', [productName, productDescription, productPrice]);\n    return result;\n  } catch (error) {\n    console.error('Lỗi khi thêm sản phẩm:', error);\n    throw error;\n  }\n};\nexports.addProduct = addProduct;\nconst getDetailProductData = async productname => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [row] = await connection.execute('SELECT * FROM products WHERE name = ?', [productname]);\n    return row[0];\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.getDetailProductData = getDetailProductData;\nconst updateProductModel = async (username, _ref) => {\n  let {\n    fullname,\n    sex,\n    email,\n    address,\n    groupid\n  } = _ref;\n  try {\n    const connection = await (0, _connect.connect)();\n    const query = \"\\n            UPDATE users \\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \\n            WHERE username = ?\";\n    const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, username]);\n    return result.affectedRows > 0;\n  } catch (error) {\n    console.error('Lỗi khi cập nhật người dùng:', error);\n    return false;\n  }\n};\nexports.updateProductModel = updateProductModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdCIsInJlcXVpcmUiLCJnZXRQcm9kdWN0cyIsIm9mZnNldCIsImxpbWl0IiwiY29ubmVjdGlvbiIsImNvbm5lY3QiLCJyb3dzIiwiZXhlY3V0ZSIsImVycm9yIiwiY29uc29sZSIsImV4cG9ydHMiLCJnZXRUb3RhbFByb2R1Y3RzIiwiY291bnQiLCJhZGRQcm9kdWN0IiwicHJvZHVjdE5hbWUiLCJwcm9kdWN0RGVzY3JpcHRpb24iLCJwcm9kdWN0UHJpY2UiLCJyZXN1bHQiLCJnZXREZXRhaWxQcm9kdWN0RGF0YSIsInByb2R1Y3RuYW1lIiwicm93IiwidXBkYXRlUHJvZHVjdE1vZGVsIiwidXNlcm5hbWUiLCJfcmVmIiwiZnVsbG5hbWUiLCJzZXgiLCJlbWFpbCIsImFkZHJlc3MiLCJncm91cGlkIiwicXVlcnkiLCJhZmZlY3RlZFJvd3MiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXG1vZGVsXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAnLi4vY29ubmVjdCdcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0cyA9IGFzeW5jIChvZmZzZXQsIGxpbWl0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXHJcbiAgICAgICAgICAgICdTRUxFQ1QgaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSwgcXVhbnRpdHksIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQgRlJPTSBwcm9kdWN0cyBMSU1JVCA/IE9GRlNFVCA/JyxcclxuICAgICAgICAgICAgW2xpbWl0LCBvZmZzZXRdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIHPhuqNuIHBo4bqpbTonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUb3RhbFByb2R1Y3RzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gcHJvZHVjdHMnKVxyXG4gICAgICAgIHJldHVybiByb3dzWzBdLmNvdW50XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSB04buVbmcgc+G7kSBuZ8aw4budaSBkw7luZzonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gMFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYWRkUHJvZHVjdCA9IGFzeW5jIChwcm9kdWN0TmFtZSwgcHJvZHVjdERlc2NyaXB0aW9uLCBwcm9kdWN0UHJpY2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKVxyXG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAnSU5TRVJUIElOVE8gcHJvZHVjdHMgKG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSkgVkFMVUVTICg/LCA/LCA/KScsIFxyXG4gICAgICAgICAgICBbcHJvZHVjdE5hbWUsIHByb2R1Y3REZXNjcmlwdGlvbiwgcHJvZHVjdFByaWNlXVxyXG4gICAgICAgIClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSB0aMOqbSBz4bqjbiBwaOG6qW06JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERldGFpbFByb2R1Y3REYXRhID0gYXN5bmMgKHByb2R1Y3RuYW1lKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBbcm93XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBuYW1lID0gPycsIFtwcm9kdWN0bmFtZV0pXHJcbiAgICAgICAgcmV0dXJuIHJvd1swXVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0TW9kZWwgPSBhc3luYyAodXNlcm5hbWUsIHsgZnVsbG5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQgfSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpXHJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgXHJcbiAgICAgICAgICAgIFVQREFURSB1c2VycyBcclxuICAgICAgICAgICAgU0VUIGZ1bGxuYW1lID0gPywgc2V4ID0gPywgZW1haWwgPSA/LCBhZGRyZXNzID0gPywgZ3JvdXBpZCA9ID8gXHJcbiAgICAgICAgICAgIFdIRVJFIHVzZXJuYW1lID0gP2BcclxuICAgICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgW2Z1bGxuYW1lLCBzZXgsIGVtYWlsLCBhZGRyZXNzLCBncm91cGlkLCB1c2VybmFtZV0pXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5hZmZlY3RlZFJvd3MgPiAwXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBj4bqtcCBuaOG6rXQgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBRU8sTUFBTUMsV0FBVyxHQUFHLE1BQUFBLENBQU9DLE1BQU0sRUFBRUMsS0FBSyxLQUFLO0VBQ2hELElBQUk7SUFDQSxNQUFNQyxVQUFVLEdBQUcsTUFBTSxJQUFBQyxnQkFBTyxFQUFDLENBQUM7SUFDbEMsTUFBTSxDQUFDQyxJQUFJLENBQUMsR0FBRyxNQUFNRixVQUFVLENBQUNHLE9BQU8sQ0FDbkMsc0dBQXNHLEVBQ3RHLENBQUNKLEtBQUssRUFBRUQsTUFBTSxDQUNsQixDQUFDO0lBQ0QsT0FBT0ksSUFBSTtFQUNmLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMsaUNBQWlDLEVBQUVBLEtBQUssQ0FBQztJQUN2RCxPQUFPLEVBQUU7RUFDYjtBQUNKLENBQUM7QUFBQUUsT0FBQSxDQUFBVCxXQUFBLEdBQUFBLFdBQUE7QUFFTSxNQUFNVSxnQkFBZ0IsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDeEMsSUFBSTtJQUNBLE1BQU1QLFVBQVUsR0FBRyxNQUFNLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztJQUNsQyxNQUFNLENBQUNDLElBQUksQ0FBQyxHQUFHLE1BQU1GLFVBQVUsQ0FBQ0csT0FBTyxDQUFDLHdDQUF3QyxDQUFDO0lB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","map":{"version":3,"names":["_connect","require","getProducts","offset","limit","connection","connect","rows","execute","error","console","exports","getTotalProducts","count","addProduct","productName","productDescription","productPrice","result","getDetailProductData","productname","row","updateProductModel","username","_ref","fullname","sex","email","address","groupid","query","affectedRows"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\model\\","sources":["productModel.js"],"sourcesContent":["import { connect } from '../connect'\r\n\r\nexport const getProducts = async (offset, limit) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute(\r\n            'SELECT id, name, description, price, quantity, created_at, updated_at FROM products LIMIT ? OFFSET ?',\r\n            [limit, offset]\r\n        )\r\n        return rows\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy danh sách sản phẩm:', error)\r\n        return [];\r\n    }\r\n}\r\n\r\nexport const getTotalProducts = async () => {\r\n    try {\r\n        const connection = await connect();\r\n        const [rows] = await connection.execute('SELECT COUNT(*) as count FROM products')\r\n        return rows[0].count\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy tổng số người dùng:', error)\r\n        return 0\r\n    }\r\n}\r\n\r\nexport const addProduct = async (productName, productDescription, productPrice) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [result] = await connection.execute(\r\n            'INSERT INTO products (name, description, price) VALUES (?, ?, ?)', \r\n            [productName, productDescription, productPrice]\r\n        )\r\n        return result\r\n    } catch (error) {\r\n        console.error('Lỗi khi thêm sản phẩm:', error)\r\n        throw error\r\n    }\r\n}\r\n\r\nexport const getDetailProductData = async (productname) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [row] = await connection.execute('SELECT * FROM products WHERE name = ?', [productname])\r\n        return row[0]\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error\r\n    }\r\n}\r\n\r\nexport const updateProductModel = async (username, { fullname, sex, email, address, groupid }) => {\r\n    try {\r\n        const connection = await connect()\r\n        const query = `\r\n            UPDATE users \r\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \r\n            WHERE username = ?`\r\n        const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, username])\r\n        return result.affectedRows > 0\r\n    } catch (error) {\r\n        console.error('Lỗi khi cập nhật người dùng:', error)\r\n        return false\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1731604355578},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"filename\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\\\\model\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\GiaHung\\\\Năm 4\\\\Học kỳ I\\\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\\\Thực hành\\\\thuchanh_es6_buoi3\\\\bt1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.25.7:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProductModel = exports.getTotalProducts = exports.getProducts = exports.getDetailProductData = exports.addProduct = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connect = require(\"../connect\");\nconst getProducts = async (offset, limit) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT id, name, description, price, quantity, created_at, updated_at FROM products LIMIT ? OFFSET ?', [limit, offset]);\n    return rows;\n  } catch (error) {\n    console.error('Lỗi khi lấy danh sách sản phẩm:', error);\n    return [];\n  }\n};\nexports.getProducts = getProducts;\nconst getTotalProducts = async () => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [rows] = await connection.execute('SELECT COUNT(*) as count FROM products');\n    return rows[0].count;\n  } catch (error) {\n    console.error('Lỗi khi lấy tổng số người dùng:', error);\n    return 0;\n  }\n};\nexports.getTotalProducts = getTotalProducts;\nconst addProduct = async (productName, productDescription, productPrice) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [result] = await connection.execute('INSERT INTO products (name, description, price) VALUES (?, ?, ?)', [productName, productDescription, productPrice]);\n    return result;\n  } catch (error) {\n    console.error('Lỗi khi thêm sản phẩm:', error);\n    throw error;\n  }\n};\nexports.addProduct = addProduct;\nconst getDetailProductData = async productname => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const [row] = await connection.execute('SELECT * FROM products WHERE name = ?', [productname]);\n    return row[0];\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.getDetailProductData = getDetailProductData;\nconst updateProductModel = async (productName, productDescription, productPrice) => {\n  try {\n    const connection = await (0, _connect.connect)();\n    const query = \"\\n            UPDATE users \\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \\n            WHERE username = ?\";\n    const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, productName]);\n    return result.affectedRows > 0;\n  } catch (error) {\n    console.error('Lỗi khi cập nhật người dùng:', error);\n    return false;\n  }\n};\nexports.updateProductModel = updateProductModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdCIsInJlcXVpcmUiLCJnZXRQcm9kdWN0cyIsIm9mZnNldCIsImxpbWl0IiwiY29ubmVjdGlvbiIsImNvbm5lY3QiLCJyb3dzIiwiZXhlY3V0ZSIsImVycm9yIiwiY29uc29sZSIsImV4cG9ydHMiLCJnZXRUb3RhbFByb2R1Y3RzIiwiY291bnQiLCJhZGRQcm9kdWN0IiwicHJvZHVjdE5hbWUiLCJwcm9kdWN0RGVzY3JpcHRpb24iLCJwcm9kdWN0UHJpY2UiLCJyZXN1bHQiLCJnZXREZXRhaWxQcm9kdWN0RGF0YSIsInByb2R1Y3RuYW1lIiwicm93IiwidXBkYXRlUHJvZHVjdE1vZGVsIiwicXVlcnkiLCJmdWxsbmFtZSIsInNleCIsImVtYWlsIiwiYWRkcmVzcyIsImdyb3VwaWQiLCJhZmZlY3RlZFJvd3MiXSwic291cmNlUm9vdCI6IkQ6XFxHaWFIdW5nXFxOxINtIDRcXEjhu41jIGvhu7MgSVxcTOG6rXAgdHLDrG5oIHdlYiBuw6JuZyBjYW8gLSBOZ3V54buFbiBUaOG7iyBI4buTbmcgWeG6v25cXFRo4buxYyBow6BuaFxcdGh1Y2hhbmhfZXM2X2J1b2kzXFxidDFcXG1vZGVsXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAnLi4vY29ubmVjdCdcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0cyA9IGFzeW5jIChvZmZzZXQsIGxpbWl0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXHJcbiAgICAgICAgICAgICdTRUxFQ1QgaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSwgcXVhbnRpdHksIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQgRlJPTSBwcm9kdWN0cyBMSU1JVCA/IE9GRlNFVCA/JyxcclxuICAgICAgICAgICAgW2xpbWl0LCBvZmZzZXRdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByb3dzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIHPhuqNuIHBo4bqpbTonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUb3RhbFByb2R1Y3RzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gcHJvZHVjdHMnKVxyXG4gICAgICAgIHJldHVybiByb3dzWzBdLmNvdW50XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSB04buVbmcgc+G7kSBuZ8aw4budaSBkw7luZzonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gMFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYWRkUHJvZHVjdCA9IGFzeW5jIChwcm9kdWN0TmFtZSwgcHJvZHVjdERlc2NyaXB0aW9uLCBwcm9kdWN0UHJpY2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoKVxyXG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxyXG4gICAgICAgICAgICAnSU5TRVJUIElOVE8gcHJvZHVjdHMgKG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSkgVkFMVUVTICg/LCA/LCA/KScsIFxyXG4gICAgICAgICAgICBbcHJvZHVjdE5hbWUsIHByb2R1Y3REZXNjcmlwdGlvbiwgcHJvZHVjdFByaWNlXVxyXG4gICAgICAgIClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSB0aMOqbSBz4bqjbiBwaOG6qW06JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERldGFpbFByb2R1Y3REYXRhID0gYXN5bmMgKHByb2R1Y3RuYW1lKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBbcm93XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwcm9kdWN0cyBXSEVSRSBuYW1lID0gPycsIFtwcm9kdWN0bmFtZV0pXHJcbiAgICAgICAgcmV0dXJuIHJvd1swXVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0TW9kZWwgPSBhc3luYyAocHJvZHVjdE5hbWUsIHByb2R1Y3REZXNjcmlwdGlvbiwgcHJvZHVjdFByaWNlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBjb25uZWN0KClcclxuICAgICAgICBjb25zdCBxdWVyeSA9IGBcclxuICAgICAgICAgICAgVVBEQVRFIHVzZXJzIFxyXG4gICAgICAgICAgICBTRVQgZnVsbG5hbWUgPSA/LCBzZXggPSA/LCBlbWFpbCA9ID8sIGFkZHJlc3MgPSA/LCBncm91cGlkID0gPyBcclxuICAgICAgICAgICAgV0hFUkUgdXNlcm5hbWUgPSA/YFxyXG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBbZnVsbG5hbWUsIHNleCwgZW1haWwsIGFkZHJlc3MsIGdyb3VwaWQsIHByb2R1Y3ROYW1lXSlcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmFmZmVjdGVkUm93cyA+IDBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGPhuq1wIG5o4bqtdCBuZ8aw4budaSBkw7luZzonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFFTyxNQUFNQyxXQUFXLEdBQUcsTUFBQUEsQ0FBT0MsTUFBTSxFQUFFQyxLQUFLLEtBQUs7RUFDaEQsSUFBSTtJQUNBLE1BQU1DLFVBQVUsR0FBRyxNQUFNLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztJQUNsQyxNQUFNLENBQUNDLElBQUksQ0FBQyxHQUFHLE1BQU1GLFVBQVUsQ0FBQ0csT0FBTyxDQUNuQyxzR0FBc0csRUFDdEcsQ0FBQ0osS0FBSyxFQUFFRCxNQUFNLENBQ2xCLENBQUM7SUFDRCxPQUFPSSxJQUFJO0VBQ2YsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyxpQ0FBaUMsRUFBRUEsS0FBSyxDQUFDO0lBQ3ZELE9BQU8sRUFBRTtFQUNiO0FBQ0osQ0FBQztBQUFBRSxPQUFBLENBQUFULFdBQUEsR0FBQUEsV0FBQTtBQUVNLE1BQU1VLGdCQUFnQixHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUN4QyxJQUFJO0lBQ0EsTUFBTVAsVUFBVSxHQUFHLE1BQU0sSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0lBQ2xDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsTUFBTUYsVUFBVSxDQUFDRyxPQUFPLENBQUMsd0NBQXdDLENBQUM7SUFDakYsT0FBT0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDTSxLQUFLO0VBQ3hCLENBQUMsQ0FBQyxPQUFPSixLQUFLLEVBQUU7SUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUMsaUNBQWlDLEVBQUVBLEtBQUssQ0FBQztJQUN2RCxPQUFPLENBQUM7RUFDWjtBQUNKLENBQUM7QUFBQUUsT0FBQSxDQUFBQyxnQkFBQSxHQUFBQSxnQkFBQTtBQUVNLE1BQU1FLFVBQVUsR0FBRyxNQUFBQSxDQUFPQyxXQUFXLEVBQUVDLGtCQUFrQixFQUFFQyxZQUFZLEtBQUs7RUFDL0UsSUFBSTtJQUNBLE1BQU1aLFVBQVUsR0FBRyxNQUFNLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztJQUNsQyxNQUFNLENBQUNZLE1BQU0sQ0FBQyxHQUFHLE1BQU1iLFVBQVUsQ0FBQ0csT0FBTyxDQUNyQyxrRUFBa0UsRUFDbEUsQ0FBQ08sV0FBVyxFQUFFQyxrQkFBa0IsRUFBRUMsWUFBWSxDQUNsRCxDQUFDO0lBQ0QsT0FBT0MsTUFBTTtFQUNqQixDQUFDLENBQUMsT0FBT1QsS0FBSyxFQUFFO0lBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHdCQUF3QixFQUFFQSxLQUFLLENBQUM7SUFDOUMsTUFBTUEsS0FBSztFQUNmO0FBQ0osQ0FBQztBQUFBRSxPQUFBLENBQUFHLFVBQUEsR0FBQUEsVUFBQTtBQUVNLE1BQU1LLG9CQUFvQixHQUFHLE1BQU9DLFdBQVcsSUFBSztFQUN2RCxJQUFJO0lBQ0EsTUFBTWYsVUFBVSxHQUFHLE1BQU0sSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0lBQ2xDLE1BQU0sQ0FBQ2UsR0FBRyxDQUFDLEdBQUcsTUFBTWhCLFVBQVUsQ0FBQ0csT0FBTyxDQUFDLHVDQUF1QyxFQUFFLENBQUNZLFdBQVcsQ0FBQyxDQUFDO0lBQzlGLE9BQU9DLEdBQUcsQ0FBQyxDQUFDLENBQUM7RUFDakIsQ0FBQyxDQUFDLE9BQU9aLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQ0EsS0FBSyxDQUFDO0lBQ3BCLE1BQU1BLEtBQUs7RUFDZjtBQUNKLENBQUM7QUFBQUUsT0FBQSxDQUFBUSxvQkFBQSxHQUFBQSxvQkFBQTtBQUVNLE1BQU1HLGtCQUFrQixHQUFHLE1BQUFBLENBQU9QLFdBQVcsRUFBRUMsa0JBQWtCLEVBQUVDLFlBQVksS0FBSztFQUN2RixJQUFJO0lBQ0EsTUFBTVosVUFBVSxHQUFHLE1BQU0sSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0lBQ2xDLE1BQU1pQixLQUFLLDZJQUdZO0lBQ3ZCLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDLEdBQUcsTUFBTWIsVUFBVSxDQUFDRyxPQUFPLENBQUNlLEtBQUssRUFBRSxDQUFDQyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRWIsV0FBVyxDQUFDLENBQUM7SUFDdkcsT0FBT0csTUFBTSxDQUFDVyxZQUFZLEdBQUcsQ0FBQztFQUNsQyxDQUFDLENBQUMsT0FBT3BCLEtBQUssRUFBRTtJQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQyw4QkFBOEIsRUFBRUEsS0FBSyxDQUFDO0lBQ3BELE9BQU8sS0FBSztFQUNoQjtBQUNKLENBQUM7QUFBQUUsT0FBQSxDQUFBVyxrQkFBQSxHQUFBQSxrQkFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_connect","require","getProducts","offset","limit","connection","connect","rows","execute","error","console","exports","getTotalProducts","count","addProduct","productName","productDescription","productPrice","result","getDetailProductData","productname","row","updateProductModel","query","fullname","sex","email","address","groupid","affectedRows"],"sourceRoot":"D:\\GiaHung\\Năm 4\\Học kỳ I\\Lập trình web nâng cao - Nguyễn Thị Hồng Yến\\Thực hành\\thuchanh_es6_buoi3\\bt1\\model\\","sources":["productModel.js"],"sourcesContent":["import { connect } from '../connect'\r\n\r\nexport const getProducts = async (offset, limit) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [rows] = await connection.execute(\r\n            'SELECT id, name, description, price, quantity, created_at, updated_at FROM products LIMIT ? OFFSET ?',\r\n            [limit, offset]\r\n        )\r\n        return rows\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy danh sách sản phẩm:', error)\r\n        return [];\r\n    }\r\n}\r\n\r\nexport const getTotalProducts = async () => {\r\n    try {\r\n        const connection = await connect();\r\n        const [rows] = await connection.execute('SELECT COUNT(*) as count FROM products')\r\n        return rows[0].count\r\n    } catch (error) {\r\n        console.error('Lỗi khi lấy tổng số người dùng:', error)\r\n        return 0\r\n    }\r\n}\r\n\r\nexport const addProduct = async (productName, productDescription, productPrice) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [result] = await connection.execute(\r\n            'INSERT INTO products (name, description, price) VALUES (?, ?, ?)', \r\n            [productName, productDescription, productPrice]\r\n        )\r\n        return result\r\n    } catch (error) {\r\n        console.error('Lỗi khi thêm sản phẩm:', error)\r\n        throw error\r\n    }\r\n}\r\n\r\nexport const getDetailProductData = async (productname) => {\r\n    try {\r\n        const connection = await connect()\r\n        const [row] = await connection.execute('SELECT * FROM products WHERE name = ?', [productname])\r\n        return row[0]\r\n    } catch (error) {\r\n        console.error(error)\r\n        throw error\r\n    }\r\n}\r\n\r\nexport const updateProductModel = async (productName, productDescription, productPrice) => {\r\n    try {\r\n        const connection = await connect()\r\n        const query = `\r\n            UPDATE users \r\n            SET fullname = ?, sex = ?, email = ?, address = ?, groupid = ? \r\n            WHERE username = ?`\r\n        const [result] = await connection.execute(query, [fullname, sex, email, address, groupid, productName])\r\n        return result.affectedRows > 0\r\n    } catch (error) {\r\n        console.error('Lỗi khi cập nhật người dùng:', error)\r\n        return false\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1731604426871}}